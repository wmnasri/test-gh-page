import{j as s,b as n,a as Es,c as qt}from"./index-BzhTyqaY.js";import{r as A,R as G}from"./index-0X8QCd_i.js";import{s as vt,i as Ee,C as Fs,u as Ue,U as Gt,a as Zt}from"./CapAdress-BFdzaZI9.js";import{am as Wt,an as Yt,d as ne,N as Qt,o as ft,c as is,ao as Jt,ap as Xt,aq as Nt,w as ei,ar as ce,H as ke,as as ht,T as js,n as si,C as ti}from"./react-spring-web.esm-DsMzZgQq.js";import{S as ii,c as ai,a as te}from"./index-Dctip-EM.js";import{a as ee,b as ri,A as wt,u as ni}from"./AxiosInstance-BZZbXQ8a.js";import{r as gt,t as as,R as Ds,K as oi,be as bt,f as we}from"./main-BbuvrTKi.js";import{u as pe}from"./useMutation-DnofRurj.js";import{u as ve,F as $e,a as Vs,O as os,S as J,D as li,b as fs}from"./formik.esm-DgjVmEdT.js";import{u as $}from"./useTranslation-BYGhmYBG.js";import{c as ui,s as mi,a as ci}from"./model-B4-lDszr.js";import{R as di}from"./recaptcha-wrapper-CLWKokWK.js";import{E as pi}from"./process-error-015Ob3qT.js";import{u as Cs}from"./useQuery-DDRZMcvI.js";import{M as jt}from"./index-E8Xemi00.js";import{S as X}from"./index-R4VhrMC6.js";import"./index-m5SwaE3w.js";/* empty css              *//* empty css                         */import{W as vi}from"./wait-TZHAo2WB.js";import{a as Is,u as He}from"./useResponsive-DQBhMvnf.js";import{u as _s}from"./useScrollTo-VXXfg99K.js";import{u as fi}from"./useInterpret-9onZ2Y5J.js";import"./index-BoI371yk.js";import"./index-4p5aklhB.js";import"./throttle-C5YRRb_b.js";import"./_baseIsEqual-DwR-aJgz.js";import"./index-B4MErowZ.js";import"./index-DPR1boKH.js";import"./nonIterableRest-CnCppAvF.js";import"./iframe-CrganuSH.js";import"../sb-preview/runtime.js";import"./index-D1YCTWBN.js";function Ni(e,t){gt(2,arguments);var i=as(e),a=as(t);return i.getTime()>a.getTime()}function hi(e,t){gt(2,arguments);var i=as(e),a=as(t);return i.getTime()<a.getTime()}var wi=function(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var a=i.call(e),r,o=[],l;try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(c){l={error:c}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(l)throw l.error}}return o};function gi(e,t){t===void 0&&(t={});var i=A.useCallback(function(c){var u=c.changed===void 0&&Object.keys(c.children).length;(c.changed||u)&&l(c)},[]),a=fi(e,t,i),r=wi(A.useState(function(){var c=a.machine.initialState;return t.state?ii.create(t.state):c}),2),o=r[0],l=r[1];return[o,a.send,a]}const bi={},Z=G.createContext(bi);function ji({children:e,initParcours:t}){return s.jsxDEV(Z.Provider,{value:{initParcours:t},children:e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/MoveOutContext.jsx",lineNumber:9,columnNumber:5},this)}function Us(e,t,i,a,r){for(t=t.split?t.split("."):t,a=0;a<t.length;a++)e=e?e[t[a]]:r;return e===r?i:e}var Ge="undefined",$s="object",xt="any",St="*",ge="__",rs=typeof process<"u"?process:{};rs.env&&rs.env.NODE_ENV;var ae=typeof window<"u";rs.versions!=null&&rs.versions.node!=null;typeof Deno<"u"&&Deno.core;ae&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));function yt(e,t){return t.charAt(0)[e]()+t.slice(1)}var xi=yt.bind(null,"toUpperCase"),Si=yt.bind(null,"toLowerCase");function yi(e){return Et(e)?xi("null"):typeof e=="object"?Ii(e):Object.prototype.toString.call(e).slice(8,-1)}function ns(e,t){t===void 0&&(t=!0);var i=yi(e);return t?Si(i):i}function Ke(e,t){return typeof t===e}var re=Ke.bind(null,"function"),De=Ke.bind(null,"string"),Se=Ke.bind(null,"undefined"),Ei=Ke.bind(null,"boolean");Ke.bind(null,"symbol");function Et(e){return e===null}function Di(e){return ns(e)==="number"&&!isNaN(e)}function Vi(e){return ns(e)==="array"}function ie(e){if(!Ci(e))return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ci(e){return e&&(typeof e=="object"||e!==null)}function Ii(e){return re(e.constructor)?e.constructor.name:null}function _i(e){return e instanceof Error||De(e.message)&&e.constructor&&Di(e.constructor.stackTraceLimit)}function Dt(e,t){if(typeof t!="object"||Et(t))return!1;if(t instanceof e)return!0;var i=ns(new e(""));if(_i(t))for(;t;){if(ns(t)===i)return!0;t=Object.getPrototypeOf(t)}return!1}Dt.bind(null,TypeError);Dt.bind(null,SyntaxError);function ls(e,t){var i=e instanceof Element||e instanceof HTMLDocument;return i&&t?Ai(e,t):i}function Ai(e,t){return t===void 0&&(t=""),e&&e.nodeName===t.toUpperCase()}function us(e){var t=[].slice.call(arguments,1);return function(){return e.apply(void 0,[].slice.call(arguments).concat(t))}}us(ls,"form");us(ls,"button");us(ls,"input");us(ls,"select");function Hs(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function zi(){if(ae){var e=navigator,t=e.languages;return e.userLanguage||(t&&t.length?t[0]:e.language)}}function Ti(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}function Bi(e){return function(t){for(var i,a=Object.create(null),r=/([^&=]+)=?([^&]*)/g;i=r.exec(t);){var o=Hs(i[1]),l=Hs(i[2]);o.substring(o.length-2)==="[]"?(a[o=o.substring(0,o.length-2)]||(a[o]=[])).push(l):a[o]=l===""||l}for(var c in a){var u=c.split("[");u.length>1&&(Oi(a,u.map(function(m){return m.replace(/[?[\]\\ ]/g,"")}),a[c]),delete a[c])}return a}(function(t){return ae&&window.location.search.substring(1)}())}function Oi(e,t,i){for(var a=t.length-1,r=0;r<a;++r){var o=t[r];if(o==="__proto__"||o==="constructor")break;o in e||(e[o]={}),e=e[o]}e[t[a]]=i}function ms(){for(var e="",t=0,i=4294967295*Math.random()|0;t++<36;){var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],r=15&i;e+=a=="-"||a=="4"?a:(a=="x"?r:3&r|8).toString(16),i=t%8==0?4294967295*Math.random()|0:i>>4}return e}var Ze={},Re="global",_e=ge+"global"+ge,Ae=typeof self===$s&&self.self===self&&self||typeof Ze===$s&&Ze.global===Ze&&Ze||void 0;function be(e){return Ae[_e][e]}function je(e,t){return Ae[_e][e]=t}function Te(e){delete Ae[_e][e]}function Be(e,t,i){var a;try{if(As(e)){var r=window[e];a=r[t].bind(r)}}catch{}return a||i}Ae[_e]||(Ae[_e]={});var We={};function As(e){if(typeof We[e]!==Ge)return We[e];try{var t=window[e];t.setItem(Ge,Ge),t.removeItem(Ge)}catch{return We[e]=!1}return We[e]=!0}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},T.apply(this,arguments)}var me="function",oe="undefined",ki="@@redux/"+Math.random().toString(36),Ks=function(){return typeof Symbol===me&&Symbol.observable||"@@observable"}(),Ye=" != "+me;function Vt(e,t,i){var a;if(typeof t===me&&typeof i===oe&&(i=t,t=void 0),typeof i!==oe){if(typeof i!==me)throw new Error("enhancer"+Ye);return i(Vt)(e,t)}if(typeof e!==me)throw new Error("reducer"+Ye);var r=e,o=t,l=[],c=l,u=!1;function m(){c===l&&(c=l.slice())}function v(){return o}function N(w){if(typeof w!==me)throw new Error("Listener"+Ye);var g=!0;return m(),c.push(w),function(){if(g){g=!1,m();var h=c.indexOf(w);c.splice(h,1)}}}function x(w){if(!ie(w))throw new Error("Act != obj");if(typeof w.type===oe)throw new Error("ActType "+oe);if(u)throw new Error("Dispatch in reducer");try{u=!0,o=r(o,w)}finally{u=!1}for(var g=l=c,h=0;h<g.length;h++)(0,g[h])();return w}return x({type:"@@redux/INIT"}),(a={dispatch:x,subscribe:N,getState:v,replaceReducer:function(w){if(typeof w!==me)throw new Error("next reducer"+Ye);r=w,x({type:"@@redux/INIT"})}})[Ks]=function(){var w,g=N;return(w={subscribe:function(h){if(typeof h!="object")throw new TypeError("Observer != obj");function f(){h.next&&h.next(v())}return f(),{unsubscribe:g(f)}}})[Ks]=function(){return this},w},a}function Ri(e,t){var i=t&&t.type;return"action "+(i&&i.toString()||"?")+"reducer "+e+" returns "+oe}function ze(){var e=[].slice.call(arguments);return e.length===0?function(t){return t}:e.length===1?e[0]:e.reduce(function(t,i){return function(){return t(i.apply(void 0,[].slice.call(arguments)))}})}function Pi(){var e=arguments;return function(t){return function(i,a,r){var o,l=t(i,a,r),c=l.dispatch,u={getState:l.getState,dispatch:function(m){return c(m)}};return o=[].slice.call(e).map(function(m){return m(u)}),T({},l,{dispatch:c=ze.apply(void 0,o)(l.dispatch)})}}}var de=ge+"anon_id",he=ge+"user_id",Ve=ge+"user_traits",ue="userId",ye="anonymousId",ts=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],xs=["name","EVENTS","config","loaded"],z=ts.reduce(function(e,t){return e[t]=t,e},{registerPluginType:function(e){return"registerPlugin:"+e},pluginReadyType:function(e){return"ready:"+e}}),qs=/^utm_/,Gs=/^an_prop_/,Zs=/^an_trait_/;function Mi(e){var t=e.storage.setItem;return function(i){return function(a){return function(r){if(r.type===z.bootstrap){var o=r.params,l=r.user,c=r.persistedUser,u=r.initialUser,m=c.userId===l.userId;c.anonymousId!==l.anonymousId&&t(de,l.anonymousId),m||t(he,l.userId),u.traits&&t(Ve,T({},m&&c.traits?c.traits:{},u.traits));var v=Object.keys(r.params);if(v.length){var N=o.an_uid,x=o.an_event,w=v.reduce(function(g,h){if(h.match(qs)||h.match(/^(d|g)clid/)){var f=h.replace(qs,"");g.campaign[f==="campaign"?"name":f]=o[h]}return h.match(Gs)&&(g.props[h.replace(Gs,"")]=o[h]),h.match(Zs)&&(g.traits[h.replace(Zs,"")]=o[h]),g},{campaign:{},props:{},traits:{}});i.dispatch(T({type:z.params,raw:o},w,N?{userId:N}:{})),N&&setTimeout(function(){return e.identify(N,w.traits)},0),x&&setTimeout(function(){return e.track(x,w.props)},0),Object.keys(w.campaign).length&&i.dispatch({type:z.campaign,campaign:w.campaign})}}return a(r)}}}}function Li(e){return function(t,i){if(t===void 0&&(t={}),i===void 0&&(i={}),i.type===z.setItemEnd){if(i.key===de)return T({},t,{anonymousId:i.value});if(i.key===he)return T({},t,{userId:i.value})}switch(i.type){case z.identify:return Object.assign({},t,{userId:i.userId,traits:T({},t.traits,i.traits)});case z.reset:return[he,de,Ve].forEach(function(a){e.removeItem(a)}),Object.assign({},t,{userId:null,anonymousId:null,traits:{}});default:return t}}}function Ws(e){return{userId:e.getItem(he),anonymousId:e.getItem(de),traits:e.getItem(Ve)}}var Ss=function(e){return ge+"TEMP"+ge+e};function Fi(e){var t=e.storage,i=t.setItem,a=t.removeItem,r=t.getItem;return function(o){return function(l){return function(c){var u=c.userId,m=c.traits,v=c.options;if(c.type===z.reset&&([he,Ve,de].forEach(function(w){a(w)}),[ue,ye,"traits"].forEach(function(w){Te(Ss(w))})),c.type===z.identify){r(de)||i(de,ms());var N=r(he),x=r(Ve)||{};N&&N!==u&&o.dispatch({type:z.userIdChanged,old:{userId:N,traits:x},new:{userId:u,traits:m},options:v}),u&&i(he,u),m&&i(Ve,T({},x,m))}return l(c)}}}}var Oe={};function Ys(e,t){Oe[e]&&re(Oe[e])&&(Oe[e](t),delete Oe[e])}function Ct(e,t,i){return new Promise(function(a,r){return t()?a(e):i<1?r(T({},e,{queue:!0})):new Promise(function(o){return setTimeout(o,10)}).then(function(o){return Ct(e,t,i-10).then(a,r)})})}function It(e,t,i){var a=t(),r=e.getState(),o=r.plugins,l=r.queue,c=r.user;if(!r.context.offline&&l&&l.actions&&l.actions.length){var u=l.actions.reduce(function(v,N,x){return o[N.plugin].loaded?(v.process.push(N),v.processIndex.push(x)):(v.requeue.push(N),v.requeueIndex.push(x)),v},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(u.processIndex&&u.processIndex.length){u.processIndex.forEach(function(v){var N=l.actions[v],x=N.plugin,w=N.payload.type,g=a[x][w];if(g&&re(g)){var h=function(S,j){return S===void 0&&(S={}),j===void 0&&(j={}),[ue,ye].reduce(function(E,b){return S.hasOwnProperty(b)&&j[b]&&j[b]!==S[b]&&(E[b]=j[b]),E},S)}(N.payload,c);g({payload:h,config:o[x].config,instance:i});var f=w+":"+x;e.dispatch(T({},h,{type:f,_:{called:f,from:"queueDrain"}}))}});var m=l.actions.filter(function(v,N){return!~u.processIndex.indexOf(N)});l.actions=m}}}var Ns=function(e){var t=e.data,i=e.action,a=e.instance,r=e.state,o=e.allPlugins,l=e.allMatches,c=e.store,u=e.EVENTS;try{var m=r.plugins,v=r.context,N=i.type,x=N.match(Ce),w=t.exact.map(function(f){return f.pluginName});x&&(w=l.during.map(function(f){return f.pluginName}));var g=function(f,S){return function(j,E,b){var C=E.config,L=E.name,O=L+"."+j.type;b&&(O=b.event);var _=j.type.match(Ce)?function(k,M,K,F,D){return function(V,B){var q=F?F.name:k,W=B&&Fe(B)?B:K;if(F&&(!(W=B&&Fe(B)?B:[k]).includes(k)||W.length!==1))throw new Error("Method "+M+" can only abort "+k+" plugin. "+JSON.stringify(W)+" input valid");return T({},D,{abort:{reason:V,plugins:W,caller:M,_:q}})}}(L,O,S,b,j):function(k,M){return function(){throw new Error(k.type+" action not cancellable. Remove abort in "+M)}}(j,O);return{payload:Ui(j),instance:f,config:C||{},abort:_}}}(a,w),h=t.exact.reduce(function(f,S){var j=S.pluginName,E=S.methodName,b=!1;return E.match(/^initialize/)||E.match(/^reset/)||(b=!m[j].loaded),v.offline&&E.match(/^(page|track|identify)/)&&(b=!0),f[""+j]=b,f},{});return Promise.resolve(t.exact.reduce(function(f,S,j){var E=S.pluginName;return Promise.resolve(f).then(function(b){function C(){return Promise.resolve(b)}var L=function(){if(t.namespaced&&t.namespaced[E])return Promise.resolve(t.namespaced[E].reduce(function(O,_,k){return Promise.resolve(O).then(function(M){return _.method&&re(_.method)?(function(V,B){var q=it(V);if(q&&q.name===B){var W=it(q.method);throw new Error([B+" plugin is calling method "+V,"Plugins cant call self","Use "+q.method+" "+(W?"or "+W.method:"")+" in "+B+" plugin insteadof "+V].join(`
`))}}(_.methodName,_.pluginName),Promise.resolve(_.method({payload:M,instance:a,abort:(K=M,F=E,D=_.pluginName,function(V,B){return T({},K,{abort:{reason:V,plugins:B||[F],caller:N,from:D||F}})}),config:Xs(_.pluginName,m,o),plugins:m})).then(function(V){var B=ie(V)?V:{};return Promise.resolve(T({},M,B))})):M;var K,F,D})},Promise.resolve(i))).then(function(O){b[E]=O});b[E]=i}();return L&&L.then?L.then(C):C()})},Promise.resolve({}))).then(function(f){return Promise.resolve(t.exact.reduce(function(S,j,E){try{var b=t.exact.length===E+1,C=j.pluginName,L=o[C];return Promise.resolve(S).then(function(O){var _=f[C]?f[C]:{};if(x&&(_=O),ws(_,C))return hs({data:_,method:N,instance:a,pluginName:C,store:c}),Promise.resolve(O);if(ws(O,C))return b&&hs({data:O,method:N,instance:a,store:c}),Promise.resolve(O);if(h.hasOwnProperty(C)&&h[C]===!0)return c.dispatch({type:"queue",plugin:C,payload:_,_:{called:"queue",from:"queueMechanism"}}),Promise.resolve(O);var k=g(f[C],o[C]);return Promise.resolve(L[N]({abort:k.abort,payload:_,instance:a,config:Xs(C,m,o),plugins:m})).then(function(M){var K=ie(M)?M:{},F=T({},O,K),D=f[C];if(ws(D,C))hs({data:D,method:N,instance:a,pluginName:C,store:c});else{var V=N+":"+C;(V.match(/:/g)||[]).length<2&&!N.match(Qs)&&!N.match(Js)&&a.dispatch(T({},x?F:_,{type:V,_:{called:V,from:"submethod"}}))}return Promise.resolve(F)})})}catch(O){return Promise.reject(O)}},Promise.resolve(i))).then(function(S){if(!(N.match(Ce)||N.match(/^registerPlugin/)||N.match(Js)||N.match(Qs)||N.match(/^params/)||N.match(/^userIdChanged/))){if(u.plugins.includes(N),S._&&S._.originalAction===N)return S;var j=T({},S,{_:{originalAction:S.type,called:S.type,from:"engineEnd"}});_t(S,t.exact.length)&&!N.match(/End$/)&&(j=T({},j,{type:S.type+"Aborted"})),c.dispatch(j)}return S})})}catch(f){return Promise.reject(f)}},Ce=/Start$/,Qs=/^bootstrap/,Js=/^ready/;function hs(e){var t=e.pluginName,i=e.method+"Aborted"+(t?":"+t:"");e.store.dispatch(T({},e.data,{type:i,_:{called:i,from:"abort"}}))}function Xs(e,t,i){var a=t[e]||i[e];return a&&a.config?a.config:{}}function et(e,t){return t.reduce(function(i,a){return a[e]?i.concat({methodName:e,pluginName:a.name,method:a[e]}):i},[])}function st(e,t){var i=e.replace(Ce,""),a=t?":"+t:"";return[""+e+a,""+i+a,i+"End"+a]}function ws(e,t){var i=e.abort;return!!i&&(i===!0||tt(i,t)||i&&tt(i.plugins,t))}function _t(e,t){var i=e.abort;if(!i)return!1;if(i===!0||De(i))return!0;var a=i.plugins;return Fe(i)&&i.length===t||Fe(a)&&a.length===t}function Fe(e){return Array.isArray(e)}function tt(e,t){return!(!e||!Fe(e))&&e.includes(t)}function it(e){var t=e.match(/(.*):(.*)/);return!!t&&{method:t[1],name:t[2]}}function Ui(e){return Object.keys(e).reduce(function(t,i){return i==="type"||(t[i]=ie(e[i])?Object.assign({},e[i]):e[i]),t},{})}function $i(e,t,i){var a={};return function(r){return function(o){return function(l){try{var c,u=function(b){return c?b:o(N)},m=l.type,v=l.plugins,N=l;if(l.abort)return Promise.resolve(o(l));if(m===z.enablePlugin&&r.dispatch({type:z.initializeStart,plugins:v,disabled:[],fromEnable:!0,meta:l.meta}),m===z.disablePlugin&&setTimeout(function(){return Ys(l.meta.rid,{payload:l})},0),m===z.initializeEnd){var x=t(),w=Object.keys(x),g=w.filter(function(b){return v.includes(b)}).map(function(b){return x[b]}),h=[],f=[],S=l.disabled,j=g.map(function(b){var C=b.name;return Ct(b,b.loaded,1e4).then(function(L){return a[C]||(r.dispatch({type:z.pluginReadyType(C),name:C,events:Object.keys(b).filter(function(O){return!xs.includes(O)})}),a[C]=!0),h=h.concat(C),b}).catch(function(L){if(L instanceof Error)throw new Error(L);return f=f.concat(L.name),L})});Promise.all(j).then(function(b){var C={plugins:h,failed:f,disabled:S};setTimeout(function(){w.length===j.length+S.length&&r.dispatch(T({},{type:z.ready},C))},0)})}var E=function(){if(m!==z.bootstrap)return/^ready:([^:]*)$/.test(m)&&setTimeout(function(){return It(r,t,e)},0),Promise.resolve(function(b,C,L,O,_){try{var k=re(C)?C():C,M=b.type,K=M.replace(Ce,"");if(b._&&b._.called)return Promise.resolve(b);var F=L.getState(),D=(q=k,(W=F.plugins)===void 0&&(W={}),(d=b.options)===void 0&&(d={}),Object.keys(q).filter(function(p){var y=d.plugins||{};return Ei(y[p])?y[p]:y.all!==!1&&(!W[p]||W[p].enabled!==!1)}).map(function(p){return q[p]}));M===z.initializeStart&&b.fromEnable&&(D=Object.keys(F.plugins).filter(function(p){var y=F.plugins[p];return b.plugins.includes(p)&&!y.initialized}).map(function(p){return k[p]}));var V=D.map(function(p){return p.name}),B=function(p,y,P){var I=st(p).map(function(R){return et(R,y)});return y.reduce(function(R,Q){var H=Q.name,Y=st(p,H).map(function(xe){return et(xe,y)}),U=Y[0],se=Y[1],le=Y[2];return U.length&&(R.beforeNS[H]=U),se.length&&(R.duringNS[H]=se),le.length&&(R.afterNS[H]=le),R},{before:I[0],beforeNS:{},during:I[1],duringNS:{},after:I[2],afterNS:{}})}(M,D);return Promise.resolve(Ns({action:b,data:{exact:B.before,namespaced:B.beforeNS},state:F,allPlugins:k,allMatches:B,instance:L,store:O,EVENTS:_})).then(function(p){function y(){var R=function(){if(M.match(Ce))return Promise.resolve(Ns({action:T({},P,{type:K+"End"}),data:{exact:B.after,namespaced:B.afterNS},state:F,allPlugins:k,allMatches:B,instance:L,store:O,EVENTS:_})).then(function(Q){Q.meta&&Q.meta.hasCallback&&Ys(Q.meta.rid,{payload:Q})})}();return R&&R.then?R.then(function(){return p}):p}if(_t(p,V.length))return p;var P,I=function(){if(M!==K)return Promise.resolve(Ns({action:T({},p,{type:K}),data:{exact:B.during,namespaced:B.duringNS},state:F,allPlugins:k,allMatches:B,instance:L,store:O,EVENTS:_})).then(function(R){P=R});P=p}();return I&&I.then?I.then(y):y()})}catch(p){return Promise.reject(p)}var q,W,d}(l,t,e,r,i)).then(function(b){var C=o(b);return c=1,C})}();return Promise.resolve(E&&E.then?E.then(u):u(E))}catch(b){return Promise.reject(b)}}}}}function Hi(e){return function(t){return function(i){return function(a){var r=a.type,o=a.key,l=a.value,c=a.options;if(r===z.setItem||r===z.removeItem){if(a.abort)return i(a);r===z.setItem?e.setItem(o,l,c):e.removeItem(o,c)}return i(a)}}}}var Ki=function(){var e=this;this.before=[],this.after=[],this.addMiddleware=function(t,i){e[i]=e[i].concat(t)},this.removeMiddleware=function(t,i){var a=e[i].findIndex(function(r){return r===t});a!==-1&&(e[i]=[].concat(e[i].slice(0,a),e[i].slice(a+1)))},this.dynamicMiddlewares=function(t){return function(i){return function(a){return function(r){var o={getState:i.getState,dispatch:function(c){return i.dispatch(c)}},l=e[t].map(function(c){return c(o)});return ze.apply(void 0,l)(a)(r)}}}}};function qi(e){return function(t,i){t===void 0&&(t={});var a={};if(i.type==="initialize:aborted")return t;if(/^registerPlugin:([^:]*)$/.test(i.type)){var r=at(i.type,"registerPlugin"),o=e()[r];if(!o||!r)return t;var l=i.enabled;return a[r]={enabled:l,initialized:!!l&&!o.initialize,loaded:!!l&&!!o.loaded(),config:o.config||{}},T({},t,a)}if(/^initialize:([^:]*)$/.test(i.type)){var c=at(i.type,z.initialize),u=e()[c];return u&&c?(a[c]=T({},t[c],{initialized:!0,loaded:!!u.loaded()}),T({},t,a)):t}if(/^ready:([^:]*)$/.test(i.type))return a[i.name]=T({},t[i.name],{loaded:!0}),T({},t,a);switch(i.type){case z.disablePlugin:return T({},t,rt(i.plugins,!1,t));case z.enablePlugin:return T({},t,rt(i.plugins,!0,t));default:return t}}}function at(e,t){return e.substring(t.length+1,e.length)}function rt(e,t,i){return e.reduce(function(a,r){return a[r]=T({},i[r],{enabled:t}),a},i)}function At(e){try{return JSON.parse(JSON.stringify(e))}catch{}return e}var Gi={last:{},history:[]};function Zi(e,t){e===void 0&&(e=Gi);var i=t.options,a=t.meta;if(t.type===z.track){var r=At(T({event:t.event,properties:t.properties},Object.keys(i).length&&{options:i},{meta:a}));return T({},e,{last:r,history:e.history.concat(r)})}return e}var Wi={actions:[]};function Yi(e,t){e===void 0&&(e=Wi);var i=t.payload;switch(t.type){case"queue":var a;return a=i&&i.type&&i.type===z.identify?[t].concat(e.actions):e.actions.concat(t),T({},e,{actions:a});case"dequeue":return[];default:return e}}var zt=/#.*$/;function Qi(e){var t=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(e);return"/"+(t&&t[3]?t[3].split("?")[0].replace(zt,""):"")}var Tt,Bt,Ot,kt,Ji=function(e){if(e===void 0&&(e={}),!ae)return e;var t=document,i=t.title,a=t.referrer,r=window,o=r.location,l=r.innerWidth,c=r.innerHeight,u=o.hash,m=o.search,v=function(x){var w=function(){if(ae){for(var g,h=document.getElementsByTagName("link"),f=0;g=h[f];f++)if(g.getAttribute("rel")==="canonical")return g.getAttribute("href")}}();return w?w.match(/\?/)?w:w+x:window.location.href.replace(zt,"")}(m),N={title:i,url:v,path:Qi(v),hash:u,search:m,width:l,height:c};return a&&a!==""&&(N.referrer=a),T({},N,e)},Xi={last:{},history:[]};function ea(e,t){e===void 0&&(e=Xi);var i=t.options;if(t.type===z.page){var a=At(T({properties:t.properties,meta:t.meta},Object.keys(i).length&&{options:i}));return T({},e,{last:a,history:e.history.concat(a)})}return e}Tt=function(){if(!ae)return!1;var e=navigator.appVersion;return~e.indexOf("Win")?"Windows":~e.indexOf("Mac")?"MacOS":~e.indexOf("X11")?"UNIX":~e.indexOf("Linux")?"Linux":"Unknown OS"}(),Bt=ae?document.referrer:null,Ot=zi(),kt=Ti();var nt={initialized:!1,sessionId:ms(),app:null,version:null,debug:!1,offline:!!ae&&!navigator.onLine,os:{name:Tt},userAgent:ae?navigator.userAgent:"node",library:{name:"analytics",version:"0.11.0"},timezone:kt,locale:Ot,campaign:{},referrer:Bt};function sa(e,t){e===void 0&&(e=nt);var i=e.initialized,a=t.campaign;switch(t.type){case z.campaign:return T({},e,{campaign:a});case z.offline:return T({},e,{offline:!0});case z.online:return T({},e,{offline:!1});default:return i?e:T({},nt,e,{initialized:!0})}}var ta=["plugins","reducers","storage"];function ia(e,t,i){if(ae){var a=window[(i?"add":"remove")+"EventListener"];e.split(" ").forEach(function(r){a(r,t)})}}function aa(e){var t=ia.bind(null,"online offline",function(i){return Promise.resolve(!navigator.onLine).then(e)});return t(!0),function(i){return t(!1)}}function Rt(){return je("analytics",[]),function(e){return function(t,i,a){var r=e(t,i,a),o=r.dispatch;return Object.assign(r,{dispatch:function(l){return Ae[_e].analytics.push(l.action||l),o(l)}})}}}function ot(e){return function(){return ze(ze.apply(null,arguments),Rt())}}function gs(e){return e?Vi(e)?e:[e]:[]}function lt(e,t,i){e===void 0&&(e={});var a,r,o=ms();return t&&(Oe[o]=(a=t,r=function(l){for(var c,u=l||Array.prototype.slice.call(arguments),m=0;m<u.length;m++)if(re(u[m])){c=u[m];break}return c}(i),function(l){r&&r(l),a(l)})),T({},e,{rid:o,ts:new Date().getTime()},t?{hasCallback:!0}:{})}function ra(e){e===void 0&&(e={});var t=e.reducers||{},i=e.initialUser||{},a=(e.plugins||[]).reduce(function(d,p){if(re(p))return d.middlewares=d.middlewares.concat(p),d;if(p.NAMESPACE&&(p.name=p.NAMESPACE),!p.name)throw new Error("https://lytics.dev/errors/1");var y=p.EVENTS?Object.keys(p.EVENTS).map(function(R){return p.EVENTS[R]}):[];d.pluginEnabled[p.name]=!(p.enabled===!1||p.config&&p.config.enabled===!1),delete p.enabled,p.methods&&(d.methods[p.name]=Object.keys(p.methods).reduce(function(R,Q){var H;return R[Q]=(H=p.methods[Q],function(){for(var Y=Array.prototype.slice.call(arguments),U=new Array(H.length),se=0;se<Y.length;se++)U[se]=Y[se];return U[U.length]=b,H.apply({instance:b},U)}),R},{}),delete p.methods);var P=Object.keys(p).concat(y),I=new Set(d.events.concat(P));if(d.events=Array.from(I),d.pluginsArray=d.pluginsArray.concat(p),d.plugins[p.name])throw new Error(p.name+"AlreadyLoaded");return d.plugins[p.name]=p,d.plugins[p.name].loaded||(d.plugins[p.name].loaded=function(){return!0}),d},{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),r=e.storage?e.storage:{getItem:be,setItem:je,removeItem:Te},o=function(d){return function(p,y,P){return y.getState("user")[p]||(P&&ie(P)&&P[p]?P[p]:Ws(d)[p]||be(Ss(p))||null)}}(r),l=a.plugins,c=a.events.filter(function(d){return!xs.includes(d)}).sort(),u=new Set(c.concat(ts).filter(function(d){return!xs.includes(d)})),m=Array.from(u).sort(),v=function(){return l},N=new Ki,x=N.addMiddleware,w=N.removeMiddleware,g=N.dynamicMiddlewares,h=function(){throw new Error("Abort disabled inListener")},f=Bi(),S=Ws(r),j=T({},S,i,f.an_uid?{userId:f.an_uid}:{},f.an_aid?{anonymousId:f.an_aid}:{});j.anonymousId||(j.anonymousId=ms());var E=T({enable:function(d,p){return new Promise(function(y){V.dispatch({type:z.enablePlugin,plugins:gs(d),_:{originalAction:z.enablePlugin}},y,[p])})},disable:function(d,p){return new Promise(function(y){V.dispatch({type:z.disablePlugin,plugins:gs(d),_:{originalAction:z.disablePlugin}},y,[p])})}},a.methods),b={identify:function(d,p,y,P){try{var I=De(d)?d:null,R=ie(d)?d:p,Q=y||{},H=b.user();je(Ss(ue),I);var Y=I||R.userId||o(ue,b,R);return Promise.resolve(new Promise(function(U){V.dispatch(T({type:z.identifyStart,userId:Y,traits:R||{},options:Q,anonymousId:H.anonymousId},H.id&&H.id!==I&&{previousId:H.id}),U,[p,y,P])}))}catch(U){return Promise.reject(U)}},track:function(d,p,y,P){try{var I=ie(d)?d.event:d;if(!I||!De(I))throw new Error("EventMissing");var R=ie(d)?d:p||{},Q=ie(y)?y:{};return Promise.resolve(new Promise(function(H){V.dispatch({type:z.trackStart,event:I,properties:R,options:Q,userId:o(ue,b,p),anonymousId:o(ye,b,p)},H,[p,y,P])}))}catch(H){return Promise.reject(H)}},page:function(d,p,y){try{var P=ie(d)?d:{},I=ie(p)?p:{};return Promise.resolve(new Promise(function(R){V.dispatch({type:z.pageStart,properties:Ji(P),options:I,userId:o(ue,b,P),anonymousId:o(ye,b,P)},R,[d,p,y])}))}catch(R){return Promise.reject(R)}},user:function(d){if(d===ue||d==="id")return o(ue,b);if(d===ye||d==="anonId")return o(ye,b);var p=b.getState("user");return d?Us(p,d):p},reset:function(d){return new Promise(function(p){V.dispatch({type:z.resetStart},p,d)})},ready:function(d){return b.on(z.ready,d)},on:function(d,p){if(!d||!re(p))return!1;if(d===z.bootstrap)throw new Error(".on disabled for "+d);var y=/Start$|Start:/;if(d==="*"){var P=function(H){return function(Y){return function(U){return U.type.match(y)&&p({payload:U,instance:b,plugins:l}),Y(U)}}},I=function(H){return function(Y){return function(U){return U.type.match(y)||p({payload:U,instance:b,plugins:l}),Y(U)}}};return x(P,Qe),x(I,Je),function(){w(P,Qe),w(I,Je)}}var R=d.match(y)?Qe:Je,Q=function(H){return function(Y){return function(U){return U.type===d&&p({payload:U,instance:b,plugins:l,abort:h}),Y(U)}}};return x(Q,R),function(){return w(Q,R)}},once:function(d,p){if(!d||!re(p))return!1;if(d===z.bootstrap)throw new Error(".once disabled for "+d);var y=b.on(d,function(P){p({payload:P.payload,instance:b,plugins:l,abort:h}),y()});return y},getState:function(d){var p=V.getState();return d?Us(p,d):Object.assign({},p)},dispatch:function(d){var p=De(d)?{type:d}:d;if(ts.includes(p.type))throw new Error("reserved action "+p.type);var y=T({},p,{_:T({originalAction:p.type},d._||{})});V.dispatch(y)},enablePlugin:E.enable,disablePlugin:E.disable,plugins:E,storage:{getItem:r.getItem,setItem:function(d,p,y){V.dispatch({type:z.setItemStart,key:d,value:p,options:y})},removeItem:function(d,p){V.dispatch({type:z.removeItemStart,key:d,options:p})}},setAnonymousId:function(d,p){b.storage.setItem(de,d,p)},events:{core:ts,plugins:c}},C=a.middlewares.concat([function(d){return function(p){return function(y){return y.meta||(y.meta=lt()),p(y)}}},g(Qe),$i(b,v,{all:m,plugins:c}),Hi(r),Mi(b),Fi(b),g(Je)]),L={context:sa,user:Li(r),page:ea,track:Zi,plugins:qi(v),queue:Yi},O=ze,_=ze;if(ae&&e.debug){var k=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;k&&(O=k({trace:!0,traceLimit:25})),_=function(){return arguments.length===0?Rt():ie(typeof arguments[0])?ot():ot().apply(null,arguments)}}var M,K=function(d){return Object.keys(d).reduce(function(p,y){return ta.includes(y)||(p[y]=d[y]),p},{})}(e),F=a.pluginsArray.reduce(function(d,p){var y=p.name,P=p.config,I=p.loaded,R=a.pluginEnabled[y];return d[y]={enabled:R,initialized:!!R&&!p.initialize,loaded:!!I(),config:P||{}},d},{}),D={context:K,user:j,plugins:F},V=Vt(function(d){for(var p=Object.keys(d),y={},P=0;P<p.length;P++){var I=p[P];typeof d[I]===me&&(y[I]=d[I])}var R,Q=Object.keys(y);try{(function(H){Object.keys(H).forEach(function(Y){var U=H[Y];if(typeof U(void 0,{type:"@@redux/INIT"})===oe||typeof U(void 0,{type:ki})===oe)throw new Error("reducer "+Y+" "+oe)})})(y)}catch(H){R=H}return function(H,Y){if(H===void 0&&(H={}),R)throw R;for(var U=!1,se={},le=0;le<Q.length;le++){var xe=Q[le],Ls=H[xe],vs=(0,y[xe])(Ls,Y);if(typeof vs===oe){var Kt=Ri(xe,Y);throw new Error(Kt)}se[xe]=vs,U=U||vs!==Ls}return U?se:H}}(T({},L,t)),D,_(O(Pi.apply(void 0,C))));V.dispatch=(M=V.dispatch,function(d,p,y){var P=T({},d,{meta:lt(d.meta,p,gs(y))});return M.apply(null,[P])});var B=Object.keys(l);V.dispatch({type:z.bootstrap,plugins:B,config:K,params:f,user:j,initialUser:i,persistedUser:S});var q=B.filter(function(d){return a.pluginEnabled[d]}),W=B.filter(function(d){return!a.pluginEnabled[d]});return V.dispatch({type:z.registerPlugins,plugins:B,enabled:a.pluginEnabled}),a.pluginsArray.map(function(d,p){var y=d.bootstrap,P=d.config,I=d.name;y&&re(y)&&y({instance:b,config:P,payload:d}),V.dispatch({type:z.registerPluginType(I),name:I,enabled:a.pluginEnabled[I],plugin:d}),a.pluginsArray.length===p+1&&V.dispatch({type:z.initializeStart,plugins:q,disabled:W})}),aa(function(d){V.dispatch({type:d?z.offline:z.online})}),function(d,p,y){setInterval(function(){return It(d,p,y)},3e3)}(V,v,b),b}var Qe="before",Je="after",Pe="cookie",Ne=Lt(),Pt=cs,na=cs;function Mt(e){return Ne?cs(e,"",-1):Te(e)}function Lt(){if(Ne!==void 0)return Ne;var e="cookiecookie";try{cs(e,e),Ne=document.cookie.indexOf(e)!==-1,Mt(e)}catch{Ne=!1}return Ne}function cs(e,t,i,a,r,o){if(typeof window<"u"){var l=arguments.length>1;return Ne===!1&&(l?je(e,t):be(e)),l?document.cookie=e+"="+encodeURIComponent(t)+(i?"; expires="+new Date(+new Date+1e3*i).toUTCString()+(a?"; path="+a:"")+(r?"; domain="+r:"")+(o?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var Me="localStorage",oa=As.bind(null,"localStorage");Be("localStorage","getItem",be);Be("localStorage","setItem",je);Be("localStorage","removeItem",Te);var Le="sessionStorage",la=As.bind(null,"sessionStorage");Be("sessionStorage","getItem",be);Be("sessionStorage","setItem",je);Be("sessionStorage","removeItem",Te);function Ie(e){var t=e;try{if((t=JSON.parse(e))==="true")return!0;if(t==="false")return!1;if(ie(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch{}if(t!==null&&t!=="")return t}var ua=oa(),ma=la(),ca=Lt();function Ft(e,t){if(e){var i=zs(t),a=!ks(i),r=Ts(i)?Ie(localStorage.getItem(e)):void 0;if(a&&!Se(r))return r;var o=Bs(i)?Ie(Pt(e)):void 0;if(a&&o)return o;var l=Os(i)?Ie(sessionStorage.getItem(e)):void 0;if(a&&l)return l;var c=be(e);return a?c:{localStorage:r,sessionStorage:l,cookie:o,global:c}}}function da(e,t,i){if(e&&!Se(t)){var a={},r=zs(i),o=JSON.stringify(t),l=!ks(r);return Ts(r)&&(a[Me]=Xe(Me,t,Ie(localStorage.getItem(e))),localStorage.setItem(e,o),l)?a[Me]:Bs(r)&&(a[Pe]=Xe(Pe,t,Ie(Pt(e))),na(e,o),l)?a[Pe]:Os(r)&&(a[Le]=Xe(Le,t,Ie(sessionStorage.getItem(e))),sessionStorage.setItem(e,o),l)?a[Le]:(a[Re]=Xe(Re,t,be(e)),je(e,t),l?a[Re]:a)}}function pa(e,t){if(e){var i=zs(t),a=Ft(e,St),r={};return!Se(a.localStorage)&&Ts(i)&&(localStorage.removeItem(e),r[Me]=a.localStorage),!Se(a.cookie)&&Bs(i)&&(Mt(e),r[Pe]=a.cookie),!Se(a.sessionStorage)&&Os(i)&&(sessionStorage.removeItem(e),r[Le]=a.sessionStorage),!Se(a.global)&&ds(i,Re)&&(Te(e),r[Re]=a.global),r}}function zs(e){return e?De(e)?e:e.storage:xt}function Ts(e){return ua&&ds(e,Me)}function Bs(e){return ca&&ds(e,Pe)}function Os(e){return ma&&ds(e,Le)}function ks(e){return e===St||e==="all"}function ds(e,t){return e===xt||e===t||ks(e)}function Xe(e,t,i){return{location:e,current:t,previous:i}}var va={setItem:da,getItem:Ft,removeItem:pa};function fa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ut(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,a)}return i}function mt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ut(Object(i),!0).forEach(function(a){fa(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ut(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Na(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t={storage:va};return ra(mt(mt({},t),e))}function ct(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,a)}return i}function es(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ct(Object(i),!0).forEach(function(a){ha(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ct(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function ha(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var wa={debug:!1,containerId:null,dataLayerName:"dataLayer",dataLayer:void 0,preview:void 0,auth:void 0,execution:"async"},ss;function ga(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="https://www.googletagmanager.com/gtm.js";return{name:"google-tag-manager",config:es(es({},wa),e),initialize:function(a){var r=a.config,o=r.containerId,l=r.dataLayerName,c=r.customScriptSrc,u=r.preview,m=r.auth,v=r.execution;if(!o)throw new Error("No google tag manager containerId defined");if(u&&!m)throw new Error("When enabling preview mode, both preview and auth parameters must be defined");var N=c||t;pt(o)||(function(x,w,g,h,f){x[h]=x[h]||[],x[h].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var S=w.getElementsByTagName(g)[0],j=w.createElement(g),E=h!="dataLayer"?"&l="+h:"",b=u?"&gtm_preview="+u+"&gtm_auth="+m+"&gtm_cookies_win=x":"";v&&(j[v]=!0),j.src="".concat(N,"?id=")+f+E+b,S.parentNode.insertBefore(j,S)}(window,document,"script",l,o),ss=l,r.dataLayer=window[l])},page:function(a){var r=a.payload;a.options,a.instance;var o=a.config;typeof o.dataLayer<"u"&&o.dataLayer.push(r.properties)},track:function(a){var r=a.payload;a.options;var o=a.config;if(typeof o.dataLayer<"u"){var l=r.anonymousId,c=r.userId,u=r.properties,m=u;c&&(m.userId=c),l&&(m.anonymousId=l),u.category||(m.category="All"),o.debug&&console.log("gtag push",es({event:r.event},m)),o.dataLayer.push(es({event:r.event},m))}},loaded:function(){var a=!!ss&&!!(window[ss]&&Array.prototype.push!==window[ss].push);return pt(e.containerId,e.customScriptSrc||t)&&a}}}var dt={};function pt(e,t){var i=dt[e];if(!i){var a=t.replace(/^https?:\/\//,"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&");i=new RegExp(a+".*[?&]id="+e),dt[e]=i}var r=document.querySelectorAll("script[src]");return!!Object.keys(r).filter(function(o){return(r[o].src||"").match(i)}).length}var ba=ga,ja={};const{NODE_ENV:xa}=ja,{googleTagManagerId:Sa,googleTagManagerAuth:ya,googleTagManagerEnv:Ea}=window.tsme_data.analytics||{},Da=!window.ssrRender||xa!=="test",Va=Na({app:"tsme-part",plugins:[ba({containerId:Sa,preview:Ea,auth:ya,enabled:Da})]}),Ca=e=>ee.post("/move-out/select-contract",{"full-ref":e}),Ia=()=>ee.get("/move-out/get-contract"),{isConnected:Rs,roles:Ut}=window.tsme_data||{},_a=Rs&&"customer"in Ut,Aa=Rs&&"auth_reference"in Ut,za=e=>ee("/move-out/cpt-details"),$t=()=>ee.get("move-out/get-summary"),Ta=()=>ee("/move-out/tpms-services"),ys={OK:"NC",FETCH_SUCCESS:"NC",KO_ELIGIBILITE:"non éligible commune ou dossier",KO_ELIGIBILITE_API:"non éligible commune ou dossier",KO_72H:"non éligible commune ou dossier",KO_RESILIATION:"non éligible déjà résilié",OK_NON_AUTO:"non éligible commune ou dossier > formulaire"},Ba=ai({id:"initParcours",initial:"init",context:{connected:Rs,isCustomer:_a,isAuthReference:Aa,reference:"",nbMeters:null,coordinates:{},details:[],statements:[],services:[],contractData:{},billingInfo:{},isEfacture:!1,isKo:!1,summary:{},currentDateResiliation:new Date,isDateDifferent:!1},states:{init:{always:[{target:"connected",cond:"isCustomer"},{target:"authentication",cond:"isNotConnected"},{target:"authentication",cond:"isAuthReference"}]},connected:{on:{OK:{target:"startParcours.dateSelection",actions:["setReferenceContext"]},FETCH_SUCCESS:{target:"startParcours.dateSelection",actions:["setReferenceContext"]},KO_ELIGIBILITE:{target:"contractNotEligible"},KO_ELIGIBILITE_API:{target:"contractNotEligible"},KO_72H:{target:"contractNotEligible"},KO_RESILIATION:{target:"contractNotSelectionable"},OK_NON_AUTO:{actions:["setReferenceContext","toPathMoveOutNoAuto"]}}},authentication:{initial:"setReferenceForm",states:{setReferenceForm:{on:{SET_REF_SUCCESS:{target:"credentials",actions:["setReferenceContext","setCoordinatesContext"]},CHECK_REF_FAIL:{target:"notEligible",actions:["setReferenceContext"]}}},credentials:{on:{AUTH_SUCCESS:{target:"completed"},UPDATE_REF:{target:"setReferenceForm"},KO_CEL:{target:"connection"},FAILURE:{target:"notEligible"}}},connection:{on:{UPDATE_REF:{target:"setReferenceForm"}}},completed:{type:"final"},notEligible:{on:{UPDATE_REF:{target:"setReferenceForm"}}}},onDone:"startParcours"},startParcours:{initial:"checkContractEligibility",states:{checkContractEligibility:{invoke:{id:"checkEligibility",src:e=>async t=>{try{const{data:i}=await Ca(e.reference),[a,r]=Wt("MOVEOUT_8"),{track:o}=Va,l=Yt(ys[i.message],r);["OK","FETCH_SUCCESS"].includes(i.message)||o(a,l);const c=Object.keys(ys).includes(i.message);t({type:c?i.message:"KO_ELIGIBILITE",nbMeters:i.message==="OK"?i.nMeters:null})}catch{}}},on:{OK:{target:"dateSelection",actions:["setNbMetersContext"]},KO_ELIGIBILITE:{target:"#initParcours.contractNotEligible"},KO_ELIGIBILITE_API:{target:"#initParcours.contractNotEligible"},KO_72H:{target:"#initParcours.contractNotEligible"},KO_RESILIATION:{target:"#initParcours.contractNotSelectionable"},OK_NON_AUTO:{actions:["toPathMoveOutNoAuto"]}}},dateSelection:{invoke:[{id:"getContract",src:(e,t)=>async i=>{if(t.type!=="BACK_DATE_SELECTION")try{const{data:a}=await Ia();a.message!=="OK"||i({type:"VALID_GET_CONTRACT",contractData:a.contract})}catch{}}},{id:"fetchSummary",src:(e,t)=>async i=>{if(t.type!=="BACK_DATE_SELECTION")try{const{data:a}=await $t();if(a.message==="OK"){const{dateResiliation:r}=a.summary,o=new Date(r),l=new Date,c=vt(new Date,{days:21}),u=hi(o,l)||Ee(l,o),m=Ni(o,c)||Ee(c,o),v=u&&m,N=v?o:l;i({type:"DEFAULT_RESILIATION_DATE",isValidDate:v,summary:a.summary,currentDateResiliation:N})}else i(a.message)}catch{}}}],on:{VALID_GET_CONTRACT:{actions:["setContractData"]},COMPLETE_DATE:{target:"getStatementsDetail",actions:["setCurrentDateResiliation","setIsDifferentDate"]},GO_TO_SUMMARY:{target:"summary",actions:["setCurrentDateResiliation"]},DEFAULT_RESILIATION_DATE:{actions:["setCurrentDateResiliation","setSummary","setIsValidDate"]}}},getStatementsDetail:{invoke:{id:"fetchCpt",src:e=>async t=>{const{data:i}=await za();let a=null,r=null;const o=i.details.map((l,c)=>{const u=l.indexTR>0,{summary:m,currentDateResiliation:v}=e,N=Ee(v,new Date(m==null?void 0:m.dateResiliation));let x="";m.matriculeCompteur1===l.matricule?x=m.index1:m.matriculeCompteur2===l.matricule&&(x=m.index2);const w=!u&&N&&x>0;let g=!u&&c===0&&w?!1:!u&&c===0,h=w?!0:u;return g===!1&&h===!1&&a===!1&&r===!0&&(g=!0),a=g,r=h,{isTR:u,isValid:h,isTRUpdated:!1,isCounterUpdated:!1,isUploadMandatory:!1,isUpdating:g,summaryIndex:x,...l}});t({type:"FETCH_DONE",details:i.details,statements:o})}},on:{FETCH_DONE:{target:"statementsForm",actions:["setDetailsContext","setStatementsContext"]}}},statementsForm:{on:{GO_BACK:{target:"dateSelection"},UPDATE_COUNTER:{actions:["setStatementsContext"]},GO_TO_SUMMARY:{target:"summary"},VALIDATE:{target:"billingInfo"}}},billingInfo:{on:{COMPLETE_BILL:{target:"summary",actions:["setBillingInfos"]},GO_TO_SUMMARY:{target:"summary",actions:["setBillingInfos"]},BACK:{target:"statementsForm"}}},summary:{invoke:[{id:"fetchTpms",src:e=>async t=>{const{data:i}=await Ta(),{services:a}=i,r=a.some(o=>o==="e-facture-eligible");t({type:"FETCH_DONE",services:a,isEfacture:r})}}],on:{UPDATE_SUMMARY:{actions:["setSummary"]},FETCH_DONE:{actions:["setServices","setIsEFacture"]},BACK_STATEMENT:{target:"statementsForm"},BACK_BILLING:{target:"billingInfo"},BACK_DATE_SELECTION:{target:"dateSelection"},VALIDATE:{target:"validationPage",actions:["setIsKoMessage"]}}},validationPage:{type:"final"}}},contractNotEligible:{type:"final"},contractNotSelectionable:{type:"final"},contractNoAuto:{type:"final"}}},{actions:{setReferenceContext:te({reference:(...e)=>e[1].reference}),setCoordinatesContext:te({coordinates:(...e)=>e[1].coordinates}),setNbMetersContext:te({nbMeters:(...e)=>e[1].nbMeters}),setStatementsContext:te({statements:(...e)=>e[1].statements}),setDetailsContext:te({details:(...e)=>e[1].details}),setBillingInfos:te({billingInfo:(...e)=>e[1].billingInfo}),setSummary:te({summary:(e,t)=>t.summary}),setServices:te({services:(...e)=>e[1].services}),setIsEFacture:te({isEfacture:(...e)=>e[1].isEfacture}),setCurrentDateResiliation:te({currentDateResiliation:(e,t)=>t.currentDateResiliation}),setIsValidDate:te({isValidDate:(e,t)=>t.isValidDate}),setContractData:te({contractData:(e,t)=>t.contractData}),setIsKoMessage:te({isKo:(...e)=>e[1].isKo}),setIsDifferentDate:te({isDateDifferent:(...e)=>e[1].isDateDifferent}),toPathMoveOutNoAuto:({reference:e})=>{const t=e.substring(0,2),i=e.substring(2);window.location.href=`/mon-compte-en-ligne/redirect/${t}-${i}?redirect=/mon-compte-en-ligne/je-demenage`}},guards:{isConnected:e=>e.connected,isNotConnected:e=>!e.connected,isCustomer:e=>e.isCustomer,isAuthReference:e=>e.isAuthReference}});function Oa({onClickAccordion:e,email:t,activeKey:i}){var m;const{t:a}=$(),r=ve(),[o,l]=A.useState(),c="0",u=v=>{l(v.target.value),r.handleChange(v)};return A.useEffect(()=>{r.setFieldValue("email",void 0)},[i]),s.jsxDEV(n.SzAccordion.SzCollapse,{eventKey:c,onClick:e,header:s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzTypographie,{className:"m-0 d-none d-lg-block",children:a("authenticate.credentials.email.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:32,columnNumber:11},this),s.jsxDEV(n.SzTypographie,{className:"m-0 d-block d-lg-none",children:a("authenticate.credentials.email.title_short")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:35,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:31,columnNumber:9},this),body:s.jsxDEV("div",{className:"row no-gutters p-3",children:[s.jsxDEV(n.SzTypographie,{children:a("authenticate.credentials.email.body")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:42,columnNumber:11},this),s.jsxDEV("div",{className:"col-12 col-md-5",children:[s.jsxDEV(n.SzTypographie,{weight:"medium",className:"d-lg-none mb-4",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:46,columnNumber:13},this),s.jsxDEV(n.SzInput,{label:a("authenticate.credentials.email.field.label"),placeholder:a("authenticate.credentials.email.field.placeholder"),name:"email",value:r.values.email,onChange:u,onBlur:r.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:49,columnNumber:13},this),((m=r.values.email)==null?void 0:m.length)>0&&r.errors.email&&r.touched.email&&s.jsxDEV(n.SzAlert,{children:r.errors.email},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:61,columnNumber:39},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:45,columnNumber:11},this),s.jsxDEV("div",{className:"col-12 col-md-7 d-flex",children:s.jsxDEV(n.SzTypographie,{weight:"medium",className:"d-none d-lg-block ml-3 mt-4 pt-2",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:64,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:41,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:27,columnNumber:5},this)}function ka({onClickAccordion:e,cellphone:t,activeKey:i}){var u;const{t:a}=$(),r=ve(),[o,l]=A.useState(),c=m=>{l(m.target.value),r.handleChange(m)};return A.useEffect(()=>{r.setFieldValue("cellPhone",void 0)},[i]),s.jsxDEV(n.SzAccordion.SzCollapse,{header:s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzTypographie,{className:"m-0 d-none d-lg-block",children:a("authenticate.credentials.cellPhone.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:96,columnNumber:11},this),s.jsxDEV(n.SzTypographie,{className:"m-0 d-block d-lg-none",children:a("authenticate.credentials.cellPhone.title_short")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:95,columnNumber:9},this),body:s.jsxDEV("div",{className:"row no-gutters p-3",children:[s.jsxDEV(n.SzTypographie,{children:a("authenticate.credentials.cellPhone.body")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:106,columnNumber:11},this),s.jsxDEV("div",{className:"col-12 col-md-5",children:[s.jsxDEV(n.SzTypographie,{weight:"medium",className:"d-lg-none mb-4",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:110,columnNumber:13},this),s.jsxDEV(n.SzInput,{label:a("authenticate.credentials.cellPhone.field.label"),placeholder:a("authenticate.credentials.cellPhone.field.placeholder"),name:"cellPhone",value:r.values.cellPhone,onChange:c,onBlur:r.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:113,columnNumber:13},this),((u=r.values.cellPhone)==null?void 0:u.length)>0&&r.errors.cellPhone&&r.touched.cellPhone&&s.jsxDEV(n.SzAlert,{children:r.errors.cellPhone},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:126,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:109,columnNumber:11},this),s.jsxDEV("div",{className:"col-12 col-md-7 d-flex",children:s.jsxDEV(n.SzTypographie,{weight:"medium",className:"d-none d-lg-block ml-3 mt-4 pt-2",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:130,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:129,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:105,columnNumber:9},this),eventKey:"1",onClick:e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:93,columnNumber:5},this)}function Ra({onClickAccordion:e,phone:t,activeKey:i}){var u;const{t:a}=$(),r=ve(),[o,l]=A.useState(),c=m=>{l(m.target.value),r.handleChange(m)};return A.useEffect(()=>{r.setFieldValue("phone",void 0)},[i]),s.jsxDEV(n.SzAccordion.SzCollapse,{header:s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzTypographie,{className:"m-0 d-none d-lg-block",children:a("authenticate.credentials.phone.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:164,columnNumber:11},this),s.jsxDEV(n.SzTypographie,{className:"m-0 d-block d-lg-none",children:a("authenticate.credentials.phone.title_short")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:163,columnNumber:9},this),body:s.jsxDEV("div",{className:"row no-gutters p-3",children:[s.jsxDEV(n.SzTypographie,{children:a("authenticate.credentials.phone.body")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:174,columnNumber:11},this),s.jsxDEV("div",{className:"col-12 col-md-5",children:[s.jsxDEV(n.SzTypographie,{weight:"medium",className:"d-lg-none mb-4",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:178,columnNumber:13},this),s.jsxDEV(n.SzInput,{label:a("authenticate.credentials.phone.field.label"),placeholder:a("authenticate.credentials.phone.field.placeholder"),name:"phone",value:r.values.phone,onChange:c,onBlur:r.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:181,columnNumber:13},this),((u=r.values.phone)==null?void 0:u.length)>0&&r.errors.phone&&r.touched.phone&&s.jsxDEV(n.SzAlert,{children:r.errors.phone},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:193,columnNumber:39},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:177,columnNumber:11},this),s.jsxDEV("div",{className:"col-12 col-md-7 d-flex",children:s.jsxDEV(n.SzTypographie,{weight:"medium",className:"d-none d-lg-block ml-3 mt-4 pt-2",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:196,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:195,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:173,columnNumber:9},this),eventKey:"2",onClick:e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Collapse.jsx",lineNumber:161,columnNumber:5},this)}function Pa(){$();const{initParcours:e}=A.useContext(Z),[t]=e,{cellphone:i,phone:a,email:r}=t.context.coordinates,[o,l]=A.useState(r?"0":i?"1":"2"),c=u=>{l(m=>m===u?null:u)};return s.jsxDEV("div",{className:"row",children:s.jsxDEV("div",{className:"col-12 mt-4",children:s.jsxDEV(n.SzAccordion,{variant:"details",activeKey:o,children:[r&&s.jsxDEV(Oa,{onClickAccordion:c,email:r,activeKey:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsAccordion.jsx",lineNumber:25,columnNumber:13},this),i&&s.jsxDEV(ka,{onClickAccordion:c,cellphone:i,activeKey:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsAccordion.jsx",lineNumber:32,columnNumber:13},this),a&&s.jsxDEV(Ra,{onClickAccordion:c,phone:a,activeKey:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsAccordion.jsx",lineNumber:39,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsAccordion.jsx",lineNumber:23,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsAccordion.jsx",lineNumber:22,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsAccordion.jsx",lineNumber:21,columnNumber:5},this)}function Ps(){const{t:e}=$(),{initParcours:t}=A.useContext(Z),[i,a]=t,{reference:r}=i.context;return s.jsxDEV("div",{className:"row",children:s.jsxDEV("div",{className:"col-12 col-md-6 col-lg-5 col-xl-4",children:s.jsxDEV(n.SzData,{className:"p-3",style:{background:"var(--gray-100)"},children:s.jsxDEV("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxDEV(n.SzIcon,{icon:"business-contract-handshake-sign",variant:"line",className:"text-inactive d-none d-sm-block"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:17,columnNumber:13},this),s.jsxDEV("div",{className:"d-inline-block mr-sm-auto ml-4",children:[s.jsxDEV(n.SzData.Text,{children:e("authenticate.reference.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:23,columnNumber:15},this),s.jsxDEV(n.SzData.Title,{children:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:24,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:22,columnNumber:13},this),s.jsxDEV(n.SzButton,{icon:"pencil-write",variant:"text",onClick:()=>a("UPDATE_REF")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:26,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:15,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:14,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/ReferenceDisplay.jsx",lineNumber:13,columnNumber:5},this)}function ps({children:e}){const{t}=$();return s.jsxDEV(n.SzCard,{direction:"top",color:"primary-brand",className:"mt-5 mb-3 bg-white",title:t("authenticate.title"),children:s.jsxDEV("div",{className:"py-3 px-md-5",children:[s.jsxDEV(n.SzTypographie,{children:t("authenticate.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Card.jsx",lineNumber:15,columnNumber:9},this),e]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Card.jsx",lineNumber:14,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/Card.jsx",lineNumber:8,columnNumber:5},this)}function Ma(){const{t:e}=$(),{initParcours:t}=A.useContext(Z),[i,a]=t,{reference:r}=i.context,[o,l]=A.useState(null);ne();const c=pe(u=>{let m={...u};return u.cellPhone&&(m.cellPhone=u.cellPhone.replaceAll(/\s|\.|-/gi,"")),u.phone&&(m.phone=u.phone.replaceAll(/\s|\.|-/gi,"")),ee.post("/move-out/authenticate-by-reference",{...m,fullReference:r})},{onSuccess:u=>{const{message:m}=u.data;a(m==="contract.already-exists"?"KO_CEL":"AUTH_SUCCESS")},onError:u=>{const{message:m}=u.response.data;m.includes("mismatch")&&l(m.split(".")[0])}});return s.jsxDEV($e,{initialValues:{},onSubmit:c.mutate,validationSchema:ui,isInitialValid:!1,children:u=>s.jsxDEV("form",{"data-cy":"moveout-auth-credentials",onSubmit:u.handleSubmit,children:s.jsxDEV("div",{className:"container py-5",children:[s.jsxDEV(ps,{children:[s.jsxDEV(Ps,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:74,columnNumber:15},this),s.jsxDEV(Pa,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:75,columnNumber:15},this),o&&s.jsxDEV(n.SzAlert,{children:e("authenticate.credentials.mismatch",{context:o})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:77,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:73,columnNumber:13},this),s.jsxDEV("div",{className:"text-center",children:s.jsxDEV(n.SzButton,{variant:"contained",type:"submit",loader:c.isLoading,isDisabled:!u.isValid,children:e("authenticate.continueButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:85,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:71,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CredentialsForm.jsx",lineNumber:64,columnNumber:5},this)}const bs=G.createRef();function La(){const{t:e}=$(),{initParcours:t}=A.useContext(Z),[i,a]=t,{reference:r}=i.context,{recaptchaInvisiblePublicKey:o,recaptchaEnabled:l}=window.tsme_data;ne();const c=pe(({params:g})=>ee(`/move-out/check-reference?${g}`),{onSuccess:(g,{reference:h})=>{const{message:f}=g.data;if(f==="KO_INFOS")a({type:"CHECK_REF_FAIL",reference:h});else{const{coordinates:S}=g.data;a({type:"SET_REF_SUCCESS",reference:h,coordinates:S})}},onError:g=>{var h,f;if(((h=g==null?void 0:g.response)==null?void 0:h.status)===400){const S=(f=g==null?void 0:g.response.data)==null?void 0:f.message;N(S)}}}),u=Vs({validationSchema:mi,isInitialValid:!!r,initialValues:{reference:r},onSubmit:({reference:g})=>{g=Qt(g);const h={"full-ref":g};l&&(h["g-recaptcha-response"]=bs.current.getValue());const S=new URLSearchParams(h).toString();c.mutate({reference:g,params:S})}}),m=u.values.reference&&u.errors.reference&&u.touched.reference,[v,N]=A.useState(null),x=g=>{l&&(g.preventDefault(),bs.current.execute())},w=()=>{u.submitForm()};return s.jsxDEV("div",{className:"container py-5",children:[s.jsxDEV(ps,{children:s.jsxDEV("form",{"data-cy":"moveout-auth-refclient",className:"row",onSubmit:u.handleSubmit,children:[l&&s.jsxDEV(di,{ref:bs,size:"invisible",sitekey:o,onChange:w,badge:"bottomleft"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:107,columnNumber:13},this),s.jsxDEV("div",{className:"col-9 col-md-5",children:[s.jsxDEV(n.SzInput,{label:e("authenticate.reference.label"),placeholder:e("authenticate.reference.placeholder"),name:"reference",value:u.values.reference,onChange:u.handleChange,onBlur:u.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:116,columnNumber:13},this),m&&s.jsxDEV(n.SzAlert,{children:u.errors.reference},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:124,columnNumber:30},this),v&&s.jsxDEV("div",{className:"cy-message-error",children:s.jsxDEV(n.SzAlert,{variant:"danger",children:v},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:127,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:115,columnNumber:11},this),s.jsxDEV("div",{className:"col-3 col-md-3 mb-2",children:[s.jsxDEV(n.SzButton,{variant:"contained",className:"mt-4 d-none d-md-flex",onClick:x,type:"submit",isDisabled:!u.isValid,loader:c.isLoading,children:e("validateButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:132,columnNumber:13},this),s.jsxDEV(n.SzButton,{variant:"contained",className:"mt-4 d-flex d-md-none p-0",onClick:x,type:"submit",icon:"check-1",isDisabled:!u.isValid,loader:c.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:131,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:101,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:100,columnNumber:7},this),s.jsxDEV(n.SzHelper,{title:e("authenticate.helper.title"),className:"mx-md-5",label:e("know_more"),children:s.jsxDEV(n.SzTypographie,{children:e("authenticate.helper.content")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:159,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:154,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/SetReference.jsx",lineNumber:99,columnNumber:5},this)}function Fa(){const{t:e}=$();return s.jsxDEV("div",{className:"container py-5",children:s.jsxDEV(ps,{children:[s.jsxDEV(Ps,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CEL.jsx",lineNumber:13,columnNumber:9},this),s.jsxDEV("div",{className:"row justify-content-center",children:[s.jsxDEV("div",{className:"col-12",children:s.jsxDEV(n.SzTypographie,{className:"my-4 py-2",children:e("authenticate.login.content")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CEL.jsx",lineNumber:16,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CEL.jsx",lineNumber:15,columnNumber:11},this),s.jsxDEV("div",{className:"col-12 col-md-8 border rounded p-0 px-md-5 py-4",children:s.jsxDEV(ft,{className:"mx-1 px-3 px-lg-5",title:e("editoMoveOut.loginForm.titleHasAccount"),info:e("editoMoveOut.loginForm.info"),submitText:e("editoMoveOut.loginForm.submitText"),targetPath:"/resilier/resiliation?connected"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CEL.jsx",lineNumber:21,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CEL.jsx",lineNumber:20,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CEL.jsx",lineNumber:14,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CEL.jsx",lineNumber:12,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/CEL.jsx",lineNumber:11,columnNumber:5},this)}function Ua(){const{t:e}=$();return s.jsxDEV("div",{className:"container py-5",children:s.jsxDEV(ps,{children:[s.jsxDEV(Ps,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/NotEligible.jsx",lineNumber:15,columnNumber:9},this),s.jsxDEV("div",{className:"row",children:s.jsxDEV("div",{className:"col-12",children:[s.jsxDEV(n.SzTypographie,{className:"my-4",children:e("authenticate.error.content")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/NotEligible.jsx",lineNumber:18,columnNumber:13},this),s.jsxDEV(is,{to:Ds.CUSTOMER_SERVICE,variant:"contained",icon:"messages-bubble-question",children:e("authenticate.error.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/NotEligible.jsx",lineNumber:21,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/NotEligible.jsx",lineNumber:17,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/NotEligible.jsx",lineNumber:16,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/NotEligible.jsx",lineNumber:14,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/NotEligible.jsx",lineNumber:13,columnNumber:5},this)}function $a(){const{initParcours:e}=A.useContext(Z),[t]=e,{track:i}=ne();switch(A.useEffect(()=>{t.matches("authentication.setReferenceForm")&&i("MOVEOUT_1",{sz_funnel_step:"1",sz_funnel_variant:"reference"})},[]),!0){case t.matches("authentication.setReferenceForm"):return s.jsxDEV(La,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/index.jsx",lineNumber:25,columnNumber:14},this);case t.matches("authentication.credentials"):return s.jsxDEV(Ma,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/index.jsx",lineNumber:27,columnNumber:14},this);case t.matches("authentication.connection"):return s.jsxDEV(Fa,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/index.jsx",lineNumber:29,columnNumber:14},this);case t.matches("authentication.notEligible"):return s.jsxDEV(Ua,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Authentication/index.jsx",lineNumber:31,columnNumber:14},this);default:return null}}function Ha(){const{t:e}=$(),{initParcours:t}=A.useContext(Z),[{value:i}]=t,a=i==="contractNotSelectionable",[r,o]=A.useState(!1),[l,c]=A.useState(!1),u=e(a?"contractError.back_dashboard":"contractError.exitBtn"),m=Es("col-8",{"mx-auto":a}),v=()=>{o(!0)},N=()=>{c(!0)};return s.jsxDEV("div",{className:"cy-error-page container py-5",children:s.jsxDEV(n.SzCard,{className:"bg-white mt-5 mb-3 px-5 py-3",children:s.jsxDEV("div",{className:"row",children:[s.jsxDEV("div",{className:m,children:[s.jsxDEV(n.SzTypographie,{variant:"huge",children:e("contractError.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:34,columnNumber:13},this),s.jsxDEV(n.SzTypographie,{children:e("contractError.content",{context:i})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:37,columnNumber:13},this),!a&&s.jsxDEV(n.SzTypographie,{children:e("contractError.complementary",{context:i})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:43,columnNumber:15},this),s.jsxDEV(n.SzTypographie,{children:e("contractError.thanks")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:49,columnNumber:13},this),!a&&s.jsxDEV(is,{to:oi,variant:"contained",onClick:v,loader:r,children:e("contractError.contactBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:51,columnNumber:15},this),s.jsxDEV(is,{to:Ds.HOME,variant:a?"contained":"text",onClick:N,loader:l,children:u},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:33,columnNumber:11},this),!a&&s.jsxDEV("div",{className:"col-4",children:s.jsxDEV("img",{src:pi,alt:"process error"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:71,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:70,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:31,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Error.jsx",lineNumber:30,columnNumber:5},this)}const Ka=os().shape({"full-ref":J().required("Veuillez saisir un contrat")});function qa(){const{t:e}=$(),{initParcours:t}=A.useContext(Z),[i,a]=A.useState(null),[,r]=t,{track:o}=ne(),l=ri();new URLSearchParams(l.search),A.useEffect(()=>{o("MOVEOUT_1",{sz_funnel_step:"1",sz_funnel_variant:"compte"})},[]);const c=async()=>{const{data:w}=await ee.get("/user/contracts");return w},{data:u,isLoading:m}=Cs("getContracts",c,{initialData:{contracts:[]},refetchOnWindowFocus:!1,retry:2,onError:()=>{}}),v=pe(w=>ee.post("/move-out/select-contract",w),{onSuccess:(w,g)=>{const{data:h}=w;Object.keys(ys).includes(h.message)?r({type:h.message,reference:g["full-ref"]}):r({type:"KO_ELIGIBILITE",reference:g["full-ref"]})},onError:w=>{var g;if(w.response.status===400){const h=(g=w==null?void 0:w.response.data)==null?void 0:g.response.errorMessage;a(h)}}}),{contracts:N}=u,x=N&&N.length===1?{"full-ref":N[0].reference}:{};return s.jsxDEV("div",{className:"container px-0 px-lg-5 pt-5",children:[s.jsxDEV($e,{enableReinitialize:!0,initialValues:x,onSubmit:v.mutate,validationSchema:Ka,isInitialValid:N&&N.length===1&&N[0].situation_code===!0,children:({handleSubmit:w,setFieldValue:g,isValid:h,values:f})=>{const S=({target:j})=>{g("full-ref",j.id)};return s.jsxDEV("form",{onSubmit:w,children:[s.jsxDEV(n.SzCard,{direction:"top",title:"Sélection du contrat à résilier",color:"primary-brand",className:"mx-1 bg-white",children:m?s.jsxDEV(X,{height:76,count:3,className:"my-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:124,columnNumber:19},this):s.jsxDEV("div",{className:"px-0 px-md-3",children:[s.jsxDEV(n.SzTypographie,{className:"cy-title-select-contract mt-3 mx-md-4 mx-lg-5 ",variant:"body",weight:"medium",children:N.length===1?e("contractSelection.titleOneContract"):e("contractSelection.titleContracts")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:127,columnNumber:21},this),s.jsxDEV("div",{className:"scroll-container",children:[s.jsxDEV("div",{className:"cy-actif-contract mx-md-4 mx-lg-5 ",children:N&&N.filter(({situation_code:j})=>j).map(j=>s.jsxDEV(Jt,{className:"over-radio-data mt-3",name:"full-ref",id:j.reference,reference:j.reference.substring(0,2)+"-"+j.reference.substring(2),address:j.addr_served?j.addr_served:"-",isTerminate:!j.situation_code,checked:j.reference===f["full-ref"],onChange:S},j.reference,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:143,columnNumber:33},this))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:137,columnNumber:23},this),s.jsxDEV("div",{className:"cy-no-actif-contract mx-md-4 mx-lg-5 mt-5",children:N&&N.filter(({situation_code:j})=>!j).map(j=>s.jsxDEV(Xt,{className:"mt-3",reference:j.reference.substring(0,2)+"-"+j.reference.substring(2),address:j.addr_served?j.addr_served:"-",isTerminate:!j.situation_code},j.reference,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:174,columnNumber:33},this))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:168,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:136,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:126,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:117,columnNumber:15},this),s.jsxDEV("div",{className:"d-flex flex-column align-items-center pt-3",children:[i&&s.jsxDEV("div",{className:"cy-message-error",children:s.jsxDEV(n.SzAlert,{variant:"danger",children:s.jsxDEV(jt,{content:i,noWrap:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:200,columnNumber:23},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:199,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:198,columnNumber:19},this),s.jsxDEV(n.SzButton,{className:"cy-btn-select-contract",isDisabled:!h,type:"submit",variant:"contained",loader:v.isLoading,children:e("contractSelection.validateButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:204,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:116,columnNumber:13},this)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:99,columnNumber:7},this),s.jsxDEV("div",{className:"cy-info-select-contract d-flex justify-content-center pt-4 px-1 px-md-5",children:s.jsxDEV(n.SzHelper,{title:e("contractSelection.titleInfoHelper"),label:e("know_more"),children:e("contractSelection.infoHelper")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:219,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:218,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/ContractSelection.jsx",lineNumber:98,columnNumber:5},this)}function Ga({show:e,handleClose:t}){const{t:i}=$();ne();const a=()=>{window.location.href="/"};return s.jsxDEV(n.SzModal,{backdrop:"static",show:e,size:"xl",className:"p-6",children:s.jsxDEV("div",{className:"row",children:s.jsxDEV("div",{className:"col-12 col-md-12",children:[s.jsxDEV("div",{className:"m-auto text-center timer-img d-block d-md-none",children:s.jsxDEV("img",{src:vi,className:"w-75",alt:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:28,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:27,columnNumber:11},this),s.jsxDEV(n.SzTypographie,{variant:"huge",weight:"regular",children:i("MoveOut.modalTitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:31,columnNumber:11},this),s.jsxDEV(n.SzTypographie,{variant:"body",weight:"regular",children:i("MoveOut.modalBody_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:34,columnNumber:11},this),s.jsxDEV("ul",{children:[s.jsxDEV("li",{children:s.jsxDEV(n.SzTypographie,{variant:"body",weight:"regular",children:i("MoveOut.modalBody_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:39,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:38,columnNumber:13},this),s.jsxDEV("li",{children:s.jsxDEV(n.SzTypographie,{variant:"body",weight:"regular",children:i("MoveOut.modalBody_3",{n:bt})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:44,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:43,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:37,columnNumber:11},this),s.jsxDEV("div",{className:"mt-5 d-flex flex-column flex-sm-row align-items-sm-center  ",children:[s.jsxDEV(n.SzButton,{variant:"contained",className:"mr-sm-3 mb-3 mb-sm-0",onClick:t,children:i("MoveOut.modalBtnContinue")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:50,columnNumber:13},this),s.jsxDEV(n.SzButton,{variant:"text",onClick:a,children:i("MoveOut.modalBtnCancel")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:57,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:49,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:26,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:25,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/Modal.jsx",lineNumber:24,columnNumber:5},this)}function qe(e){const{initParcours:t}=A.useContext(Z),[{context:i}]=t,{indexTR1:a,indexTR2:r}=i.summary,{track:o}=ne();A.useEffect(()=>{const u=a&&a!==null||r&&r!==null,{index:m,telereleve:v}=Nt;o("MOVEOUT_2",{sz_funnel_step:e,sz_funnel_variant:u?v:m})},[])}function Za(){const{t:e}=$(),{initParcours:t}=G.useContext(Z),[i,a]=A.useState(),[r,o]=t,{context:l,event:c,history:u}=r,{currentDateResiliation:m,isValidDate:v,contractData:N,summary:x}=l,w=new Date,g=vt(w,{days:bt-1}),{dateResiliation:h}=x,{track:f}=ne();A.useEffect(()=>{var F;const{reference:_,account:k}=Nt,K=((F=u==null?void 0:u.event)==null?void 0:F.type)==="AUTH_SUCCESS"?_:k;f("MOVEOUT_1",{sz_funnel_step:"complete",sz_funnel_variant:K})},[]),qe(1);const S=pe(_=>{const k={..._};return k.closingDate=we(_.closingDate,"yyyy-MM-dd"),ee.post("move-out/set-closing-date",k)},{onSuccess:(_,{closingDate:k})=>{const M=!Ee(new Date(k),new Date(h)),F=c.type==="BACK_DATE_SELECTION"&&!M?"GO_TO_SUMMARY":"COMPLETE_DATE";o({type:F,currentDateResiliation:k,isDateDifferent:M})},onError:_=>{const{data:{validation_errors:k}}=_.response,K=k[Object.keys(k)[0]].filter((D,V)=>{if(V<2)return D});let F=K[0];K[1]&&(F=K[0].concat(". ",K[1])),a(F)}}),j=os().shape({closingDate:li().required("Veuillez saisir une date").min(g).max(w)}),E=()=>{L(!0)},b=()=>{L(!1)},[C,L]=A.useState(!1),O=Object.keys(x).length===0||Object.keys(N).length===0;return s.jsxDEV(s.Fragment,{children:[s.jsxDEV($e,{initialValues:{closingDate:v?m:null},validationSchema:j,onSubmit:S.mutate,enableReinitialize:!0,validateOnMount:!0,children:({handleSubmit:_,setFieldValue:k,isValid:M,values:K})=>{const F=D=>{k("closingDate",D)};return s.jsxDEV("form",{"data-cy":"moveout-resiliation-date",onSubmit:_,children:s.jsxDEV(n.SzCard,{title:"Date de résiliation",direction:"top",color:"primary-brand",className:"mt-4 bg-white cy-id-bloc-resiliation",children:[s.jsxDEV("div",{className:"p-md-4",children:[O?s.jsxDEV("div",{className:"row",children:s.jsxDEV("div",{className:"col-12 col-md-6",children:s.jsxDEV(X,{height:24},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:146,columnNumber:25},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:145,columnNumber:23},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:144,columnNumber:21},this):s.jsxDEV(n.SzTypographie,{variant:"body",weight:"medium",children:e("resiliationDate.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:150,columnNumber:21},this),s.jsxDEV("div",{className:"row align-items-center",children:O?s.jsxDEV("div",{className:"col-12 mt-4",children:s.jsxDEV(X,{height:42},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:158,columnNumber:25},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:157,columnNumber:23},this):s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"col-12 col-md-6 col-lg-4 mt-2 date-resiliation",children:s.jsxDEV(n.SzDateRangePicker,{value:K.closingDate,onChange:F,maxDate:new Date,minDate:g,toggle:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:163,columnNumber:27},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:162,columnNumber:25},this),s.jsxDEV("div",{className:"col-12 col-md-6 col-lg-8",children:s.jsxDEV(n.SzAlert,{transparent:!0,variant:"info",className:"mb-0 py-1 cy-id-resiliation-alert",children:s.jsxDEV(n.SzTypographie,{tag:"span",weight:"regular",className:"mb-0 py-1",children:e("resiliationDate.alert")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:177,columnNumber:29},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:172,columnNumber:27},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:171,columnNumber:25},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:161,columnNumber:23},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:155,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:142,columnNumber:17},this),i&&s.jsxDEV(n.SzAlert,{variant:"danger",className:"col-12 mt-4",children:i},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:191,columnNumber:19},this),!O&&s.jsxDEV("div",{className:"row justify-content-start align-items-center no-gutters px-md-4 py-2",children:[s.jsxDEV("div",{className:"d-flex align-items-baseline",children:s.jsxDEV("div",{className:"d-flex align-items-baseline",children:[s.jsxDEV(n.SzTypographie,{className:"mb-0",size:"S",children:e("resiliationDate.action")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:199,columnNumber:25},this),s.jsxDEV(n.SzButton,{className:"pl-1",variant:"text",onClick:E,children:s.jsxDEV(n.SzTypographie,{size:"S",weight:"medium",className:"mb-0",children:e("resiliationDate.btns.outDelay")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:207,columnNumber:27},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:202,columnNumber:25},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:198,columnNumber:23},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:197,columnNumber:21},this),s.jsxDEV(n.SzButton,{"data-cy":"btn-validate-continue",variant:"contained",isDisabled:!M,loader:S.isLoading,type:"submit",className:"col-12 col-md-4 col-lg-3 ml-md-auto",children:e("resiliationDate.btns.validate")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:218,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:196,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:136,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:135,columnNumber:13},this)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:120,columnNumber:7},this),C&&s.jsxDEV(Ga,{show:C,handleClose:b},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:236,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/ResiliationDate/index.jsx",lineNumber:119,columnNumber:5},this)}const Wa=/^(0)\s*([0-5]|9)\s*([0-9]\s*){8}$/,Ya=/^(0)\s*(6|7)\s*([0-9]\s*){8}$/,fe="^[a-z-A-Z0-9À-ÿ , ']*$",Qa="^[a-z-A-Z0-9]+$",Ja="^(((0[1-9]|[12][0-9]|30)/(0[13-9]|1[012])|31/(0[13578]|1[02])|(0[1-9]|1[0-9]|2[0-8])/02)/[0-9]{4}|29/02/([0-9]{2}(([2468][048]|[02468][48])|[13579][26])|([13579][26]|[02468][048]|0[0-9]|1[0-6])00))$",Xa=os().shape({email:J().email("Le champ e-mail n'est pas valide.").max(70,"Le champ e-mail n'est pas valide.").required("Le champ e-mail doit être rempli."),radioNationality:J().required(),billing_zip_code:J().required().when("radioNationality",{is:e=>e==="radioNationalityFr",then:J().required("Le champ code postal doit être rempli.").matches(/^\d{5}$/,"Le champ code postal n'est pas valide.").max(10,"Le champ code postal n'est pas valide."),otherwise:J().required("Le champ code postal doit être rempli.").matches(Qa,"Le champ code postal n'est pas valide.").max(10,"Le champ code postal n'est pas valide.")}),billing_town:J().required("Le champ ville doit être rempli.").matches(fe,"Le champ ville n'est pas valide.").max(21,"Le champ ville n'est pas valide."),billing_country:J().required("Le pays doit être rempli.").matches(fe,"Le pays n'est pas valide.").max(32,"Le pays n'est pas valide."),billing_address_1:J().required("Le champ adresse doit être rempli.").matches(fe,"Le champ adresse n'est pas valide.").max(37,"Le champ adresse n'est pas valide."),billing_address_2:J().matches(fe,"Le champ complément d'adresse n'est pas valide.").max(37,"Le champ complément d'adresse n'est pas valide."),civility:J().required("Veuillez sélectionner un genre.").matches(/(M|MME)/,"Le genre sélectionné n'est pas disponible."),first_name:J().matches(fe,"Ce champ n'est pas valide.").min(2,"Le champ prénom doit être rempli.").max(25,"Trop Long !").required("Le champ prénom doit être rempli."),last_name:J().matches(fe,"Ce champ n'est pas valide.").min(2,"Le champ nom doit être rempli.").max(70,"Trop Long !").required("Le champ nom doit être rempli."),birthday_date:J().matches(Ja,"La date doit respecter ce format : 'jj/mm/aaaa'."),city_holder:J().matches(fe,"Ce champ n'est pas valide.").max(70,"Trop Long !"),mobile:J().matches(Ya,"Le numéro de téléphone n'est pas valide"),fix_mobile:J().matches(Wa,"Le numéro de téléphone n'est pas valide")}),er=window.tsme_data,{apiUrlCapadresse:sr}=er;function tr(){var M,K,F,D,V,B,q,W;const{t:e}=$(),t=ve(),{initParcours:i}=A.useContext(Z),[{context:a}]=i,r=a==null?void 0:a.summary,o={label:r==null?void 0:r.billingCountry,value:r==null?void 0:r.billingCountry},[l,c]=A.useState((r==null?void 0:r.billingCountry)&&(r==null?void 0:r.billingCountry)!=="FRA"&&o),[u,m]=A.useState((r==null?void 0:r.isBillingAddressForeign)===!0?"radioNationalityOther":"radioNationalityFr"),v=d=>{const{target:p}=d;t.setFieldValue("radioNationality",p.id),L()},N=async()=>{const{data:d}=await ee.get("/getCountries");return d},{data:x,isLoading:w}=Cs("getCountries",N,{initialData:[],refetchOnWindowFocus:!1,retry:2,onError:()=>{}}),g=Array.from(x).filter(d=>d.fr!="France").map(function(d){if(d.fr)return{label:d.fr,value:d.fr}}),[h,f]=A.useState(null),[S,j]=A.useState(""),[E,b]=A.useState(!0),C=(d,p)=>{const{postalCode:y,locality:P,inputOutput:I,localityInfo_2:R,countryCode:Q}=d,Y=(I==null?void 0:I.substring(0,I==null?void 0:I.indexOf("	")))||I;if(f(d),p==="town"){const U={billing_zip_code:y,billing_country:Q,billing_town:R?`${P} ${R}`:P};for(const se in U){const le=U[se];t.setFieldValue(se,le),t.setFieldTouched(se,!0)}}p==="street"&&(t.setFieldTouched("billing_address_1",!0),t.setFieldValue("billing_address_1",Y)),b(!1)},L=()=>{f(null),j(""),["billing_zip_code","billing_town","billing_address_1","billing_address_2","billing_country"].forEach(p=>{t.setFieldValue(p,"")})},O=d=>{b(!0),j(d.target.value)},_=d=>{b(!0),t.setFieldValue("billing_address_1",d.target.value)};A.useEffect(()=>{f(null),j("");const d=["billing_zip_code","billing_town","billing_address_1","billing_address_2","billing_country"];u!=null&&u.value&&d.forEach(p=>{t.setFieldValue(p,"")})},[u]);const k=ei(sr,"town",`${t.values.billing_zip_code} ${t.values.billing_town}`);return A.useEffect(()=>{if(k.length>0&&t.values.billing_town&&t.values.billing_zip_code){const{localityId:d}=k[0],p={locality:t.values.billing_town,localityId:d,postalCode:t.values.billing_zip_code};f(p)}t.values.billing_address_1&&b(!1)},[k]),s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"row mt-4",children:[s.jsxDEV(n.SzRadio,{id:"radioNationalityFr",name:"radioNationality",label:e("billingInfo.address.radioNationality.labelFr"),type:"radio",checked:t.values.radioNationality==="radioNationalityFr",onChange:v},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:196,columnNumber:9},this),s.jsxDEV(n.SzRadio,{id:"radioNationalityOther",name:"radioNationality",className:"ml-5",label:e("billingInfo.address.radioNationality.labelOther"),type:"radio",checked:t.values.radioNationality==="radioNationalityOther",onChange:v},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:204,columnNumber:9},this),((M=t.values.radioNationality)==null?void 0:M.length)>0&&t.errors.radioNationality&&s.jsxDEV(n.SzAlert,{children:t.errors.radioNationality},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:215,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:195,columnNumber:7},this),t.values.radioNationality==="radioNationalityFr"?s.jsxDEV("div",{className:"row mt-4",children:s.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-6",children:h?s.jsxDEV(s.Fragment,{children:[s.jsxDEV(ce,{className:" bg-light py-3 px-2 px-md-3",children:s.jsxDEV("div",{className:"row",children:[s.jsxDEV("div",{className:"col-10",children:[s.jsxDEV(ce.Title,{children:e("billingInfo.address.addressCap.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:227,columnNumber:23},this),s.jsxDEV(ce.Text,{children:[t.values.billing_zip_code,","," ",t.values.billing_town]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:230,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:226,columnNumber:21},this),s.jsxDEV(ce.Icon,{onClick:L,icon:"pencil-write",variant:"line",className:"editAddress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:236,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:225,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:224,columnNumber:17},this),s.jsxDEV("div",{className:"mt-3",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.address.field.label"),placeholder:e("billingInfo.address.field.placeholder"),name:"billing_address_1",id:"billing_address_1",value:t.values.billing_address_1,onChange:_,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:246,columnNumber:19},this),t.values.billing_address_1.length>=3&&E&&s.jsxDEV(Fs,{className:"w-100",type:"street",address:h,inputOutput:t.values.billing_address_1,onClick:C},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:257,columnNumber:23},this),((K=t.values.billing_address_1)==null?void 0:K.length)>0&&t.errors.billing_address_1&&s.jsxDEV(n.SzAlert,{children:t.errors.billing_address_1},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:268,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:245,columnNumber:17},this),s.jsxDEV("div",{className:"mt-3",children:[s.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",htmlFor:"billing_address_2",children:[s.jsxDEV("span",{className:"font-family-bold text-inactive",children:e("billingInfo.address.additionalAddress.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:276,columnNumber:21},this),s.jsxDEV(n.SzTypographie,{align:"center",weight:"light",className:"ml-2 d-inline",children:e("billingInfo.optional")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:280,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:272,columnNumber:19},this),s.jsxDEV(n.SzInput,{placeholder:e("billingInfo.address.additionalAddress.placeholder"),name:"billing_address_2",id:"billing_address_2",value:t.values.billing_address_2,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:288,columnNumber:19},this),((F=t.values.billing_address_2)==null?void 0:F.length)>0&&t.errors.billing_address_2&&s.jsxDEV(n.SzAlert,{children:t.errors.billing_address_2},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:300,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:271,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:223,columnNumber:15},this):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.address.addressCap.label"),placeholder:e("billingInfo.address.addressCap.placeholder"),name:"addressCap",id:"addressCap",value:S,onChange:O},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:306,columnNumber:17},this),S.length>=3&&E?s.jsxDEV(Fs,{onClick:C,className:"w-100",type:"town",inputOutput:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:316,columnNumber:19},this):null]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:305,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:221,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:220,columnNumber:9},this):s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"row mt-4",children:s.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-10",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.address.field.label"),placeholder:e("billingInfo.address.field.placeholder"),name:"billing_address_1",id:"billing_address_1",value:t.values.billing_address_1,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:331,columnNumber:15},this),((D=t.values.billing_address_1)==null?void 0:D.length)>0&&t.errors.billing_address_1&&s.jsxDEV(n.SzAlert,{children:t.errors.billing_address_1},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:342,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:330,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:329,columnNumber:11},this),s.jsxDEV("div",{className:"row mt-3",children:s.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-10",children:[s.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",htmlFor:"billing_address_2",children:[s.jsxDEV("span",{className:"font-family-bold text-inactive",children:e("billingInfo.address.additionalAddress.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:353,columnNumber:17},this),s.jsxDEV(n.SzTypographie,{align:"center",weight:"light",className:"ml-2 d-inline",children:e("billingInfo.optional")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:357,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:349,columnNumber:15},this),s.jsxDEV(n.SzInput,{placeholder:e("billingInfo.address.additionalAddress.placeholder"),name:"billing_address_2",id:"billing_address_2",value:t.values.billing_address_2,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:366,columnNumber:15},this),((V=t.values.billing_address_2)==null?void 0:V.length)>0&&t.errors.billing_address_2&&s.jsxDEV(n.SzAlert,{children:t.errors.billing_address_2},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:378,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:348,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:347,columnNumber:11},this),s.jsxDEV("div",{className:"row mt-3",children:[s.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-4 col-lg-3",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.address.zipCode.label"),placeholder:e("billingInfo.address.zipCode.placeholder"),name:"billing_zip_code",id:"billing_zip_code",value:t.values.billing_zip_code,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:385,columnNumber:15},this),((B=t.values.billing_zip_code)==null?void 0:B.length)>0&&t.errors.billing_zip_code&&s.jsxDEV(n.SzAlert,{children:t.errors.billing_zip_code},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:397,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:384,columnNumber:13},this),s.jsxDEV("div",{className:"pl-0 pl-md-4 pr-0 pr-md-2 col-12 col-md-6 col-lg-4",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.address.city.label"),placeholder:e("billingInfo.address.city.placeholder"),name:"billing_town",id:"billing_town",value:t.values.billing_town,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:402,columnNumber:15},this),((q=t.values.billing_town)==null?void 0:q.length)>0&&t.errors.billing_town&&s.jsxDEV(n.SzAlert,{children:t.errors.billing_town},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:414,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:401,columnNumber:13},this),s.jsxDEV("div",{className:"pl-0 pl-lg-4 pr-0 pr-md-2 col-12 col-md-10 col-lg-5",children:[s.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",htmlFor:"nationality",children:s.jsxDEV("span",{className:"font-family-bold text-inactive",children:"Pays"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:423,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:419,columnNumber:15},this),s.jsxDEV(n.SzSelect,{label:e("billingInfo.address.country.label"),name:"billing_country",id:"billing_country",placeholder:e("billingInfo.address.country.placeholder"),options:g,value:l,onChange:d=>{t.setFieldValue("billing_country",d.value),c(d)},onBlur:()=>{t.handleBlur({target:{name:"billing_country"}})},className:"mb-3 border-secondary"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:425,columnNumber:15},this),((W=t.values.billing_country)==null?void 0:W.length)>0&&t.errors.billing_country&&s.jsxDEV(n.SzAlert,{children:t.errors.billing_country},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:443,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:418,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:383,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:328,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Address.jsx",lineNumber:194,columnNumber:5},this)}function ir({email:e}){var c,u;const{t}=$(),{initParcours:i}=G.useContext(Z),[a,r]=i,{identite:o}=(c=a.context)==null?void 0:c.contractData,l=ve();return s.jsxDEV(n.SzCard,{title:t("billingInfo.titleCard"),direction:"top",color:"primary-brand",className:"mt-3 bg-white",children:s.jsxDEV("div",{className:"px-0 px-md-5 mt-3 mx-3 mx-md-4 mx-lg-5 ",children:[s.jsxDEV(n.SzTypographie,{variant:"body",weight:"medium",className:"row",children:t("billingInfo.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:30,columnNumber:9},this),s.jsxDEV(ce,{className:"row bg-light py-3 px-2 px-md-3",children:[s.jsxDEV(ce.Icon,{icon:"single-neutral-id-card-3",variant:"line",className:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:35,columnNumber:11},this),s.jsxDEV("div",{className:"col-10 col-md-11",children:[s.jsxDEV(ce.Title,{children:t("billingInfo.titleCardUser")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:42,columnNumber:13},this),s.jsxDEV(ce.Text,{children:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:45,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:41,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:34,columnNumber:9},this),s.jsxDEV("div",{className:"row mt-4",children:[s.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-4",children:[s.jsxDEV(n.SzInput,{label:t("billingInfo.email.label"),placeholder:t("billingInfo.email.placeholder"),name:"email",id:"email",disabled:e,value:l.values.email,onChange:e?()=>{}:l.handleChange,onBlur:l.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:51,columnNumber:13},this),((u=l.values.email)==null?void 0:u.length)>0&&l.errors.email&&s.jsxDEV(n.SzAlert,{children:l.errors.email},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:62,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:50,columnNumber:11},this),s.jsxDEV("div",{className:"col-7 mt-4 d-none d-md-block",children:s.jsxDEV(n.SzAlert,{variant:"info",transparent:!0,className:"py-1",children:t("billingInfo.infoEmail")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:67,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:49,columnNumber:9},this),s.jsxDEV(n.SzTypographie,{variant:"body",weight:"medium",className:"row mt-4 mb-2",children:t("billingInfo.titleInfoEmail")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:73,columnNumber:9},this),s.jsxDEV(n.SzTypographie,{weight:"regular",color:"disabled",className:"row d-none d-md-block",children:t("billingInfo.descInfoEmail")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:77,columnNumber:9},this),s.jsxDEV(tr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:85,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:29,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/Info.jsx",lineNumber:23,columnNumber:5},this)}function ar(){var m,v,N,x,w,g,h;const{t:e}=$(),t=ve(),{initParcours:i}=A.useContext(Z),[{context:a}]=i,r=a==null?void 0:a.summary,o={label:r.billingCivility=="MME"?"Madame":"Monsieur",value:r.billingCivility},[l,c]=A.useState(r.billingCivility&&o),u=[{label:e("civility.mrs"),value:"MME"},{label:e("civility.mr"),value:"M"}];return A.useEffect(()=>{var f,S;if((f=r==null?void 0:r.billingBirthDate)!=null&&f.date){const j=we(new Date((S=r==null?void 0:r.billingBirthDate)==null?void 0:S.date),"dd/MM/yyyy");t.setFieldValue("birthday_date",j)}},[]),s.jsxDEV(n.SzCard,{title:e("billingInfo.infoHolder.titleCard"),direction:"top",color:"primary-brand",className:"mt-3 bg-white",children:s.jsxDEV("div",{className:"px-0 px-md-5 mt-3 mx-3 mx-md-4 mx-lg-5 ",children:[s.jsxDEV(n.SzTypographie,{variant:"body",weight:"medium",className:"row",children:e("billingInfo.infoHolder.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:59,columnNumber:9},this),s.jsxDEV("div",{className:"row mt-md-3",children:s.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-8 col-md-3",children:[s.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",htmlFor:"civility",children:s.jsxDEV("span",{className:"font-family-bold text-inactive",children:e("billingInfo.infoHolder.civility.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:68,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:64,columnNumber:13},this),s.jsxDEV(n.SzSelect,{placeholder:e("billingInfo.infoHolder.civility.placeholder"),name:"civility",id:"civility",options:u,value:l,onChange:f=>{c(f),t.setFieldValue("civility",f.value)},className:"mb-3 border-secondary"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:72,columnNumber:13},this),((m=t.values.civility)==null?void 0:m.length)>0&&t.errors.civility&&s.jsxDEV(n.SzAlert,{children:t.errors.civility},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:63,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:62,columnNumber:9},this),s.jsxDEV("div",{className:"row mt-md-3",children:[s.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-4",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.infoHolder.firstName.label"),placeholder:e("billingInfo.infoHolder.firstName.placeholder"),name:"first_name",id:"first_name",value:t.values.first_name,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:92,columnNumber:13},this),((v=t.values.first_name)==null?void 0:v.length)>0&&t.errors.first_name&&s.jsxDEV(n.SzAlert,{children:t.errors.first_name},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:91,columnNumber:11},this),s.jsxDEV("div",{className:"pl-0 pl-md-4 pr-0 pr-md-2 col-12 col-md-4",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.infoHolder.lastName.label"),placeholder:e("billingInfo.infoHolder.lastName.placeholder"),name:"last_name",id:"last_name",value:t.values.last_name,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:108,columnNumber:13},this),((N=t.values.last_name)==null?void 0:N.length)>0&&t.errors.last_name&&s.jsxDEV(n.SzAlert,{children:t.errors.last_name},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:118,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:107,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:90,columnNumber:9},this),s.jsxDEV(n.SzTypographie,{variant:"body",weight:"medium",className:"row mt-4",children:e("billingInfo.infoComplementaryHolder.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:123,columnNumber:9},this),s.jsxDEV("div",{className:"row mt-4",children:[s.jsxDEV("div",{className:"pl-0 pr-md-2 col-8 col-md-3",children:s.jsxDEV("div",{className:"sz-form-group",children:[s.jsxDEV("div",{className:"input-group",children:s.jsxDEV(n.SzInput,{label:e("billingInfo.infoComplementaryHolder.birthDay.label"),placeholder:"jj/mm/aaaa",name:"birthday_date",id:"birthday_date",value:t.values.birthday_date,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:131,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:130,columnNumber:15},this),((x=t.values.birthday_date)==null?void 0:x.length)>0&&t.errors.birthday_date&&s.jsxDEV(n.SzAlert,{children:t.errors.birthday_date},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:145,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:129,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:128,columnNumber:11},this),s.jsxDEV("div",{className:"pl-0 pl-md-4 pr-0 pr-md-2 col-12 col-md-5 mt-md-0",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.infoComplementaryHolder.city.label"),placeholder:e("billingInfo.infoComplementaryHolder.city.placeholder"),name:"city_holder",id:"city_holder",value:t.values.city_holder,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:151,columnNumber:13},this),((w=t.values.city_holder)==null?void 0:w.length)>0&&t.errors.city_holder&&s.jsxDEV(n.SzAlert,{children:t.errors.city_holder},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:164,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:150,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:127,columnNumber:9},this),s.jsxDEV("div",{className:"row mt-md-3",children:[s.jsxDEV("div",{className:"pl-0 pr-md-2 col-8 col-md-3",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.infoComplementaryHolder.mobile.label"),placeholder:e("billingInfo.infoComplementaryHolder.mobile.placeholder"),name:"mobile",id:"mobile",value:t.values.mobile,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:171,columnNumber:13},this),((g=t.values.mobile)==null?void 0:g.length)>0&&t.errors.mobile&&s.jsxDEV(n.SzAlert,{children:t.errors.mobile},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:183,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:170,columnNumber:11},this),s.jsxDEV("div",{className:"pl-0 pl-md-4 pr-md-2 col-8 col-md-3",children:[s.jsxDEV(n.SzInput,{label:e("billingInfo.infoComplementaryHolder.fixMobile.label"),placeholder:e("billingInfo.infoComplementaryHolder.fixMobile.placeholder"),name:"fix_mobile",id:"fix_mobile",value:t.values.fix_mobile,onChange:t.handleChange,onBlur:t.handleBlur},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:188,columnNumber:13},this),((h=t.values.fix_mobile)==null?void 0:h.length)>0&&t.errors.fix_mobile&&s.jsxDEV(n.SzAlert,{children:t.errors.fix_mobile},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:201,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:187,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:169,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:58,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/InfoHolder.jsx",lineNumber:52,columnNumber:5},this)}function rr(){const{t:e}=$(),[t,i]=A.useState(null),{initParcours:a}=G.useContext(Z),[{context:r,event:o},l]=a,{email:c,telPortable:u,telDomicile:m}=r.contractData,v=r==null?void 0:r.summary;qe(3);const N=pe(h=>{let f={...h},S={email:f.email??"",isAddressForeign:f.radioNationality==="radioNationalityFr"?0:1,street:f.billing_address_1??"",additionalStreet:f.billing_address_2??"",city:f.billing_town??"",zipCode:f.billing_zip_code??"",civility:f.civility??"",firstName:f.first_name??"",lastName:f.last_name??"",birthDate:f.birthday_date??"",birthAddress:f.city_holder??"",country:f.billing_country??""};return f!=null&&f.mobile&&(S.mobilePhone=f.mobile.replace(/ /g,"")),f!=null&&f.fix_mobile&&(S.phone=f.fix_mobile.replace(/ /g,"")),ee.post("/move-out/billing-informations",S)},{onSuccess:(h,f)=>{const{data:S}=h;S.message==="OK"&&l({type:o.type==="BACK_BILLING"?"GO_TO_SUMMARY":"COMPLETE_BILL",billingInfo:f})},onError:h=>{var f;if(h.response.status===400){const S=(f=h==null?void 0:h.response.data)==null?void 0:f.response.errorMessage;i(S)}}}),x=()=>{l({type:"BACK"})},w={radioNationality:(v==null?void 0:v.isBillingAddressForeign)===!0?"radioNationalityOther":"radioNationalityFr",billing_zip_code:v==null?void 0:v.billingZipCode,billing_country:(v==null?void 0:v.billingCountry)??(!(v!=null&&v.isBillingAddressForeign)&&"France"),billing_town:v==null?void 0:v.billingCity,billing_address_1:(v==null?void 0:v.billingStreet)??"",billing_address_2:(v==null?void 0:v.billingAdditionalStreet)??"",civility:v==null?void 0:v.billingCivility,email:(v==null?void 0:v.billingEmail)??(c||""),mobile:(v==null?void 0:v.billingMobilePhone)??(u||""),fix_mobile:(v==null?void 0:v.billingPhone)??(m||""),first_name:(v==null?void 0:v.billingFirstName)||"",last_name:(v==null?void 0:v.billingLastName)||"",city_holder:(v==null?void 0:v.billingBirthAddress)||""},g={email:w.email};return s.jsxDEV($e,{enableReinitialize:!0,initialValues:w,onSubmit:N.mutate,validationSchema:Xa,validateOnMount:!0,children:h=>s.jsxDEV("form",{onSubmit:h.handleSubmit,children:[s.jsxDEV(ir,{...g},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:114,columnNumber:13},this),s.jsxDEV(ar,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:116,columnNumber:13},this),s.jsxDEV("div",{className:"rounded-lg mt-3",children:s.jsxDEV("div",{className:"px-0 px-md-5 mt-3 mx-md-4 mx-lg-5 ",children:[s.jsxDEV(n.SzAlert,{variant:"info",transparent:!0,children:e("billingInfo.infoGeneral")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:120,columnNumber:17},this),t&&s.jsxDEV("div",{className:"cy-message-error",children:s.jsxDEV(n.SzAlert,{variant:"danger",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:126,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:125,columnNumber:19},this),s.jsxDEV("div",{className:"row px-3 mt-5 d-none d-md-block",children:[s.jsxDEV(n.SzButton,{className:"bg-transparent",variant:"outlined",icon:"arrow-left",onClick:x,children:e("billingInfo.previousButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:131,columnNumber:19},this),s.jsxDEV(n.SzButton,{variant:"contained",isDisabled:!h.isValid,loader:N.isLoading,className:"float-right",type:"submit",children:e("billingInfo.validateButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:139,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:130,columnNumber:17},this),s.jsxDEV("div",{className:"d-md-none row no-gutters justify-content-between mt-4 mt-md-5",children:[s.jsxDEV("div",{className:"row mb-3",children:s.jsxDEV(n.SzButton,{variant:"contained",isDisabled:!h.isValid,className:"col-8 m-auto",type:"submit",loader:N.isLoading,children:e("billingInfo.validateButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:152,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:151,columnNumber:19},this),s.jsxDEV("div",{className:"row mb-3",children:s.jsxDEV(n.SzButton,{isDisabled:!h.isValid,className:"bg-transparent col-8 m-auto",variant:"outlined",icon:"arrow-left",onClick:x,children:e("billingInfo.previousButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:164,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:163,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:150,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:119,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:113,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/BillingInfo/index.jsx",lineNumber:104,columnNumber:5},this)}function nr(){var b;const e=Is(),{t}=$(),{initParcours:i}=A.useContext(Z),[a]=i,{contractData:r,summary:o}=a.context,{addressSite1:l,addressSite2:c,addressSite3:u,cpSite:m,villeSite:v,identite:N,fullReference:x}=(b=a.context)==null?void 0:b.contractData,w=l||"",g=c||"",h=u||"";let f=w;g&&(f=`${w} ${g}`),h&&(f=`${w} ${g} ${h}`),e&&f.length>75?f=`${ke(f,77," ...")} `:e&&f.length>27?f=`${ke(f,f.length," ...")} `:f.length>27&&(f=`${ke(f,29," ...")} `);const S=m+" "+v;let j="";x!==void 0&&(j=x.substring(0,2)+"-"+x.substring(2));const E=Object.keys(o).length===0||Object.keys(r).length===0;return s.jsxDEV(n.SzCard,{className:"bg-white my-4 px-3",children:s.jsxDEV("div",{className:"row",children:[E?s.jsxDEV("div",{className:"col-12 col-md-5",children:s.jsxDEV(X,{height:24},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:67,columnNumber:11},this):s.jsxDEV(n.SzData,{className:"col-12 col-md-5",icon:"pin-location-1",children:[s.jsxDEV(n.SzData.Text,{className:"cy-identity-address-title",children:t("IdentityBlock.address")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:72,columnNumber:13},this),s.jsxDEV(n.SzData.Title,{className:"cy-identity-address-value",children:[f,s.jsxDEV("br",{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:77,columnNumber:15},this),S]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:71,columnNumber:11},this),E?s.jsxDEV("div",{className:"offset-1 col-md-4",children:s.jsxDEV(X,{height:24},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:85,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:84,columnNumber:11},this):s.jsxDEV("div",{className:"d-none d-md-block offset-1 col-md-4",children:s.jsxDEV(n.SzData,{icon:"single-neutral-id-card-3",children:[s.jsxDEV(n.SzData.Text,{className:"cy-identity-owner-title",children:t("IdentityBlock.owner")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:90,columnNumber:15},this),s.jsxDEV(n.SzData.Title,{className:"cy-identity-owner-value",children:N},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:93,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:89,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:88,columnNumber:11},this),E?s.jsxDEV("div",{className:"col-md-2",children:s.jsxDEV(X,{height:24},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:102,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:101,columnNumber:11},this):s.jsxDEV("div",{className:"d-none d-md-block col-md-2",children:s.jsxDEV(n.SzData,{icon:"business-contract-handshake-sign",children:[s.jsxDEV(n.SzData.Text,{className:"cy-identity-ref-title",children:t("IdentityBlock.reference")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:107,columnNumber:15},this),s.jsxDEV(n.SzData.Title,{className:"cy-identity-ref-value",children:j},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:110,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:106,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:65,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/IdentityBlock.jsx",lineNumber:64,columnNumber:5},this)}function Ms({title:e,children:t,sendTo:i}){const a=He();return s.jsxDEV("div",{style:{borderRadius:"8px",borderColor:"#6095D6 !important"},className:"summary-card border sz-border-1 bg-white my-4 pt-3 pb-4 px-3 px-md-5",children:[s.jsxDEV("div",{className:"d-flex justify-content-md-center position-relative",children:[s.jsxDEV(n.SzTypographie,{className:"mb-3 mb-md-4",variant:"h2",weight:"bold",children:e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCard.jsx",lineNumber:14,columnNumber:9},this),s.jsxDEV("div",{style:{position:"absolute",right:a?-10:-40,top:-10},children:s.jsxDEV(n.SzButton,{className:"ml-auto summary-edit-button",icon:"pencil-write",variant:"text",onClick:i},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCard.jsx",lineNumber:24,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCard.jsx",lineNumber:17,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCard.jsx",lineNumber:13,columnNumber:7},this),s.jsxDEV("div",{className:"px-md-5",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCard.jsx",lineNumber:32,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCard.jsx",lineNumber:9,columnNumber:5},this)}function or({isLoading:e,data:t}){const i=Is(),{t:a}=$(),{initParcours:r}=G.useContext(Z),[{context:o},l]=r,c=()=>{l("BACK_DATE_SELECTION")},u=o.services.filter(E=>E!=="e-facture-eligible"),{addressSite1:m,addressSite2:v,addressSite3:N,cpSite:x,villeSite:w}=o==null?void 0:o.contractData,g=m||"",h=v||"",f=N||"";let S=g+" "+h+" "+f;i&&S.length>75?S=ke(S,77," ..."):S.length>27&&(S=ke(S,29," ..."));const j=x+" "+w;return s.jsxDEV(Ms,{title:a("summary.resiliationDate.title"),sendTo:c,children:[s.jsxDEV("div",{style:{backgroundColor:"#FFEABD"},className:"py-3 text-center mb-3",children:e?s.jsxDEV(X,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:48,columnNumber:11},this):s.jsxDEV(n.SzTypographie,{className:"mb-0",children:s.jsxDEV(jt,{content:a("summary.resiliationDate.dateInfo",{date:we(new Date(t.data.summary.dateResiliation),"dd/MM/yyyy")})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:51,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:50,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:43,columnNumber:7},this),s.jsxDEV("div",{style:{backgroundColor:"var(--gray-100)"},className:"p-3 mb-3",children:e?s.jsxDEV(X,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:64,columnNumber:11},this):s.jsxDEV(n.SzData,{icon:"pin-location-1",children:[s.jsxDEV(n.SzData.Text,{children:a("summary.resiliationDate.addressInfo")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:67,columnNumber:13},this),s.jsxDEV(n.SzData.Title,{children:[S,", ",j]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:70,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:62,columnNumber:7},this),u.length>0&&s.jsxDEV("div",{className:"border sz-border-1 px-3 pt-2",children:[s.jsxDEV(n.SzTypographie,{weight:"medium",className:"m-0",children:[s.jsxDEV(n.SzIcon,{variant:"line",icon:"information-circle",className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:79,columnNumber:13},this),a("summary.resiliationDate.associatedServices")]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:78,columnNumber:11},this),s.jsxDEV("ul",{className:"sumarry-services ml-3",children:u.map(E=>s.jsxDEV("li",{children:s.jsxDEV(n.SzTypographie,{tag:"span",children:E},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:85,columnNumber:17},this)},E,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:84,columnNumber:15},this))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:82,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:77,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryResiliationDate.jsx",lineNumber:42,columnNumber:5},this)}function lr({data:e}){const{t}=$(),{initParcours:i}=G.useContext(Z),[{context:a},r]=i,o=()=>{r("BACK_STATEMENT")},{statements:l,currentDateResiliation:c}=a,{summary:u}=e.data,[m,v]=G.useState(null),N=()=>{v(null)},x=ve(),w=({target:g})=>{x.setFieldValue("meterReading",g.checked)};return s.jsxDEV(Ms,{title:t("summary.counterInfos.title"),sendTo:o,children:[l.map(g=>{const{matricule:h,isTRUpdated:f}=g;let S,j;h===u.matriculeCompteur1?(S=u.photo1,j=parseInt(u.index1)||parseInt(u.indexTR1)):h===u.matriculeCompteur2&&(S=u.photo2,j=parseInt(u.index2)||parseInt(u.indexTR2));const E=()=>{v(S)},b=u==null?void 0:u.dateResiliation,C=Ue(b,c,{...g});return s.jsxDEV("div",{style:{backgroundColor:"var(--gray-100)"},className:"mb-2 row no-gutters justify-content-md-center px-3 px-md-5 py-3",children:[s.jsxDEV("div",{className:"col-12 col-md-4 mb-3 mb-md-0 data-hj-suppress",children:s.jsxDEV(n.SzData,{icon:"gauge-dashboard-1",children:[s.jsxDEV(n.SzData.Text,{children:t("summary.counterInfos.counter")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:66,columnNumber:17},this),s.jsxDEV(n.SzData.Title,{children:h},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:67,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:65,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:64,columnNumber:13},this),s.jsxDEV("div",{className:"col-8 col-md-3 mb-3 mb-md-0",children:s.jsxDEV(n.SzData,{icon:"color-drop-pick",children:[s.jsxDEV(n.SzData.Text,{children:t("summary.counterInfos.index",{context:C&&!f&&"TR"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:72,columnNumber:17},this),s.jsxDEV(n.SzData.Title,{children:j},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:77,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:71,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:70,columnNumber:13},this),s.jsxDEV("div",{className:"col-4 col-md-4 d-flex",children:S&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzButton,{className:"d-lg-none d-md-inline-flex ml-auto bg-transparent",icon:"camera-1",variant:"outlined",onClick:E},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:83,columnNumber:19},this),s.jsxDEV(n.SzButton,{"data-cy":"counter-infos-display-photo",className:"d-none d-lg-inline-flex mx-auto mx-md-0 bg-transparent",icon:"camera-1",variant:"outlined",alignIcon:"right",onClick:E,children:t("summary.counterInfos.displayPhoto")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:89,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:82,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:80,columnNumber:13},this)]},h,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:59,columnNumber:11},this)}),s.jsxDEV(n.SzModal,{show:m!==null,handleClose:N,children:s.jsxDEV("img",{src:m,alt:"",width:"100%"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:109,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:105,columnNumber:7},this),s.jsxDEV(n.SzCheckbox,{id:"meterReading",className:"py-3 mb-3 ml-3",label:t("summary.counterInfos.confirmationLabel"),onChange:w,checked:x.values.meterReading,name:"meterReading"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryCounter.jsx",lineNumber:36,columnNumber:5},this)}function ur({isLoading:e,data:t}){const{t:i}=$(),{initParcours:a}=G.useContext(Z),[{context:r},o]=a,l=()=>{o("BACK_BILLING")},{contractData:c,isEfacture:u}=r,{summary:m}=t.data,v=ve(),N=({target:x})=>{v.setFieldValue("confirmEFacture",x.checked)};return s.jsxDEV(Ms,{title:i("summary.billingInfo.title"),sendTo:l,children:[s.jsxDEV(n.SzTypographie,{children:i("summary.billingInfo.contractualInfo")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:32,columnNumber:7},this),s.jsxDEV("div",{style:{backgroundColor:"var(--gray-100)"},className:"mb-2 row no-gutters p-3",children:[s.jsxDEV("div",{className:"col-12 mb-3",children:s.jsxDEV(n.SzData,{icon:"single-neutral-id-card-3",children:[s.jsxDEV(n.SzData.Text,{children:i("summary.billingInfo.identity")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:39,columnNumber:13},this),s.jsxDEV(n.SzData.Title,{children:c.identite},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:40,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:38,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:37,columnNumber:9},this),s.jsxDEV("div",{className:"col-12 col-md-6 mb-3",children:s.jsxDEV(n.SzData,{icon:"business-contract-handshake-sign",children:[s.jsxDEV(n.SzData.Text,{children:i("summary.billingInfo.reference")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:45,columnNumber:13},this),s.jsxDEV(n.SzData.Title,{children:c.fullReference},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:46,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:44,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:43,columnNumber:9},this),s.jsxDEV("div",{className:"col-12 col-md-6 mb-3",children:e?s.jsxDEV(X,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:51,columnNumber:13},this):s.jsxDEV(n.SzData,{icon:"envelope",children:[s.jsxDEV(n.SzData.Text,{children:i("summary.billingInfo.email")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:54,columnNumber:15},this),s.jsxDEV(n.SzData.Title,{children:m.billingEmail},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:55,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:53,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:49,columnNumber:9},this),s.jsxDEV("div",{className:"col-12 mb-3",children:e?s.jsxDEV(X,{className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:62,columnNumber:13},this):s.jsxDEV(n.SzData,{icon:"pin-location-1",children:[s.jsxDEV(n.SzData.Text,{children:i("summary.billingInfo.newAddress")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:65,columnNumber:15},this),s.jsxDEV(n.SzData.Title,{children:m!=null&&m.isBillingAddressForeign?[m.billingStreet,m.billingAdditionalStreet?`${m.billingAdditionalStreet}, ${m.billingZipCode} ${m.billingCity}, ${m.billingCountry}`:`${m.billingZipCode} ${m.billingCity}, ${m.billingCountry}`].join(", "):[m.billingStreet,m.billingAdditionalStreet?`${m.billingAdditionalStreet}, ${m.billingZipCode} ${m.billingCity}`:`${m.billingZipCode} ${m.billingCity}`].join(", ")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:66,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:64,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:33,columnNumber:7},this),s.jsxDEV(n.SzTypographie,{children:i("summary.billingInfo.principalOwnerInfos")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:87,columnNumber:7},this),s.jsxDEV("div",{style:{backgroundColor:"var(--gray-100)"},className:"mb-2 row no-gutters p-3",children:[s.jsxDEV("div",{className:"col-12 col-md-5 mb-3",children:e?s.jsxDEV(X,{className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:96,columnNumber:13},this):s.jsxDEV(n.SzData,{icon:"single-neutral-id-card-3",children:[s.jsxDEV(n.SzData.Text,{children:i("summary.billingInfo.principalOwner")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:99,columnNumber:15},this),s.jsxDEV(n.SzData.Title,{children:[m.billingCivility," ",m.billingFirstName," ",m.billingLastName]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:102,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:94,columnNumber:9},this),s.jsxDEV("div",{className:"col-12 col-md-7 mb-3",children:e?s.jsxDEV(X,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:111,columnNumber:13},this):(m.billingBirthDate||m.billingBirthAddress)&&s.jsxDEV(n.SzData,{icon:"calendar-3",children:[s.jsxDEV(n.SzData.Text,{children:i("summary.billingInfo.dateAndBirthPlace")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:115,columnNumber:17},this),s.jsxDEV(n.SzData.Title,{children:[m.billingBirthDate&&m.billingBirthDate.date&&`Le ${we(new Date(m.billingBirthDate.date),"dd/MM/yyyy")}`," ",m.billingBirthAddress&&`à ${m.billingBirthAddress}`]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:118,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:114,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:109,columnNumber:9},this),s.jsxDEV("div",{className:"col-12 col-md-5 mb-3",children:e?s.jsxDEV(X,{className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:130,columnNumber:13},this):m.billingMobilePhone&&s.jsxDEV(n.SzData,{icon:"mobile-phone",children:[s.jsxDEV(n.SzData.Text,{children:i("summary.billingInfo.mobilePhone")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:134,columnNumber:17},this),s.jsxDEV(n.SzData.Title,{children:m.billingMobilePhone},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:133,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:128,columnNumber:9},this),s.jsxDEV("div",{className:"col-12 col-md-7 mb-3",children:e?s.jsxDEV(X,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:144,columnNumber:13},this):m.billingPhone&&s.jsxDEV(n.SzData,{icon:"phone-actions-voice-mail",children:[s.jsxDEV(n.SzData.Text,{children:i("summary.billingInfo.phone")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:148,columnNumber:17},this),s.jsxDEV(n.SzData.Title,{children:m.billingPhone},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:149,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:147,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:142,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:90,columnNumber:7},this),u&&s.jsxDEV(n.SzCheckbox,{id:"confirmEFacture",className:"py-3 ml-3",label:i("summary.billingInfo.billingAccept"),onChange:N,checked:v.values.confirmEFacture},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:156,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/SummaryBilling.jsx",lineNumber:31,columnNumber:5},this)}function mr(){const{t:e}=$(),{initParcours:t}=G.useContext(Z),[{context:i},a]=t,{isEfacture:r}=i,o=_s({behavior:"instant"});qe(4),G.useEffect(()=>{o(0)},[]);const l=pe(x=>ee.post("/move-out/valid-summary",x),{onSuccess:()=>{a({type:"VALIDATE"})},onError:x=>{const{message:w}=x.data;a({type:"VALIDATE",isKo:w==="KO"})}}),c=Cs("getSummary",$t,{refetchOnWindowFocus:!1,initialData:{data:{summary:{dateResiliation:new Date}}},onSuccess:x=>{a({type:"UPDATE_SUMMARY",summary:x.data.summary})}}),u=()=>{a("BACK_BILLING")},m={meterReading:fs().oneOf([!0],"This field must be checked"),confirmData:fs().oneOf([!0],"This field must be checked")},v={meterReading:!1,confirmData:!0};r&&(m.confirmEFacture=fs(),v.confirmEFacture=!1);const N=os().shape(m);return s.jsxDEV($e,{initialValues:v,validationSchema:N,onSubmit:l.mutate,enableReinitialize:!0,validateOnMount:!0,children:({handleSubmit:x,isValid:w,resetForm:g})=>(G.useEffect(()=>{g()},[r]),s.jsxDEV("form",{"data-cy":"moveout-summary",onSubmit:x,children:[s.jsxDEV(or,{...c},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:92,columnNumber:13},this),s.jsxDEV(lr,{...c},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:93,columnNumber:13},this),s.jsxDEV(ur,{...c},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:94,columnNumber:13},this),s.jsxDEV("div",{className:"container",children:s.jsxDEV("div",{className:"pb-5 px-1 px-md-5 mx-md-4",children:s.jsxDEV("div",{className:"row no-gutters mt-3",children:[s.jsxDEV(n.SzButton,{variant:"outlined",icon:"arrow-left",className:"col-12 col-md-4 col-lg-3 mt-3 mt-md-0 order-1 order-sm-0 bg-transparent",onClick:u,children:e("summary.back_button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:98,columnNumber:19},this),s.jsxDEV(n.SzButton,{variant:"contained",className:"col-12 col-md-4 col-lg-3 ml-md-auto",type:"submit",isDisabled:!w,loader:l.isLoading,children:e("summary.send_button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:106,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:97,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:96,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:91,columnNumber:11},this))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Summary/index.jsx",lineNumber:78,columnNumber:5},this)}function cr({loopIndex:e,idPds:t,scrollToMeter:i}){const a=He(),{t:r}=$(),{initParcours:o}=G.useContext(Z),[{context:l},c]=o,{statements:u}=l,[m,v]=G.useState([]),[N,x]=G.useState(!1),{isUploadMandatory:w,isUploadNoView:g,isUploadKo:h}=u[e],f=h&&m.length>0,S="image/jpeg, image/png, image/jpg",{track:j}=ne(),E=O=>{v(O)},b=()=>{j("MOVEOUT_4",{sz_check_result:ht.upload_photo})},C=Vs({initialValues:{upload:null},onSubmit:()=>{const O={idPds1:t,index1:u[e].index,photo1:m[0]||null};L.mutate(O)}}),L=pe(O=>ee.post(wt.MOVE_OUT.CPT_INDEX,O),{onSuccess:O=>{if(O.data.message==="OK"){const _=[...u];if(!u.every(({isValid:M})=>M)){const M=u.findIndex(({isUpdating:K})=>!K);_[M].isUpdating=!0}_[e].photo=m[0]||null,_[e].isUpdating=!1,c({type:"UPDATE_COUNTER",statements:_}),i(e+1)}else x(!0)}});return s.jsxDEV("form",{onSubmit:C.handleSubmit,className:"row no-gutters",children:[g&&s.jsxDEV(n.SzAlert,{className:"mt-3",variant:"warning",children:r("statement.counter_alert_no_view.moveout")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Upload.jsx",lineNumber:82,columnNumber:9},this),w&&s.jsxDEV(n.SzAlert,{className:"mt-3",variant:"warning",children:r("statement.counteralert_default")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Upload.jsx",lineNumber:88,columnNumber:9},this),s.jsxDEV(n.SzTypographie,{className:"my-4 ml-1",weight:"medium",children:r("statement.upload_infos",{context:h&&"mandatory"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Upload.jsx",lineNumber:92,columnNumber:7},this),s.jsxDEV("div",{className:"col-12",children:s.jsxDEV(Gt,{onDrop:E,onFileReject:b,accept:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Upload.jsx",lineNumber:98,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Upload.jsx",lineNumber:97,columnNumber:7},this),N&&s.jsxDEV(n.SzAlert,{className:"col-12 mt-3",variant:"danger",children:r("errors.techError")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Upload.jsx",lineNumber:102,columnNumber:9},this),(!h||f)&&s.jsxDEV(n.SzButton,{id:"uploadButton",variant:"contained",className:"mt-4 mb-3 mx-auto",type:"submit",alignIcon:"right",loader:L.isLoading,icon:a&&"floppy-disk",children:r("statement.upload_button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Upload.jsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Upload.jsx",lineNumber:80,columnNumber:5},this)}function dr({loopIndex:e}){const{t}=$(),{initParcours:i}=G.useContext(Z),[{context:a}]=i,{statements:r,summary:o,currentDateResiliation:l}=a,c=r.findIndex(({isUpdating:C})=>C),{matricule:u,dateIndexTR:m,isTRUpdated:v,isCounterUpdated:N,indexTR:x,summaryIndex:w,index:g}=r[e],h=Ee(l,new Date(o==null?void 0:o.dateResiliation)),f=o==null?void 0:o.dateResiliation,S=Ue(f,l,{...r[e]}),j=w&&h||N?we(l,"dd/MM/yyyy"):we(new Date(m),"dd/MM/yyyy"),E=parseInt(S&&!v?x:g),b=!S&&!N&&w?parseInt(w):E;return s.jsxDEV("div",{className:"cy-data-index p-3 mb-3",style:{background:"var(--gray-100)"},children:s.jsxDEV("div",{className:"row",children:[s.jsxDEV("div",{className:"d-none d-md-block col-3",children:s.jsxDEV(n.SzData,{icon:"gauge-dashboard-1",children:[s.jsxDEV(n.SzData.Text,{children:t("statement.counter_data.counter")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:57,columnNumber:13},this),s.jsxDEV(n.SzData.Title,{children:u},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:58,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:56,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:55,columnNumber:9},this),s.jsxDEV("div",{className:"d-none d-md-block col-3",children:s.jsxDEV(n.SzData,{icon:"calendar-3",children:[s.jsxDEV(n.SzData.Text,{children:t("statement.counter_data.date")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:63,columnNumber:13},this),s.jsxDEV(n.SzData.Title,{children:j},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:64,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:62,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:61,columnNumber:9},this),s.jsxDEV("div",{className:"col-9 col-md-3",children:s.jsxDEV(n.SzData,{icon:"color-drop-pick",children:[s.jsxDEV(n.SzData.Text,{children:t("statement.counter_data.index",{context:S?"TR":"R"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:69,columnNumber:13},this),s.jsxDEV(n.SzData.Title,{children:b},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:67,columnNumber:9},this),c===-1&&s.jsxDEV("div",{className:"col-3 d-flex justify-content-end",children:s.jsxDEV(Ht,{loopIndex:e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:79,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:54,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:50,columnNumber:5},this)}const Ht=({loopIndex:e,differentOnMobile:t,className:i,...a})=>{const{initParcours:r}=G.useContext(Z),[{context:o},l]=r,{statements:c}=o,u=()=>{const v=[...c],N=c.findIndex(({isUpdating:x})=>x);N!==-1&&(v[N].isUpdating=!1,v[N].isValid=!1),v[e].isUpdating=!0,v[e].isValid=!1,l({type:"UPDATE_COUNTER",statements:v})},m=Es("cy-edit-index d-none d-md-block",i);return t?s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzButton,{className:"d-md-none mx-auto mb-2",variant:"text",icon:"pencil-write",onClick:u,alignIcon:"right",...a,children:"Modifier"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:117,columnNumber:9},void 0),s.jsxDEV(n.SzButton,{className:m,variant:"text",icon:"pencil-write",onClick:u,...a},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:127,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:116,columnNumber:7},void 0):s.jsxDEV(n.SzButton,{variant:"text",className:"cy-edit-index",icon:"pencil-write",onClick:u,...a},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Data.jsx",lineNumber:139,columnNumber:5},void 0)};function pr({loopIndex:e,idPds:t}){const i=He(),{t:a}=$(),{initParcours:r}=G.useContext(Z),[{context:o},l]=r,{statements:c,summary:u,currentDateResiliation:m}=o,{isValid:v,isUpdating:N,isCounterUpdated:x,index:w,indexTR:g,summaryIndex:h}=c[e],{track:f}=ne(),S=u==null?void 0:u.dateResiliation,j=Ue(S,m,{...c[e]}),E=Ee(m,new Date(u==null?void 0:u.dateResiliation)),b=pe(D=>ee.post(wt.MOVE_OUT.CPT_INDEX_CHECK,D),{onSuccess:(D,{index:V})=>{const B=D.data.message==="KO_HORS_BORNE",q=D.data.message==="KO_NON_VU",W=D.data.message.includes("KO"),{inconsistent:d,consistent:p}=ht;f("MOVEOUT_18",{sz_check_result:B||q||W?d:p,sz_check_type:"validation"});const I=[...c];I[e].isValid=!0,I[e].index=V,I[e].isCounterUpdated=!0,I[e].isUploadKo=W,I[e].isUploadMandatory=B,I[e].isUploadNoView=q,j&&(I[e].isTRUpdated=!0,I[e].indexUpdated=V),l({type:"UPDATE_COUNTER",statements:I})}}),C=()=>{let D="";return x?D=parseInt(w):E&&h&&(D=parseInt(h)),L(D)},L=D=>{const V=String(D).length,B=5;let q=String(D),W={};if(parseInt(D)>0&&V<B){const d=B-V;for(let p=0;p<d;p++)q=`0${q}`}if(parseInt(D)>0)for(const d in q)W[`input${d}`]=q[d];return W},O=C(),_=Vs({enableReinitialize:!0,initialValues:O,validationSchema:ci,validateOnMount:!0,onSubmit:D=>{const V=Object.values(D).join("");b.mutate({index:V,idPds:t})}}),k={input0:G.useRef(null),input1:G.useRef(null),input2:G.useRef(null),input3:G.useRef(null),input4:G.useRef(null)},M=D=>{D.preventDefault(),D.stopPropagation();const{value:V,name:B}=D.target,q=/^\d?$/,W=Object.keys(k).indexOf(B)+1,d=Object.keys(k).length,p="input"+W;if(_.errors[B]){const y={..._.errors};delete y[B],_.setErrors(y)}(q.test(V)||_.values[B].toString().length>V.toString().length&&B!==p)&&(_.handleChange(D),W<d&&V.length>0&&k[p].current.focus())},K=()=>{const D=[...c];D[e].isValid=!0,D[e].isUpdating=!1,D[e].isTRUpdated=!1,D[e].isCounterUpdated=!1,delete D[e].index,l({type:"UPDATE_COUNTER",statements:D})},F=({children:D})=>s.jsxDEV("div",{className:"mx-1 mx-md-2 pt-1",children:s.jsxDEV("div",{className:"sz-form-group",children:s.jsxDEV("div",{className:"input-group",children:s.jsxDEV("div",{className:"sz-form-group__input p-0 border rounded form-control d-flex justify-content-center align-items-center",style:{width:i?"calc(90vw / 8 - 12px)":41,height:41,background:"var(--btn-disabled)"},children:s.jsxDEV(n.SzTypographie,{color:D?"disabled":"danger",className:"m-0",children:D||"X"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:190,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:182,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:181,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:180,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:179,columnNumber:7},this);if(!N||v){const D=E&&h>0,V=L(h);return s.jsxDEV("div",{className:"cy-digits-index justify-content-center row no-gutters",children:[[...w||D&&V||"-----",...new Array(3).fill()].map((B,q)=>s.jsxDEV(F,{children:B},q,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:214,columnNumber:11},this)),s.jsxDEV(Ht,{differentOnMobile:!0,className:"ml-auto",loopIndex:e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:217,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:209,columnNumber:7},this)}return s.jsxDEV("form",{onSubmit:_.handleSubmit,className:"cy-digits-index row w-100 m-0 no-gutters justify-content-center",children:[Object.keys(k).map((D,V)=>s.jsxDEV("div",{className:Es("mx-1 pt-1",{"mx-md-2":V>0,"mr-md-2":V===0}),children:s.jsxDEV(n.SzInput,{ref:k[D],style:{backgroundColor:v?"var(--blue-4) !important":"",width:i?"calc(90vw / 8 - 12px)":41,height:41},name:D,onChange:M,value:_.values[D],pattern:"^\\d?$",maxLength:1,type:i?"tel":"text",placeholder:"-",className:"p-0 border border-secondary rounded number-box text-center sz-border-1",disabled:v||!N},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:239,columnNumber:11},this)},D,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:232,columnNumber:9},this)),new Array(3).fill().map((...D)=>s.jsxDEV(F,{},D[1],!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:259,columnNumber:9},this)),s.jsxDEV("div",{className:"my-md-auto ml-lg-auto counter-validate",children:[g>0&&N&&!v&&s.jsxDEV(n.SzButton,{onClick:K,className:"cy-btn-reset-index mr-4 mr-md-1",variant:"text",icon:"synchronize-arrow-1"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:263,columnNumber:11},this),s.jsxDEV(n.SzButton,{className:"ml-md-auto",type:"submit",variant:"outlined",isDisabled:!_.isValid,loader:b.isLoading,children:a("validateButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:270,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:261,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Form.jsx",lineNumber:227,columnNumber:5},this)}function vr(e){const t=He(),{t:i}=$(),{loopIndex:a,matricule:r}=e,{initParcours:o}=G.useContext(Z),[{context:l}]=o,{statements:c,summary:u,currentDateResiliation:m}=l,v=we(m,"dd/MM/yyyy"),{isValid:N,isUpdating:x,isTRUpdated:w,indexTR:g,isCounterUpdated:h}=c[a],f=u==null?void 0:u.dateResiliation,S=Ue(f,m,{...c[a]});return s.jsxDEV("div",{className:"px-md-5",children:[x?s.jsxDEV(s.Fragment,{children:t?s.jsxDEV(n.SzTypographie,{className:"mb-md-0",weight:"medium",children:i("statement.counter_infos_required_mobile",{dateIndexTR:v})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:44,columnNumber:13},this):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzTypographie,{className:"mb-md-0",weight:"medium",children:i("statement.counter_infos_required",{dateIndexTR:v})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:51,columnNumber:15},this),s.jsxDEV(n.SzTypographie,{children:i("statement.counter_infos_precision")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:56,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:50,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:42,columnNumber:9},this):s.jsxDEV(n.SzTypographie,{className:"cy-title-type-index",weight:"medium",children:i("statement.last_date_taken",{typeIndex:S?"télé-relevé":"relevé",dateIndexTR:v})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:35,columnNumber:9},this),!N||x?s.jsxDEV("div",{className:"pt-3 p-md-4 mb-3",style:{background:"var(--gray-100)"},children:s.jsxDEV("div",{className:"row no-gutters",children:[s.jsxDEV("div",{className:"d-none d-md-block col-3",children:s.jsxDEV(n.SzData,{icon:"gauge-dashboard-1",children:[s.jsxDEV(n.SzData.Text,{children:i("statement.counter_data.counterNb")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:71,columnNumber:17},this),s.jsxDEV(n.SzData.Title,{children:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:74,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:69,columnNumber:13},this),s.jsxDEV("div",{className:"col ml-auto",children:s.jsxDEV(pr,{...e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:78,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:64,columnNumber:9},this):s.jsxDEV(dr,{...e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:83,columnNumber:9},this),!S&&(g>0||w)&&s.jsxDEV(n.SzData,{icon:"information-circle",className:"text-disabled",children:s.jsxDEV("div",{className:"d-flex align-items-center h-100",children:s.jsxDEV(n.SzData.Text,{weight:"bold",children:i("statement.index_statement",{indexTR:parseInt(g)})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:88,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:86,columnNumber:9},this),N&&x&&s.jsxDEV(cr,{...e},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:94,columnNumber:33},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/Counter.jsx",lineNumber:33,columnNumber:5},this)}function fr(){const e=He(),{t}=$(),{initParcours:i}=G.useContext(Z),[a]=G.useState(!1),[r,o]=G.useState(!1),[{context:l,event:c},u]=i,{statements:m,summary:v,currentDateResiliation:N}=l,x=m.every(({indexTR:j})=>j>0),w=m.every(({isValid:j,isUpdating:E})=>j&&!E);qe(2);const g=()=>{o(!0),u(c.type==="BACK_STATEMENT"?"GO_TO_SUMMARY":"VALIDATE")},h=()=>{u("GO_BACK")};let f={};const S=j=>{var E;_s((E=f[`refIndexBloc${j}`])==null?void 0:E.offsetTop)};return s.jsxDEV("div",{className:"row no-gutters",children:[m.map((j,E)=>{const b=v==null?void 0:v.dateResiliation,L=Ue(b,N,{...j})?"TR":"SE";return f[`refIndexBloc${E}`]=A.useRef(null),s.jsxDEV("div",{className:"cy-card-index col-12 bg-white mt-3",ref:f[`refIndexBloc${E}`],children:s.jsxDEV(n.SzCard,{color:j.isUpdating?"primary-brand":"card-disabled",direction:"top",title:t("statement.title",{context:e?L+"_mobile":L,matricule:j.matricule}),children:s.jsxDEV(vr,{loopIndex:E,scrollToMeter:S,...j},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:75,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:67,columnNumber:13},this)},j.matricule,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:62,columnNumber:11},this)}),a&&s.jsxDEV(n.SzAlert,{className:"col-12 mt-3",variant:"danger",children:t("errors.techError")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:86,columnNumber:9},this),s.jsxDEV("div",{className:"col-12 d-flex px-5 py-3 flex-column flex-md-row",children:s.jsxDEV("div",{className:"row",children:[s.jsxDEV(n.SzButton,{className:"col-12 col-md-4 col-lg-3 mt-3 mt-md-0 order-1 order-sm-0",variant:"outlined",onClick:h,icon:"arrow-left",children:t("statement.back_step_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:93,columnNumber:11},this),s.jsxDEV(n.SzButton,{"data-cy":"btn-validate-continue",variant:"contained",isDisabled:!w,loader:r,onClick:g,className:"col-12 col-md-4 col-lg-3 ml-md-auto",children:t("statement.validate_and_continue")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:92,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:91,columnNumber:7},this),x?s.jsxDEV(n.SzHelper,{title:t("statement.helper_step_2.title"),label:t("know_more"),children:s.jsxDEV(n.SzTypographie,{children:t("statement.helper_step_2.content")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:134,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:130,columnNumber:9},this):s.jsxDEV(n.SzHelper,{title:t("statement.helper_step_1.title"),label:t("know_more"),children:[s.jsxDEV(n.SzTypographie,{weight:"bold",children:t("statement.helper_step_1.black_number")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:118,columnNumber:11},this),s.jsxDEV(n.SzTypographie,{children:t("statement.helper_step_1.content")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:121,columnNumber:11},this),s.jsxDEV(n.SzTypographie,{weight:"bold",children:t("statement.helper_step_1.subtitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:122,columnNumber:11},this),s.jsxDEV(n.SzTypographie,{children:t("statement.helper_step_1.subcontent")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:114,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/Counter/index.jsx",lineNumber:52,columnNumber:5},this)}function Nr(){const e=Is(),{t}=$(),{initParcours:i}=A.useContext(Z),[a]=i,[r,o]=A.useState(0),l=_s({top:0}),c=[t("stepper.header.step_1"),t("stepper.header.step_2"),t("stepper.header.step_3"),t("stepper.header.step_4")];return A.useEffect(()=>{switch(!0){case a.matches("startParcours.dateSelection"):o(0);break;case a.matches("startParcours.statementsForm"):o(1);break;case a.matches("startParcours.billingInfo"):o(2);break;case a.matches("startParcours.summary"):o(3);break}},[a.value]),A.useEffect(()=>{l()},[r]),a.matches("startParcours.checkContractEligibility")?s.jsxDEV(n.SzCard,{children:s.jsxDEV(X,{count:2},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:59,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:58,columnNumber:7},this):s.jsxDEV(n.SzStepper,{variant:"rounded",activeStep:r,header:c,children:[s.jsxDEV(n.SzStepper.SzHeader,{className:e?"bg-white":""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:66,columnNumber:7},this),s.jsxDEV("div",{className:"container",children:[r!==3&&s.jsxDEV(nr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:68,columnNumber:30},this),s.jsxDEV(n.SzStepper.SzStep,{className:"bg-transparent p-0",index:0,children:r===0&&s.jsxDEV(Za,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:70,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:69,columnNumber:9},this),s.jsxDEV(n.SzStepper.SzStep,{className:"bg-transparent p-0",index:1,children:r===1&&s.jsxDEV(fr,{contextPath:Z},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:73,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:72,columnNumber:9},this),s.jsxDEV(n.SzStepper.SzStep,{className:"bg-transparent p-0",index:2,children:r===2&&s.jsxDEV(rr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:76,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:75,columnNumber:9},this),s.jsxDEV(n.SzStepper.SzStep,{className:"bg-transparent p-0",index:3,children:r===3&&s.jsxDEV(mr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:79,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:67,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Stepper/index.jsx",lineNumber:65,columnNumber:5},this)}const hr=""+new URL("checklist-ok-DliMll4Y.svg",import.meta.url).href,wr=({imgEdito:e,title:t,info:i,infoRef:a,blocRight:r,customService:o,helper:l,readMore:c})=>{const{t:u}=$();return s.jsxDEV("div",{className:"edito",children:[s.jsxDEV(gr,{imgEdito:e,children:s.jsxDEV("div",{className:"container",children:s.jsxDEV(n.SzTypographie,{variant:"huge",weight:"bold",className:"title pt-5",children:s.jsxDEV(js,{children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:25,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:24,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:23,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:22,columnNumber:7},void 0),s.jsxDEV("div",{className:"container-fluid",children:[s.jsxDEV("div",{className:"container",children:s.jsxDEV("div",{className:"row row-eq-height row-connection",children:[s.jsxDEV("div",{className:"col-12 col-md-6",children:s.jsxDEV("div",{className:"mr-1 bg-primary-light rounded-lg shadow-sm p-4 mb-3",children:[i&&s.jsxDEV("div",{className:"mx-4",children:[s.jsxDEV(n.SzTypographie,{variant:"h1",weight:"bold",children:i.title},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:37,columnNumber:21},void 0),s.jsxDEV(n.SzTypographie,{children:i.description},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:41,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:36,columnNumber:19},void 0),a&&s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{children:a},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:46,columnNumber:21},void 0),c&&s.jsxDEV("div",{className:"readMore",children:s.jsxDEV(n.SzHelper,{type:"btn",className:"helper-mobile",label:u("know_more"),children:c},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:49,columnNumber:25},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:48,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:45,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:34,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:33,columnNumber:13},void 0),s.jsxDEV("div",{className:"col-12 col-md-6",children:r},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:62,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:32,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:31,columnNumber:9},void 0),o&&s.jsxDEV("div",{className:"row block-customer-service pb-4 pt-4",children:s.jsxDEV("div",{className:"col-12 text-center",children:o},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:68,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:67,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:30,columnNumber:7},void 0),l&&s.jsxDEV("div",{className:qt("container",{"mt-5":!o}),children:s.jsxDEV("div",{className:"row",children:s.jsxDEV(n.SzHelper,{className:"mb-5 col-10 mx-auto",label:u("know_more"),children:l},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:76,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:75,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:74,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/edito/Edito.jsx",lineNumber:21,columnNumber:5},void 0)},gr=si.div`
  position: relative;
  height: 322px;
  background-image: linear-gradient(
    270deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.6) 100%
  );

  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    z-index: -1;
    background-position: center;
    background-size: 100%;
    background-repeat: no-repeat;
    background-image: linear-gradient(
        270deg,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.6) 100%
      ),
      url(${e=>e.imgEdito});
  }

  .title {
    line-height: 1;
  }

  @media (max-width: 767px) {
    br {
      display: none;
    }

    &::after {
      display: block;
      background-size: 200%;
      background-image: url(${e=>e.imgEdito});
      position: static;
      height: 300px;
    }
  }
`,br=wr,jr=""+new URL("edito_background-DTMT2fnp.jpg",import.meta.url).href;function xr(){const{t:e}=$(),t=ni(),{track:i}=ne(),{isConnected:a,isIntranet:r}=window.tsme_data,o=a?"MOVEOUT_4":"MOVEOUT_1",l={title:e("editoMoveOut.info.title"),description:e("editoMoveOut.info.description")};A.useEffect(()=>{i(o)},[]);const c=s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzData,{icon:"check-circle-1",className:"p-4 bg-gray-100",children:[s.jsxDEV(n.SzData.Title,{children:e("editoMoveOut.info.reference.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:36,columnNumber:9},this),s.jsxDEV(n.SzData.Text,{variant:"text",weight:"light",color:"placeholder",children:e("editoMoveOut.info.reference.text")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:35,columnNumber:7},this),s.jsxDEV(n.SzData,{icon:"check-circle-1",className:"p-4",children:[s.jsxDEV(n.SzData.Title,{children:e("editoMoveOut.info.resiliationDate.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:42,columnNumber:9},this),s.jsxDEV(n.SzData.Text,{variant:"text",weight:"light",color:"placeholder",children:e("editoMoveOut.info.resiliationDate.text")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:45,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:41,columnNumber:7},this),s.jsxDEV(n.SzData,{icon:"check-circle-1",className:"p-4 bg-gray-100",children:[s.jsxDEV(n.SzData.Title,{children:e("editoMoveOut.info.index.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:50,columnNumber:9},this),s.jsxDEV(n.SzData.Text,{variant:"text",weight:"light",color:"placeholder",children:e("editoMoveOut.info.index.text")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:51,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:49,columnNumber:7},this),s.jsxDEV(n.SzData,{icon:"check-circle-1",className:"p-4",children:[s.jsxDEV(n.SzData.Title,{children:e("editoMoveOut.info.photo.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:56,columnNumber:9},this),s.jsxDEV(n.SzData.Text,{variant:"text",weight:"light",color:"placeholder",children:e("editoMoveOut.info.photo.text")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:57,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:55,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:34,columnNumber:5},this),u=s.jsxDEV(s.Fragment,{children:[s.jsxDEV("div",{className:"ml-1 bg-primary-light rounded-lg shadow-sm p-4 text-center",children:[s.jsxDEV(n.SzTypographie,{variant:"h1",weight:"bold",className:"text-center mb-3",children:e("editoMoveOut.connected.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:67,columnNumber:9},this),s.jsxDEV(is,{variant:"contained",isDisabled:r,to:Ds.UNSUBSCRIBE,children:e("editoMoveOut.connected.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:66,columnNumber:7},this),s.jsxDEV("div",{className:"d-none d-md-block text-center mt-1",children:s.jsxDEV("img",{src:hr,alt:"",className:"img-checklist"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:79,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:78,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:65,columnNumber:5},this),m=()=>{t.push("/resilier/resiliation")},v=s.jsxDEV("div",{className:"ml-1 bg-primary-light rounded-lg shadow-sm p-4",children:[s.jsxDEV(n.SzTypographie,{variant:"h1",weight:"bold",className:"text-center",children:e("editoMoveOut.auth.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:92,columnNumber:7},this),s.jsxDEV(ft,{className:"block-login rounded-lg p-4 m-3 pb-5 border-small",title:e("editoMoveOut.loginForm.title"),info:e("editoMoveOut.loginForm.info"),submitText:e("editoMoveOut.loginForm.submitText"),targetPath:"/resilier/resiliation?connected"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:95,columnNumber:7},this),s.jsxDEV("div",{className:"rounded-lg p-4 m-3 border-small",children:[s.jsxDEV(n.SzTypographie,{weight:"bold",className:"text-center",children:e("editoMoveOut.auth.block.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:104,columnNumber:9},this),s.jsxDEV(n.SzTypographie,{children:e("editoMoveOut.auth.block.content")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:107,columnNumber:9},this),s.jsxDEV("div",{className:"text-center",children:s.jsxDEV(n.SzButton,{onClick:m,variant:"outlined",children:e("editoMoveOut.auth.block.submit")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:109,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:103,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:91,columnNumber:5},this),N=h=>{h.preventDefault();const f=h.target.href;window.location.assign(f)},x=s.jsxDEV("a",{onClick:N,href:"/service-client",children:e("editoMoveOut.auth.customerServiceLink")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:126,columnNumber:5},this),w=s.jsxDEV(n.SzTypographie,{className:"m-0",children:[e("editoMoveOut.auth.customerServiceStart"),x,e("editoMoveOut.auth.customerServiceEnd")]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:132,columnNumber:5},this),g=s.jsxDEV(s.Fragment,{children:[s.jsxDEV(n.SzTypographie,{variant:"large",weight:"bold",align:"center",children:e("editoMoveOut.helper.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:141,columnNumber:7},this),s.jsxDEV(n.SzTypographie,{weight:"bold",children:e("editoMoveOut.helper.blackNumbers.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:145,columnNumber:7},this),s.jsxDEV(n.SzTypographie,{children:s.jsxDEV(js,{t:e,children:"editoMoveOut.helper.blackNumbers.content"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:150,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:149,columnNumber:7},this),s.jsxDEV(n.SzTypographie,{weight:"bold",children:e("editoMoveOut.helper.photo.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:153,columnNumber:7},this),s.jsxDEV(n.SzTypographie,{children:s.jsxDEV(js,{t:e,children:"editoMoveOut.helper.photo.content"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:158,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:157,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:140,columnNumber:5},this);return s.jsxDEV(br,{imgEdito:jr,title:e("editoMoveOut.title"),info:l,infoRef:c,blocRight:a?u:v,customService:w,helper:g},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Edito/index.jsx",lineNumber:164,columnNumber:5},this)}function Sr(){const{t:e}=$(),t=()=>{window.location.assign("/")};return qe("complete"),s.jsxDEV("div",{className:"container bg-white my-3 my-md-5 px-md-5 py-md-4 px-2","data-cy":"validation",children:s.jsxDEV("div",{className:"px-md-5",children:s.jsxDEV("div",{className:"row",children:s.jsxDEV("div",{className:"col-12 col-md-9 mx-auto",children:[s.jsxDEV(n.SzTypographie,{variant:"huge",tag:"h1",weight:"medium",className:"mb-4 d-none d-md-block",children:e("validation.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:25,columnNumber:13},this),s.jsxDEV(n.SzTypographie,{tag:"h1",weight:"medium",className:"mb-4 text-left d-md-none",children:e("validation.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:33,columnNumber:13},this),s.jsxDEV(n.SzTypographie,{children:e("validation.content_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:40,columnNumber:13},this),s.jsxDEV(n.SzTypographie,{children:e("validation.content_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:41,columnNumber:13},this),s.jsxDEV(n.SzTypographie,{children:e("validation.content_3")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:42,columnNumber:13},this),s.jsxDEV(n.SzTypographie,{children:e("validation.content_4")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:43,columnNumber:13},this),s.jsxDEV(n.SzButton,{"data-cy":"validation-home",variant:"contained",onClick:t,children:e("validation.btn_home")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:44,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:24,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:23,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:22,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/Validation.jsx",lineNumber:18,columnNumber:5},this)}const yr=""+new URL("stepper_background-B-Ju6_jU.jpg",import.meta.url).href;function rn(){const[e,t]=A.useState(!1),i=gi(Ba),[a]=i,o=["contractNotEligible","contractNotSelectionable"].includes(a.value),l=a.matches("startParcours.validationPage"),u=Zt({initParcoursState:a,eligibleArray:["contractNotEligible","contractAlreadyInitiated"]});return A.useEffect(()=>{t(!0)},[]),window.ssrRender||!e?null:s.jsxDEV(ji,{initParcours:i,children:l?s.jsxDEV(Sr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/index.tsx",lineNumber:42,columnNumber:9},this):s.jsxDEV(ti,{fullscreen:!0,background:yr,className:"container-moveout p-0",showBackground:u,tag:"main",children:[a.matches("connected")&&s.jsxDEV(qa,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/index.tsx",lineNumber:51,columnNumber:54},this),a.matches("edito")&&s.jsxDEV(xr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/index.tsx",lineNumber:52,columnNumber:50},this),a.matches("authentication")&&s.jsxDEV($a,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/index.tsx",lineNumber:53,columnNumber:59},this),o&&s.jsxDEV(Ha,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/index.tsx",lineNumber:54,columnNumber:28},this),a.matches("startParcours")&&!l&&s.jsxDEV(Nr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/index.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-out/index.tsx",lineNumber:44,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-out/index.tsx",lineNumber:40,columnNumber:5},this)}export{rn as default};

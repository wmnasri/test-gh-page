import{c as Oe,s as as,r as Nn,Y as gs,Q as Qs,P as en,Z as ar,_ as $e,$ as or,a0 as sn,a1 as lr,v as mr,a2 as nn,t as ur,j as e,b as l,a as Fe}from"./index-BzhTyqaY.js";import{r as D,a as Ts,c as He,R as fe}from"./index-0X8QCd_i.js";import{r as cr,I as dr,i as pr,a as vr,b as rn}from"./index-CTjy3iMP.js";import{g as tn,a as pe,A as Ne,C as q,l as fr}from"./AxiosInstance-BZZbXQ8a.js";import{e as Nr,a as be}from"./index-Dctip-EM.js";import{R as se,K as wn,B as an,C as wr,f as Te,F as ds,D as br,bp as hr,J as jr}from"./main-BbuvrTKi.js";import{i as Bs,U as xr,u as Ns,C as on,s as ln,a as gr}from"./CapAdress-BFdzaZI9.js";import{H as Ue,j as me,d as he,o as Sr,c as Ze,at as Je,S as Se,ar as G,au as yr,Q as mn,av as bn,w as Er,aw as hn,ax as Dr,n as Ir,ay as Cr,C as Vr}from"./react-spring-web.esm-DsMzZgQq.js";import{a as le,b as _r,M as Mr,E as ts}from"./index-wRYl2djc.js";import{u as z}from"./useTranslation-BYGhmYBG.js";import{a as os,u as je}from"./useResponsive-DQBhMvnf.js";import{u as Ee}from"./useMutation-DnofRurj.js";import{O as Be,S as k,F as Ge,r as Or,a as As,D as Tr,u as xe,b as Re}from"./formik.esm-DgjVmEdT.js";import{c as Br,a as Ar,b as is,f as Pr,e as Is,d as zr,u as Rr,F as jn}from"./useWaitForDOMRef-BJ73eCtx.js";import{c as Ps,u as zs,d as kr,b as Lr}from"./createWithBsPrefix--uDGuUX5.js";import{R as Fr}from"./index-4p5aklhB.js";import{P as Ss}from"./index-BoI371yk.js";import{d as Ur}from"./divWithClassName-BF71WaKi.js";import{M as X}from"./index-E8Xemi00.js";import"./index-m5SwaE3w.js";/* empty css              *//* empty css                         */import{S as ce}from"./index-R4VhrMC6.js";import{P as Hr}from"./PasswordRules-B5XjeTS1.js";import{a as Gr,u as Wr,g as $r,i as xn,f as gn,c as Kr}from"./useGetConsentQuery-BHaQcDt9.js";import{u as Rs}from"./useQuery-DDRZMcvI.js";import{a as Yr}from"./model-B4-lDszr.js";import{i as qr}from"./releve_index-BZ8gkQLR.js";import{u as Sn}from"./useScrollTo-VXXfg99K.js";import{p as Xr,I as Zr}from"./PhoneInput-CWQsNAcr.js";import{a as Jr,D as Qr,M as et}from"./useSetOtp-CzAWukMa.js";import"./throttle-C5YRRb_b.js";import"./_baseIsEqual-DwR-aJgz.js";import"./index-D593oKY2.js";import"./index-BsXj3zEC.js";import"./FormError-BtpZASc0.js";import"./index-D1YCTWBN.js";import"./index-2r8MWarU.js";import"./PaymentChoice-B26KIjmU.js";import"./index-DNT32797.js";import"./ContractSummary-C2MvU0wS.js";import"./emotion-css.esm-Clv7IYTo.js";import"./useIsFetching-B7nv8BYd.js";import"./alert-CQfNZT_D.js";import"./cross-circle-D-gJHWvz.js";import"./iframe-CrganuSH.js";import"../sb-preview/runtime.js";import"./nonIterableRest-CnCppAvF.js";import"./index-B4MErowZ.js";import"./index-DPR1boKH.js";import"./recaptcha-wrapper-CLWKokWK.js";import"./process-error-015Ob3qT.js";import"./useQueryObserver-BYynaL_B.js";import"./Tips-j9k3pi84.js";import"./useInterweave-MFQvh887.js";import"./light-bulb-shine-BN5xHApG.js";import"./InputSeries-CZppcBLq.js";function yn({addressSite1:s="",addressSite2:n="",addressSite3:t="",cpSite:r="",villeSite:i="",country:a=""}){const o=os();let m=s;return n.trim()&&(m+=`, ${n}`),t.trim()&&(m+=`, ${t}`),r.trim()&&(m+=`, ${r}`),i.trim()&&(m+=` ${i}`),a.trim()&&(m+=`, ${a}`),o&&(m==null?void 0:m.length)>75?m=`${Ue(m,77," ...")} `:o&&(m==null?void 0:m.length)>27?m=`${Ue(m,m.length," ...")} `:(m==null?void 0:m.length)>27&&(m=`${Ue(m,29," ...")} `),m}function st(s){var n=D.useRef(null);return D.useEffect(function(){n.current=s}),n.current}const nt={"aria-label":Ss.string,onClick:Ss.func,variant:Ss.oneOf(["white"])},rt={"aria-label":"Close"},ws=D.forwardRef(({className:s,variant:n,...t},r)=>me.jsx("button",{ref:r,type:"button",className:Oe("btn-close",n&&`btn-close-${n}`,s),...t}));ws.displayName="CloseButton";ws.propTypes=nt;ws.defaultProps=rt;const tt="data-rr-ui-";function it(s){return`${tt}${s}`}function at(s){var n=D.useRef(s);return n.current=s,n}function ot(s){var n=at(s);D.useEffect(function(){return function(){return n.current()}},[])}function lt(s=document){const n=s.defaultView;return Math.abs(n.innerWidth-s.documentElement.clientWidth)}const un=it("modal-open");class ks{constructor({ownerDocument:n,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=n}getScrollbarWidth(){return lt(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(n){}removeModalAttributes(n){}setContainerStyle(n){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();n.style={overflow:i.style.overflow,[r]:i.style[r]},n.scrollBarWidth&&(t[r]=`${parseInt(as(i,r)||"0",10)+n.scrollBarWidth}px`),i.setAttribute(un,""),as(i,t)}reset(){[...this.modals].forEach(n=>this.remove(n))}removeContainerStyle(n){const t=this.getElement();t.removeAttribute(un),Object.assign(t.style,n.style)}add(n){let t=this.modals.indexOf(n);return t!==-1||(t=this.modals.length,this.modals.push(n),this.setModalAttributes(n),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(n){const t=this.modals.indexOf(n);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(n))}isTopModal(n){return!!this.modals.length&&this.modals[this.modals.length-1]===n}}const mt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ut(s,n){if(s==null)return{};var t={},r=Object.keys(s),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=s[i]);return t}let ys;function ct(s){return ys||(ys=new ks({ownerDocument:s==null?void 0:s.document})),ys}function dt(s){const n=Pr(),t=s||ct(n),r=D.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:D.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:D.useCallback(i=>{r.current.backdrop=i},[])})}const En=D.forwardRef((s,n)=>{let{show:t=!1,role:r="dialog",className:i,style:a,children:o,backdrop:m=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:v,backdropTransition:N,autoFocus:h=!0,enforceFocus:j=!0,restoreFocus:y=!0,restoreFocusOptions:E,renderDialog:I,renderBackdrop:x=p=>me.jsx("div",Object.assign({},p)),manager:f,container:b,onShow:g,onHide:w=()=>{},onExit:S,onExited:C,onExiting:V,onEnter:_,onEntering:M,onEntered:F}=s,Z=ut(s,mt);const P=Br(b),L=dt(f),B=Ar(),W=st(t),[K,R]=D.useState(!t),J=D.useRef(null);D.useImperativeHandle(n,()=>L,[L]),Nn&&!W&&t&&(J.current=gs()),!v&&!t&&!K?R(!0):t&&K&&R(!1);const re=is(()=>{if(L.add(),Pe.current=Qs(document,"keydown",Ae),Ve.current=Qs(document,"focus",()=>setTimeout(ue),!0),g&&g(),h){const p=gs(document);L.dialog&&p&&!en(L.dialog,p)&&(J.current=p,L.dialog.focus())}}),Q=is(()=>{if(L.remove(),Pe.current==null||Pe.current(),Ve.current==null||Ve.current(),y){var p;(p=J.current)==null||p.focus==null||p.focus(E),J.current=null}});D.useEffect(()=>{!t||!P||re()},[t,P,re]),D.useEffect(()=>{K&&Q()},[K,Q]),ot(()=>{Q()});const ue=is(()=>{if(!j||!B()||!L.isTopModal())return;const p=gs();L.dialog&&p&&!en(L.dialog,p)&&L.dialog.focus()}),ge=is(p=>{p.target===p.currentTarget&&(c==null||c(p),m===!0&&w())}),Ae=is(p=>{u&&p.keyCode===27&&L.isTopModal()&&(d==null||d(p),p.defaultPrevented||w())}),Ve=D.useRef(),Pe=D.useRef(),We=(...p)=>{R(!0),C==null||C(...p)},Ie=v;if(!P||!(t||Ie&&!K))return null;const _e=Object.assign({role:r,ref:L.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Z,{style:a,className:i,tabIndex:-1});let ze=I?I(_e):me.jsx("div",Object.assign({},_e,{children:D.cloneElement(o,{role:"document"})}));Ie&&(ze=me.jsx(Ie,{appear:!0,unmountOnExit:!0,in:!!t,onExit:S,onExiting:V,onExited:We,onEnter:_,onEntering:M,onEntered:F,children:ze}));let ke=null;if(m){const p=N;ke=x({ref:L.setBackdropRef,onClick:ge}),p&&(ke=me.jsx(p,{appear:!0,in:!!t,children:ke}))}return me.jsx(me.Fragment,{children:Fr.createPortal(me.jsxs(me.Fragment,{children:[ke,ze]}),P)})});En.displayName="Modal";const pt=Object.assign(En,{Manager:ks}),Ke={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class vt extends ks{adjustAndStore(n,t,r){const i=t.style[n];t.dataset[n]=i,as(t,{[n]:`${parseFloat(as(t,n))+r}px`})}restore(n,t){const r=t.dataset[n];r!==void 0&&(delete t.dataset[n],as(t,{[n]:r}))}setContainerStyle(n){super.setContainerStyle(n);const t=this.getElement();if(ar(t,"modal-open"),!n.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";$e(t,Ke.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,n.scrollBarWidth)),$e(t,Ke.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-n.scrollBarWidth)),$e(t,Ke.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,n.scrollBarWidth))}removeContainerStyle(n){super.removeContainerStyle(n);const t=this.getElement();or(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";$e(t,Ke.FIXED_CONTENT).forEach(a=>this.restore(r,a)),$e(t,Ke.STICKY_CONTENT).forEach(a=>this.restore(i,a)),$e(t,Ke.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let Es;function ft(s){return Es||(Es=new vt(s)),Es}const Nt=Ps("modal-body"),Dn=D.createContext({onHide(){}}),Ls=D.forwardRef(({bsPrefix:s,className:n,contentClassName:t,centered:r,size:i,fullscreen:a,children:o,scrollable:m,...u},c)=>{s=zs(s,"modal");const d=`${s}-dialog`,v=typeof a=="string"?`${s}-fullscreen-${a}`:`${s}-fullscreen`;return me.jsx("div",{...u,ref:c,className:Oe(d,n,i&&`${s}-${i}`,r&&`${d}-centered`,m&&`${d}-scrollable`,a&&v),children:me.jsx("div",{className:Oe(`${s}-content`,t),children:o})})});Ls.displayName="ModalDialog";const wt=Ps("modal-footer"),bt={closeLabel:"Close",closeButton:!1},In=D.forwardRef(({closeLabel:s,closeVariant:n,closeButton:t,onHide:r,children:i,...a},o)=>{const m=D.useContext(Dn),u=Is(()=>{m==null||m.onHide(),r==null||r()});return me.jsxs("div",{ref:o,...a,children:[i,t&&me.jsx(ws,{"aria-label":s,variant:n,onClick:u})]})});In.defaultProps=bt;const ht={closeLabel:"Close",closeButton:!1},Fs=D.forwardRef(({bsPrefix:s,className:n,...t},r)=>(s=zs(s,"modal-header"),me.jsx(In,{ref:r,...t,className:Oe(n,s)})));Fs.displayName="ModalHeader";Fs.defaultProps=ht;const jt=Ur("h4"),xt=Ps("modal-title",{Component:jt}),gt={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Ls};function St(s){return me.jsx(jn,{...s,timeout:null})}function yt(s){return me.jsx(jn,{...s,timeout:null})}const Us=D.forwardRef(({bsPrefix:s,className:n,style:t,dialogClassName:r,contentClassName:i,children:a,dialogAs:o,"aria-labelledby":m,"aria-describedby":u,"aria-label":c,show:d,animation:v,backdrop:N,keyboard:h,onEscapeKeyDown:j,onShow:y,onHide:E,container:I,autoFocus:x,enforceFocus:f,restoreFocus:b,restoreFocusOptions:g,onEntered:w,onExit:S,onExiting:C,onEnter:V,onEntering:_,onExited:M,backdropClassName:F,manager:Z,...P},L)=>{const[B,W]=D.useState({}),[K,R]=D.useState(!1),J=D.useRef(!1),re=D.useRef(!1),Q=D.useRef(null),[ue,ge]=zr(),Ae=kr(L,ge),Ve=Is(E),Pe=Lr();s=zs(s,"modal");const We=D.useMemo(()=>({onHide:Ve}),[Ve]);function Ie(){return Z||ft({isRTL:Pe})}function _e(ee){if(!Nn)return;const Ce=Ie().getScrollbarWidth()>0,rs=ee.scrollHeight>mr(ee).documentElement.clientHeight;W({paddingRight:Ce&&!rs?nn():void 0,paddingLeft:!Ce&&rs?nn():void 0})}const ze=Is(()=>{ue&&_e(ue.dialog)});Rr(()=>{sn(window,"resize",ze),Q.current==null||Q.current()});const ke=()=>{J.current=!0},p=ee=>{J.current&&ue&&ee.target===ue.dialog&&(re.current=!0),J.current=!1},O=()=>{R(!0),Q.current=ur(ue.dialog,()=>{R(!1)})},A=ee=>{ee.target===ee.currentTarget&&O()},T=ee=>{if(N==="static"){A(ee);return}if(re.current||ee.target!==ee.currentTarget){re.current=!1;return}E==null||E()},U=ee=>{!h&&N==="static"?(ee.preventDefault(),O()):h&&j&&j(ee)},H=(ee,Ce)=>{ee&&_e(ee),V==null||V(ee,Ce)},Y=ee=>{Q.current==null||Q.current(),S==null||S(ee)},$=(ee,Ce)=>{_==null||_(ee,Ce),lr(window,"resize",ze)},ae=ee=>{ee&&(ee.style.display=""),M==null||M(ee),sn(window,"resize",ze)},oe=D.useCallback(ee=>me.jsx("div",{...ee,className:Oe(`${s}-backdrop`,F,!v&&"show")}),[v,F,s]),ye={...t,...B};ye.display="block";const ns=ee=>me.jsx("div",{role:"dialog",...ee,style:ye,className:Oe(n,s,K&&`${s}-static`,!v&&"show"),onClick:N?T:void 0,onMouseUp:p,"aria-label":c,"aria-labelledby":m,"aria-describedby":u,children:me.jsx(o,{...P,onMouseDown:ke,className:r,contentClassName:i,children:a})});return me.jsx(Dn.Provider,{value:We,children:me.jsx(pt,{show:d,ref:Ae,backdrop:N,container:I,keyboard:!0,autoFocus:x,enforceFocus:f,restoreFocus:b,restoreFocusOptions:g,onEscapeKeyDown:U,onShow:y,onHide:E,onEnter:H,onEntering:$,onEntered:w,onExit:Y,onExiting:C,onExited:ae,manager:Ie(),transition:v?St:void 0,backdropTransition:v?yt:void 0,renderBackdrop:oe,renderDialog:ns})})});Us.displayName="Modal";Us.defaultProps=gt;const cn=Object.assign(Us,{Body:Nt,Header:Fs,Title:xt,Footer:wt,Dialog:Ls,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var Hs={};function Et(s){for(var n=[],t=0;t<s.length;){var r=s[t];if(r==="*"||r==="+"||r==="?"){n.push({type:"MODIFIER",index:t,value:s[t++]});continue}if(r==="\\"){n.push({type:"ESCAPED_CHAR",index:t++,value:s[t++]});continue}if(r==="{"){n.push({type:"OPEN",index:t,value:s[t++]});continue}if(r==="}"){n.push({type:"CLOSE",index:t,value:s[t++]});continue}if(r===":"){for(var i="",a=t+1;a<s.length;){var o=s.charCodeAt(a);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o===95){i+=s[a++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(t));n.push({type:"NAME",index:t,value:i}),t=a;continue}if(r==="("){var m=1,u="",a=t+1;if(s[a]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(a));for(;a<s.length;){if(s[a]==="\\"){u+=s[a++]+s[a++];continue}if(s[a]===")"){if(m--,m===0){a++;break}}else if(s[a]==="("&&(m++,s[a+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(a));u+=s[a++]}if(m)throw new TypeError("Unbalanced pattern at ".concat(t));if(!u)throw new TypeError("Missing pattern at ".concat(t));n.push({type:"PATTERN",index:t,value:u}),t=a;continue}n.push({type:"CHAR",index:t,value:s[t++]})}return n.push({type:"END",index:t,value:""}),n}function Gs(s,n){n===void 0&&(n={});for(var t=Et(s),r=n.prefixes,i=r===void 0?"./":r,a="[^".concat(qe(n.delimiter||"/#?"),"]+?"),o=[],m=0,u=0,c="",d=function(w){if(u<t.length&&t[u].type===w)return t[u++].value},v=function(w){var S=d(w);if(S!==void 0)return S;var C=t[u],V=C.type,_=C.index;throw new TypeError("Unexpected ".concat(V," at ").concat(_,", expected ").concat(w))},N=function(){for(var w="",S;S=d("CHAR")||d("ESCAPED_CHAR");)w+=S;return w};u<t.length;){var h=d("CHAR"),j=d("NAME"),y=d("PATTERN");if(j||y){var E=h||"";i.indexOf(E)===-1&&(c+=E,E=""),c&&(o.push(c),c=""),o.push({name:j||m++,prefix:E,suffix:"",pattern:y||a,modifier:d("MODIFIER")||""});continue}var I=h||d("ESCAPED_CHAR");if(I){c+=I;continue}c&&(o.push(c),c="");var x=d("OPEN");if(x){var E=N(),f=d("NAME")||"",b=d("PATTERN")||"",g=N();v("CLOSE"),o.push({name:f||(b?m++:""),pattern:f&&!b?a:b,prefix:E,suffix:g,modifier:d("MODIFIER")||""});continue}v("END")}return o}function Dt(s,n){return Cn(Gs(s,n),n)}function Cn(s,n){n===void 0&&(n={});var t=Ws(n),r=n.encode,i=r===void 0?function(u){return u}:r,a=n.validate,o=a===void 0?!0:a,m=s.map(function(u){if(typeof u=="object")return new RegExp("^(?:".concat(u.pattern,")$"),t)});return function(u){for(var c="",d=0;d<s.length;d++){var v=s[d];if(typeof v=="string"){c+=v;continue}var N=u?u[v.name]:void 0,h=v.modifier==="?"||v.modifier==="*",j=v.modifier==="*"||v.modifier==="+";if(Array.isArray(N)){if(!j)throw new TypeError('Expected "'.concat(v.name,'" to not repeat, but got an array'));if(N.length===0){if(h)continue;throw new TypeError('Expected "'.concat(v.name,'" to not be empty'))}for(var y=0;y<N.length;y++){var E=i(N[y],v);if(o&&!m[d].test(E))throw new TypeError('Expected all "'.concat(v.name,'" to match "').concat(v.pattern,'", but got "').concat(E,'"'));c+=v.prefix+E+v.suffix}continue}if(typeof N=="string"||typeof N=="number"){var E=i(String(N),v);if(o&&!m[d].test(E))throw new TypeError('Expected "'.concat(v.name,'" to match "').concat(v.pattern,'", but got "').concat(E,'"'));c+=v.prefix+E+v.suffix;continue}if(!h){var I=j?"an array":"a string";throw new TypeError('Expected "'.concat(v.name,'" to be ').concat(I))}}return c}}function It(s,n){var t=[],r=$s(s,t,n);return Vn(r,t,n)}function Vn(s,n,t){t===void 0&&(t={});var r=t.decode,i=r===void 0?function(a){return a}:r;return function(a){var o=s.exec(a);if(!o)return!1;for(var m=o[0],u=o.index,c=Object.create(null),d=function(N){if(o[N]===void 0)return"continue";var h=n[N-1];h.modifier==="*"||h.modifier==="+"?c[h.name]=o[N].split(h.prefix+h.suffix).map(function(j){return i(j,h)}):c[h.name]=i(o[N],h)},v=1;v<o.length;v++)d(v);return{path:m,index:u,params:c}}}function qe(s){return s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ws(s){return s&&s.sensitive?"":"i"}function Ct(s,n){if(!n)return s;for(var t=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=t.exec(s.source);i;)n.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=t.exec(s.source);return s}function Vt(s,n,t){var r=s.map(function(i){return $s(i,n,t).source});return new RegExp("(?:".concat(r.join("|"),")"),Ws(t))}function _t(s,n,t){return _n(Gs(s,t),n,t)}function _n(s,n,t){t===void 0&&(t={});for(var r=t.strict,i=r===void 0?!1:r,a=t.start,o=a===void 0?!0:a,m=t.end,u=m===void 0?!0:m,c=t.encode,d=c===void 0?function(_){return _}:c,v=t.delimiter,N=v===void 0?"/#?":v,h=t.endsWith,j=h===void 0?"":h,y="[".concat(qe(j),"]|$"),E="[".concat(qe(N),"]"),I=o?"^":"",x=0,f=s;x<f.length;x++){var b=f[x];if(typeof b=="string")I+=qe(d(b));else{var g=qe(d(b.prefix)),w=qe(d(b.suffix));if(b.pattern)if(n&&n.push(b),g||w)if(b.modifier==="+"||b.modifier==="*"){var S=b.modifier==="*"?"?":"";I+="(?:".concat(g,"((?:").concat(b.pattern,")(?:").concat(w).concat(g,"(?:").concat(b.pattern,"))*)").concat(w,")").concat(S)}else I+="(?:".concat(g,"(").concat(b.pattern,")").concat(w,")").concat(b.modifier);else b.modifier==="+"||b.modifier==="*"?I+="((?:".concat(b.pattern,")").concat(b.modifier,")"):I+="(".concat(b.pattern,")").concat(b.modifier);else I+="(?:".concat(g).concat(w,")").concat(b.modifier)}}if(u)i||(I+="".concat(E,"?")),I+=t.endsWith?"(?=".concat(y,")"):"$";else{var C=s[s.length-1],V=typeof C=="string"?E.indexOf(C[C.length-1])>-1:C===void 0;i||(I+="(?:".concat(E,"(?=").concat(y,"))?")),V||(I+="(?=".concat(E,"|").concat(y,")"))}return new RegExp(I,Ws(t))}function $s(s,n,t){return s instanceof RegExp?Ct(s,n):Array.isArray(s)?Vt(s,n,t):_t(s,n,t)}const Mt=Object.freeze(Object.defineProperty({__proto__:null,compile:Dt,match:It,parse:Gs,pathToRegexp:$s,regexpToFunction:Vn,tokensToFunction:Cn,tokensToRegexp:_n},Symbol.toStringTag,{value:"Module"})),Ot=Ts(Mt);var ls={};const Mn=Ts(Nr);var cs={},dn;function Tt(){if(dn)return cs;dn=1;var s=He&&He.__read||function(r,i){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var o=a.call(r),m,u=[],c;try{for(;(i===void 0||i-- >0)&&!(m=o.next()).done;)u.push(m.value)}catch(d){c={error:d}}finally{try{m&&!m.done&&(a=o.return)&&a.call(o)}finally{if(c)throw c.error}}return u};Object.defineProperty(cs,"__esModule",{value:!0});var n=D;function t(r){var i=s(n.useState(void 0),2),a=i[0],o=i[1],m=n.useRef(r);return n.useEffect(function(){if(r){m.current=r;var u=r.subscribe(o);return function(){u.unsubscribe()}}},[r]),[a,m.current?m.current.send:function(){}]}return cs.useActor=t,cs}var ps=He&&He.__assign||function(){return ps=Object.assign||function(s){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},ps.apply(this,arguments)},Bt=He&&He.__rest||function(s,n){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&n.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(t[r[i]]=s[r[i]]);return t},On=He&&He.__read||function(s,n){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var r=t.call(s),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(m){o={error:m}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a};Object.defineProperty(ls,"__esModule",{value:!0});var Le=D,pn=Mn,At={immediate:!1};function Pt(s,n){n===void 0&&(n=At);var t=n.context,r=n.guards,i=n.actions,a=n.activities,o=n.services,m=n.delays,u=n.immediate,c=n.state,d=Bt(n,["context","guards","actions","activities","services","delays","immediate","state"]),v={context:t,guards:r,actions:i,activities:a,services:o,delays:m},N=Le.useRef(null);N.current===null&&(N.current=s.withConfig(v,ps(ps({},s.context),t)));var h=Le.useRef(null);h.current===null&&(h.current=pn.interpret(N.current,d).onTransition(function(f){f.changed&&x(f)}));var j=h.current;Le.useEffect(function(){Object.assign(j.machine.options.actions,i)},[i]),Le.useEffect(function(){Object.assign(j.machine.options.services,o)},[o]);var y=c?pn.State.create(c):j.initialState,E=On(Le.useState(function(){return y}),2),I=E[0],x=E[1];return u&&j.start(),Le.useEffect(function(){return j.start(c?y:void 0),function(){j.stop()}},[]),[I,j.send,j]}ls.useMachine=Pt;function zt(s){var n=On(Le.useState(s.state),2),t=n[0],r=n[1];return Le.useEffect(function(){r(s.state);var i=function(o){o.changed&&r(o)},a=s.subscribe(i);return function(){a.unsubscribe()}},[s]),[t,s.send,s]}ls.useService=zt;var Rt=Tt();ls.useActor=Rt.useActor;var vs=function(){return vs=Object.assign||function(s){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},vs.apply(this,arguments)},Xe=function(s,n){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var r=t.call(s),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(m){o={error:m}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a},Ks=function(s,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return s.concat(a||Array.prototype.slice.call(n))},Qe=function(s){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&s[n],r=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&r>=s.length&&(s=void 0),{value:s&&s[r++],done:!s}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};function Tn(s){var n;return(n=[]).concat.apply(n,Ks([],Xe(s),!1))}function kt(s){return typeof s=="string"||typeof s=="number"?{type:s}:s}var Bn={};function An(s){var n=s.states,t=Object.keys(n).reduce(function(r,i){var a=n[i],o=An(a);return r.push.apply(r,Ks([a],Xe(o),!1)),r},[]);return t}function Lt(s){if(!s.states)return[];var n=Object.keys(s.states).map(function(t){return s.states[t]});return n}function Pn(s){var n=s.value,t=s.context;return t===void 0?JSON.stringify(n):JSON.stringify(n)+" | "+JSON.stringify(t)}function zn(s){return JSON.stringify(s)}function Rn(s){return JSON.parse(s)}var Ft={events:{},filter:function(){return!0},stateSerializer:Pn,eventSerializer:zn};function bs(s){return vs(vs({},Ft),s)}function Ys(s,n){var t=bs(n),r=t.filter,i=t.stateSerializer,a=t.eventSerializer,o=t.events,m={};function u(c){var d,v,N=c.nextEvents,h=i(c);if(!m[h]){m[h]={};var j=Tn(N.map(function(f){var b=o[f];return b?typeof b=="function"?b(c):b:[{type:f}]})).map(function(f){return kt(f)});try{for(var y=Qe(j),E=y.next();!E.done;E=y.next()){var I=E.value,x=void 0;try{x=s.transition(c,I)}catch(f){throw new Error("Unable to transition from state ".concat(i(c)," on event ").concat(a(I),": ").concat(f.message))}(!r||r(x))&&h!==i(x)&&(m[h][a(I)]={state:x,event:I},u(x))}}catch(f){d={error:f}}finally{try{E&&!E.done&&(v=y.return)&&v.call(y)}finally{if(d)throw d.error}}}}return u(s.initialState),m}function Ut(s,n){var t,r,i,a;if(!s.states)return Bn;var o=bs(n),m=Ys(s,o),u=new Map,c=new Map,d=o.stateSerializer(s.initialState);c.set(d,s.initialState),u.set(d,[0,void 0,void 0]);var v=new Set,N=new Set;for(v.add(d);v.size>0;)try{for(var h=(t=void 0,Qe(v)),j=h.next();!j.done;j=h.next()){var y=j.value,E=Xe(u.get(y),1),I=E[0];try{for(var x=(i=void 0,Qe(Object.keys(m[y]))),f=x.next();!f.done;f=x.next()){var b=f.value,g=m[y][b],w=o.stateSerializer(g.state);if(c.set(w,g.state),!u.has(w))u.set(w,[I+1,y,b]);else{var S=Xe(u.get(w),1),C=S[0];C>I+1&&u.set(w,[I+1,y,b])}N.has(w)||v.add(w)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}N.add(y),v.delete(y)}}catch(_){t={error:_}}finally{try{j&&!j.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}var V={};return u.forEach(function(_,M){var F=Xe(_,3),Z=F[0],P=F[1],L=F[2],B=c.get(M);V[M]={state:B,paths:P?[{state:B,segments:V[P].paths[0].segments.concat({state:c.get(P),event:Rn(L)}),weight:Z}]:[{state:B,segments:[],weight:Z}]}}),V}function Ht(s,n){var t,r,i=bs(n),a=i.stateSerializer;if(!s.states)return Bn;var o=Ys(s,i),m=new Map,u=new Set,c=[],d={};function v(E,I){var x,f,b=a(E);if(u.add(b),b===I)d[I]||(d[I]={state:m.get(I),paths:[]}),d[I].paths.push({state:E,weight:c.length,segments:Ks([],Xe(c),!1)});else try{for(var g=Qe(Object.keys(o[b])),w=g.next();!w.done;w=g.next()){var S=w.value,C=o[b][S];if(C){var V=a(C.state);m.set(V,C.state),u.has(V)||(c.push({state:m.get(b),event:Rn(S)}),v(C.state,I))}}}catch(_){x={error:_}}finally{try{w&&!w.done&&(f=g.return)&&f.call(g)}finally{if(x)throw x.error}}c.pop(),u.delete(b)}var N=a(s.initialState);m.set(N,s.initialState);try{for(var h=Qe(Object.keys(o)),j=h.next();!j.done;j=h.next()){var y=j.value;v(s.initialState,y)}}catch(E){t={error:E}}finally{try{j&&!j.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return d}function kn(s){var n=Tn(s.transitions.map(function(r,i){var a=r.target?r.target:[s];return a.map(function(o,m){var u={id:"".concat(s.id,":").concat(i,":").concat(m),source:s,target:o,transition:r,label:{text:r.eventType,toJSON:function(){return{text:r.eventType}}},toJSON:function(){var c=u.label;return{source:s.id,target:o.id,label:c}}};return u})})),t={id:s.id,stateNode:s,children:Lt(s).map(kn),edges:n,toJSON:function(){var r=t.id,i=t.children,a=t.edges;return{id:r,children:i,edges:a}}};return t}function Gt(s,n){var t,r,i=bs({events:n.reduce(function(f,b){var g,w;return(g=f[w=b.type])!==null&&g!==void 0||(f[w]=[]),f[b.type].push(b),f},{})}),a=i.stateSerializer,o=i.eventSerializer;if(!s.states)return{state:s.initialState,segments:[],weight:0};var m=Ys(s,i),u=new Map,c=[],d=a(s.initialState);u.set(d,s.initialState);var v=d,N=s.initialState;try{for(var h=Qe(n),j=h.next();!j.done;j=h.next()){var y=j.value;c.push({state:u.get(v),event:y});var E=o(y),I=m[v][E];if(!I)throw new Error("Invalid transition from ".concat(v," with ").concat(E));var x=a(I.state);u.set(x,I.state),v=x,N=I.state}}catch(f){t={error:f}}finally{try{j&&!j.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return{state:N,segments:c,weight:c.length}}const Wt=Object.freeze(Object.defineProperty({__proto__:null,getPathFromEvents:Gt,getShortestPaths:Ut,getSimplePaths:Ht,getStateNodes:An,serializeEvent:zn,serializeState:Pn,toDirectedGraph:kn},Symbol.toStringTag,{value:"Module"})),$t=Ts(Wt);var ne={},qs={};(function(s){Object.defineProperty(s,"__esModule",{value:!0});/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */s.__assign=function(){return s.__assign=Object.assign||function(o){for(var m,u=1,c=arguments.length;u<c;u++){m=arguments[u];for(var d in m)Object.prototype.hasOwnProperty.call(m,d)&&(o[d]=m[d])}return o},s.__assign.apply(this,arguments)};function n(a,o){var m={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.indexOf(u)<0&&(m[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(a);c<u.length;c++)o.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(a,u[c])&&(m[u[c]]=a[u[c]]);return m}function t(a){var o=typeof Symbol=="function"&&Symbol.iterator,m=o&&a[o],u=0;if(m)return m.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function r(a,o){var m=typeof Symbol=="function"&&a[Symbol.iterator];if(!m)return a;var u=m.call(a),c,d=[],v;try{for(;(o===void 0||o-- >0)&&!(c=u.next()).done;)d.push(c.value)}catch(N){v={error:N}}finally{try{c&&!c.done&&(m=u.return)&&m.call(u)}finally{if(v)throw v.error}}return d}function i(a,o,m){if(m||arguments.length===2)for(var u=0,c=o.length,d;u<c;u++)(d||!(u in o))&&(d||(d=Array.prototype.slice.call(o,0,u)),d[u]=o[u]);return a.concat(d||Array.prototype.slice.call(o))}s.__read=r,s.__rest=n,s.__spreadArray=i,s.__values=t})(qs);var Xs={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.ActionTypes=void 0,function(n){n.Start="xstate.start",n.Stop="xstate.stop",n.Raise="xstate.raise",n.Send="xstate.send",n.Cancel="xstate.cancel",n.NullEvent="",n.Assign="xstate.assign",n.After="xstate.after",n.DoneState="done.state",n.DoneInvoke="done.invoke",n.Log="xstate.log",n.Init="xstate.init",n.Invoke="xstate.invoke",n.ErrorExecution="error.execution",n.ErrorCommunication="error.communication",n.ErrorPlatform="error.platform",n.ErrorCustom="xstate.error",n.Update="xstate.update",n.Pure="xstate.pure",n.Choose="xstate.choose"}(s.ActionTypes||(s.ActionTypes={})),s.SpecialTargets=void 0,function(n){n.Parent="#_parent",n.Internal="#_internal"}(s.SpecialTargets||(s.SpecialTargets={}))})(Xs);var de={};Object.defineProperty(de,"__esModule",{value:!0});var we=Xs,Kt=we.ActionTypes.Start,Yt=we.ActionTypes.Stop,qt=we.ActionTypes.Raise,Xt=we.ActionTypes.Send,Zt=we.ActionTypes.Cancel,Jt=we.ActionTypes.NullEvent,Qt=we.ActionTypes.Assign,ei=we.ActionTypes.After,si=we.ActionTypes.DoneState,ni=we.ActionTypes.Log,ri=we.ActionTypes.Init,ti=we.ActionTypes.Invoke,ii=we.ActionTypes.ErrorExecution,ai=we.ActionTypes.ErrorPlatform,oi=we.ActionTypes.ErrorCustom,li=we.ActionTypes.Update,mi=we.ActionTypes.Choose,ui=we.ActionTypes.Pure;de.after=ei;de.assign=Qt;de.cancel=Zt;de.choose=mi;de.doneState=si;de.error=oi;de.errorExecution=ii;de.errorPlatform=ai;de.init=ri;de.invoke=ti;de.log=ni;de.nullEvent=Jt;de.pure=ui;de.raise=qt;de.send=Xt;de.start=Kt;de.stop=Yt;de.update=li;var Ln={},es={};Object.defineProperty(es,"__esModule",{value:!0});var ci=".",di={},pi="xstate.guard",vi="";es.DEFAULT_GUARD_TYPE=pi;es.EMPTY_ACTIVITY_MAP=di;es.STATE_DELIMITER=ci;es.TARGETLESS_KEY=vi;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});var fi=!1;hs.IS_PRODUCTION=fi;(function(s){Object.defineProperty(s,"__esModule",{value:!0});var n=qs,t=es,r=hs,i;function a(p){return Object.keys(p)}function o(p,O,A){A===void 0&&(A=t.STATE_DELIMITER);var T=v(p,A),U=v(O,A);return B(U)?B(T)?U===T:!1:B(T)?T in U:Object.keys(T).every(function(H){return H in U?o(T[H],U[H]):!1})}function m(p){try{return B(p)||typeof p=="number"?"".concat(p):p.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function u(p){try{return B(p)||typeof p=="number"?"".concat(p):L(p)?p.name:p.type}catch{throw new Error("Actions must be strings or objects with a string action.type property.")}}function c(p,O){try{return P(p)?p:p.toString().split(O)}catch{throw new Error("'".concat(p,"' is not a valid state path."))}}function d(p){return typeof p=="object"&&"value"in p&&"context"in p&&"event"in p&&"_event"in p}function v(p,O){if(d(p))return p.value;if(P(p))return N(p);if(typeof p!="string")return p;var A=c(p,O);return N(A)}function N(p){if(p.length===1)return p[0];for(var O={},A=O,T=0;T<p.length-1;T++)T===p.length-2?A[p[T]]=p[T+1]:(A[p[T]]={},A=A[p[T]]);return O}function h(p,O){for(var A={},T=Object.keys(p),U=0;U<T.length;U++){var H=T[U];A[H]=O(p[H],H,p,U)}return A}function j(p,O,A){var T,U,H={};try{for(var Y=n.__values(Object.keys(p)),$=Y.next();!$.done;$=Y.next()){var ae=$.value,oe=p[ae];A(oe)&&(H[ae]=O(oe,ae,p))}}catch(ye){T={error:ye}}finally{try{$&&!$.done&&(U=Y.return)&&U.call(Y)}finally{if(T)throw T.error}}return H}var y=function(p){return function(O){var A,T,U=O;try{for(var H=n.__values(p),Y=H.next();!Y.done;Y=H.next()){var $=Y.value;U=U[$]}}catch(ae){A={error:ae}}finally{try{Y&&!Y.done&&(T=H.return)&&T.call(H)}finally{if(A)throw A.error}}return U}};function E(p,O){return function(A){var T,U,H=A;try{for(var Y=n.__values(p),$=Y.next();!$.done;$=Y.next()){var ae=$.value;H=H[O][ae]}}catch(oe){T={error:oe}}finally{try{$&&!$.done&&(U=Y.return)&&U.call(Y)}finally{if(T)throw T.error}}return H}}function I(p){if(!p)return[[]];if(B(p))return[[p]];var O=f(Object.keys(p).map(function(A){var T=p[A];return typeof T!="string"&&(!T||!Object.keys(T).length)?[[A]]:I(p[A]).map(function(U){return[A].concat(U)})}));return O}function x(p){var O,A,T={};if(p&&p.length===1&&p[0].length===1)return p[0][0];try{for(var U=n.__values(p),H=U.next();!H.done;H=U.next())for(var Y=H.value,$=T,ae=0;ae<Y.length;ae++){var oe=Y[ae];if(ae===Y.length-2){$[oe]=Y[ae+1];break}$[oe]=$[oe]||{},$=$[oe]}}catch(ye){O={error:ye}}finally{try{H&&!H.done&&(A=U.return)&&A.call(U)}finally{if(O)throw O.error}}return T}function f(p){var O;return(O=[]).concat.apply(O,n.__spreadArray([],n.__read(p),!1))}function b(p){return P(p)?p:[p]}function g(p){return p===void 0?[]:b(p)}function w(p,O,A){var T,U;if(L(p))return p(O,A.data);var H={};try{for(var Y=n.__values(Object.keys(p)),$=Y.next();!$.done;$=Y.next()){var ae=$.value,oe=p[ae];L(oe)?H[ae]=oe(O,A.data):H[ae]=oe}}catch(ye){T={error:ye}}finally{try{$&&!$.done&&(U=Y.return)&&U.call(Y)}finally{if(T)throw T.error}}return H}function S(p){return/^(done|error)\./.test(p)}function C(p){return!!(p instanceof Promise||p!==null&&(L(p)||typeof p=="object")&&L(p.then))}function V(p){return p!==null&&typeof p=="object"&&"transition"in p&&typeof p.transition=="function"}function _(p,O){var A,T,U=n.__read([[],[]],2),H=U[0],Y=U[1];try{for(var $=n.__values(p),ae=$.next();!ae.done;ae=$.next()){var oe=ae.value;O(oe)?H.push(oe):Y.push(oe)}}catch(ye){A={error:ye}}finally{try{ae&&!ae.done&&(T=$.return)&&T.call($)}finally{if(A)throw A.error}}return[H,Y]}function M(p,O){return h(p.states,function(A,T){if(A){var U=(B(O)?void 0:O[T])||(A?A.current:void 0);if(U)return{current:U,states:M(A,U)}}})}function F(p,O){return{current:O,states:M(p,O)}}function Z(p,O,A,T){r.IS_PRODUCTION||s.warn(!!p,"Attempting to update undefined context");var U=p&&A.reduce(function(H,Y){var $,ae,oe=Y.assignment,ye={state:T,action:Y,_event:O},ns={};if(L(oe))ns=oe(H,O.data,ye);else try{for(var ee=n.__values(Object.keys(oe)),Ce=ee.next();!Ce.done;Ce=ee.next()){var rs=Ce.value,xs=oe[rs];ns[rs]=L(xs)?xs(H,O.data,ye):xs}}catch(ir){$={error:ir}}finally{try{Ce&&!Ce.done&&(ae=ee.return)&&ae.call(ee)}finally{if($)throw $.error}}return Object.assign({},H,ns)},p);return U}s.warn=function(){},r.IS_PRODUCTION||(s.warn=function(p,O){var A=p instanceof Error?p:void 0;if(!(!A&&p)&&console!==void 0){var T=["Warning: ".concat(O)];A&&T.push(A),console.warn.apply(console,T)}});function P(p){return Array.isArray(p)}function L(p){return typeof p=="function"}function B(p){return typeof p=="string"}function W(p,O){if(p)return B(p)?{type:t.DEFAULT_GUARD_TYPE,name:p,predicate:O?O[p]:void 0}:L(p)?{type:t.DEFAULT_GUARD_TYPE,name:p.name,predicate:p}:p}function K(p){try{return"subscribe"in p&&L(p.subscribe)}catch{return!1}}var R=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),J=(i={},i[R]=function(){return this},i[Symbol.observable]=function(){return this},i);function re(p){return!!p&&"__xstatenode"in p}function Q(p){return!!p&&typeof p.send=="function"}var ue=function(){var p=0;return function(){return p++,p.toString(16)}}();function ge(p,O){return B(p)||typeof p=="number"?n.__assign({type:p},O):p}function Ae(p,O){if(!B(p)&&"$$type"in p&&p.$$type==="scxml")return p;var A=ge(p);return n.__assign({name:A.type,data:A,$$type:"scxml",type:"external"},O)}function Ve(p,O){var A=b(O).map(function(T){return typeof T>"u"||typeof T=="string"||re(T)?{target:T,event:p}:n.__assign(n.__assign({},T),{event:p})});return A}function Pe(p){if(!(p===void 0||p===t.TARGETLESS_KEY))return g(p)}function We(p,O,A){if(!r.IS_PRODUCTION){var T=p.stack?" Stacktrace was '".concat(p.stack,"'"):"";if(p===O)console.error("Missing onError handler for invocation '".concat(A,"', error was '").concat(p,"'.").concat(T));else{var U=O.stack?" Stacktrace was '".concat(O.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(A,"'. ")+"Original error: '".concat(p,"'. ").concat(T," Current error is '").concat(O,"'.").concat(U))}}}function Ie(p,O,A,T,U){var H=p.options.guards,Y={state:U,cond:O,_event:T};if(O.type===t.DEFAULT_GUARD_TYPE)return((H==null?void 0:H[O.name])||O.predicate)(A,T.data,Y);var $=H==null?void 0:H[O.type];if(!$)throw new Error("Guard '".concat(O.type,"' is not implemented on machine '").concat(p.id,"'."));return $(A,T.data,Y)}function _e(p){return typeof p=="string"?{type:p}:p}function ze(p,O,A){var T=function(){},U=typeof p=="object",H=U?p:null;return{next:((U?p.next:p)||T).bind(H),error:((U?p.error:O)||T).bind(H),complete:((U?p.complete:A)||T).bind(H)}}function ke(p,O){return"".concat(p,":invocation[").concat(O,"]")}s.createInvokeId=ke,s.evaluateGuard=Ie,s.flatten=f,s.getActionType=u,s.getEventType=m,s.interopSymbols=J,s.isActor=Q,s.isArray=P,s.isBehavior=V,s.isBuiltInEvent=S,s.isFunction=L,s.isMachine=re,s.isObservable=K,s.isPromiseLike=C,s.isStateLike=d,s.isString=B,s.keys=a,s.mapContext=w,s.mapFilterValues=j,s.mapValues=h,s.matchesState=o,s.nestedPath=E,s.normalizeTarget=Pe,s.partition=_,s.path=y,s.pathToStateValue=N,s.pathsToStateValue=x,s.reportUnhandledExceptionOnInvocation=We,s.symbolObservable=R,s.toArray=g,s.toArrayStrict=b,s.toEventObject=ge,s.toGuard=W,s.toInvokeSource=_e,s.toObserver=ze,s.toSCXMLEvent=Ae,s.toStatePath=c,s.toStatePaths=I,s.toStateValue=v,s.toTransitionConfigArray=Ve,s.uniqueId=ue,s.updateContext=Z,s.updateHistoryStates=M,s.updateHistoryValue=F})(Ln);Object.defineProperty(ne,"__esModule",{value:!0});var ie=qs,De=Xs,ve=de,te=Ln,Fn=hs,Ni=te.toSCXMLEvent({type:ve.init});function Cs(s,n){return n&&n[s]||void 0}function js(s,n){var t;if(te.isString(s)||typeof s=="number"){var r=Cs(s,n);te.isFunction(r)?t={type:s,exec:r}:r?t=r:t={type:s,exec:void 0}}else if(te.isFunction(s))t={type:s.name||s.toString(),exec:s};else{var r=Cs(s.type,n);if(te.isFunction(r))t=ie.__assign(ie.__assign({},s),{exec:r});else if(r){var i=r.type||s.type;t=ie.__assign(ie.__assign(ie.__assign({},r),s),{type:i})}else t=s}return t}var Vs=function(s,n){if(!s)return[];var t=te.isArray(s)?s:[s];return t.map(function(r){return js(r,n)})};function Zs(s){var n=js(s);return ie.__assign(ie.__assign({id:te.isString(s)?s:n.id},n),{type:n.type})}function wi(s){return te.isString(s)?{type:ve.raise,event:s}:ss(s,{to:De.SpecialTargets.Internal})}function Un(s){return{type:ve.raise,_event:te.toSCXMLEvent(s.event)}}function ss(s,n){return{to:n?n.to:void 0,type:ve.send,event:te.isFunction(s)?s:te.toEventObject(s),delay:n?n.delay:void 0,id:n&&n.id!==void 0?n.id:te.isFunction(s)?s.name:te.getEventType(s)}}function Hn(s,n,t,r){var i={_event:t},a=te.toSCXMLEvent(te.isFunction(s.event)?s.event(n,t.data,i):s.event),o;if(te.isString(s.delay)){var m=r&&r[s.delay];o=te.isFunction(m)?m(n,t.data,i):m}else o=te.isFunction(s.delay)?s.delay(n,t.data,i):s.delay;var u=te.isFunction(s.to)?s.to(n,t.data,i):s.to;return ie.__assign(ie.__assign({},s),{to:u,_event:a,event:a.data,delay:o})}function Js(s,n){return ss(s,ie.__assign(ie.__assign({},n),{to:De.SpecialTargets.Parent}))}function bi(s,n,t){return ss(n,ie.__assign(ie.__assign({},t),{to:s}))}function hi(){return Js(ve.update)}function ji(s,n){return ss(s,ie.__assign(ie.__assign({},n),{to:function(t,r,i){var a=i._event;return a.origin}}))}var xi=function(s,n){return{context:s,event:n}};function gi(s,n){return s===void 0&&(s=xi),{type:ve.log,label:n,expr:s}}var Gn=function(s,n,t){return ie.__assign(ie.__assign({},s),{value:te.isString(s.expr)?s.expr:s.expr(n,t.data,{_event:t})})},Si=function(s){return{type:ve.cancel,sendId:s}};function yi(s){var n=Zs(s);return{type:De.ActionTypes.Start,activity:n,exec:void 0}}function Ei(s){var n=te.isFunction(s)?s:Zs(s);return{type:De.ActionTypes.Stop,activity:n,exec:void 0}}function Wn(s,n,t){var r=te.isFunction(s.activity)?s.activity(n,t.data):s.activity,i=typeof r=="string"?{id:r}:r,a={type:De.ActionTypes.Stop,activity:i};return a}var Di=function(s){return{type:ve.assign,assignment:s}};function Ii(s){return typeof s=="object"&&"type"in s}function Ci(s,n){var t=n?"#".concat(n):"";return"".concat(De.ActionTypes.After,"(").concat(s,")").concat(t)}function Vi(s,n){var t="".concat(De.ActionTypes.DoneState,".").concat(s),r={type:t,data:n};return r.toString=function(){return t},r}function _i(s,n){var t="".concat(De.ActionTypes.DoneInvoke,".").concat(s),r={type:t,data:n};return r.toString=function(){return t},r}function Mi(s,n){var t="".concat(De.ActionTypes.ErrorPlatform,".").concat(s),r={type:t,data:n};return r.toString=function(){return t},r}function Oi(s){return{type:De.ActionTypes.Pure,get:s}}function Ti(s,n){if(!Fn.IS_PRODUCTION&&(!s||typeof s=="function")){var t=s;s=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=typeof t=="function"?t.apply(void 0,ie.__spreadArray([],ie.__read(r),!1)):t;if(!a)throw new Error("Attempted to forward event to undefined actor. This risks an infinite loop in the sender.");return a}}return ss(function(r,i){return i},ie.__assign(ie.__assign({},n),{to:s}))}function Bi(s,n){return Js(function(t,r,i){return{type:ve.error,data:te.isFunction(s)?s(t,r,i):s}},ie.__assign(ie.__assign({},n),{to:De.SpecialTargets.Parent}))}function Ai(s){return{type:De.ActionTypes.Choose,conds:s}}var Pi=function(s){var n,t,r=[];try{for(var i=ie.__values(s),a=i.next();!a.done;a=i.next())for(var o=a.value,m=0;m<o.length;){if(o[m].type===ve.assign){r.push(o[m]),o.splice(m,1);continue}m++}}catch(u){n={error:u}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return r};function _s(s,n,t,r,i,a,o){o===void 0&&(o=!1);var m=o?[]:Pi(i),u=m.length?te.updateContext(t,r,m,n):t,c=o?[t]:void 0,d=[];function v(j){var y;switch(j.type){case ve.raise:return Un(j);case ve.send:var E=Hn(j,u,r,s.options.delays);return Fn.IS_PRODUCTION||te.warn(!te.isString(j.delay)||typeof E.delay=="number","No delay reference for delay expression '".concat(j.delay,"' was found on machine '").concat(s.id,"'")),a&&E.to!==De.SpecialTargets.Internal&&d.push(E),E;case ve.log:{var I=Gn(j,u,r);return a==null||a(I,u,r),I}case ve.choose:{var x=j,f=(y=x.conds.find(function(Z){var P=te.toGuard(Z.cond,s.options.guards);return!P||te.evaluateGuard(s,P,u,r,a?void 0:n)}))===null||y===void 0?void 0:y.actions;if(!f)return[];var b=ie.__read(_s(s,n,u,r,[Vs(te.toArray(f),s.options.actions)],a,o),2),g=b[0],w=b[1];return u=w,c==null||c.push(u),g}case ve.pure:{var f=j.get(u,r.data);if(!f)return[];var S=ie.__read(_s(s,n,u,r,[Vs(te.toArray(f),s.options.actions)],a,o),2),C=S[0],V=S[1];return u=V,c==null||c.push(u),C}case ve.stop:{var I=Wn(j,u,r);return a==null||a(I,t,r),I}case ve.assign:{u=te.updateContext(u,r,[j],a?void 0:n),c==null||c.push(u);break}default:var _=js(j,s.options.actions),M=_.exec;if(a)a(_,u,r);else if(M&&c){var F=c.length-1;_=ie.__assign(ie.__assign({},_),{exec:function(Z){for(var P=[],L=1;L<arguments.length;L++)P[L-1]=arguments[L];M.apply(void 0,ie.__spreadArray([c[F]],ie.__read(P),!1))}})}return _}}function N(j){var y,E,I=[];try{for(var x=ie.__values(j),f=x.next();!f.done;f=x.next()){var b=f.value,g=v(b);g&&(I=I.concat(g))}}catch(w){y={error:w}}finally{try{f&&!f.done&&(E=x.return)&&E.call(x)}finally{if(y)throw y.error}}return d.forEach(function(w){a(w,u,r)}),d.length=0,I}var h=te.flatten(i.map(N));return[h,u]}ne.actionTypes=ve;ne.after=Ci;ne.assign=Di;ne.cancel=Si;ne.choose=Ai;ne.done=Vi;ne.doneInvoke=_i;ne.error=Mi;ne.escalate=Bi;ne.forwardTo=Ti;ne.getActionFunction=Cs;ne.initEvent=Ni;ne.isActionObject=Ii;ne.log=gi;ne.pure=Oi;ne.raise=wi;ne.resolveActions=_s;ne.resolveLog=Gn;ne.resolveRaise=Un;ne.resolveSend=Hn;ne.resolveStop=Wn;ne.respond=ji;ne.send=ss;ne.sendParent=Js;ne.sendTo=bi;ne.sendUpdate=hi;ne.start=yi;ne.stop=Ei;ne.toActionObject=js;ne.toActionObjects=Vs;ne.toActivityDefinition=Zs;(function(s){Object.defineProperty(s,"__esModule",{value:!0});const n=D,t=Ot,r=ls,i=Mn,a=$t,o=ne,m=cr;function u(f,b){if(f===void 0)return{};const g=[],S=t.pathToRegexp(f,g).exec(b);if(!S)return null;const C=Object.create(null);for(let V=1;V<S.length;V++)C[g[V-1].name]=S[V]!==void 0?S[V]:void 0;return C}s.matchURI=u;function c(f,b){const g=[],S=t.pathToRegexp(f,g).exec(f);if(!S)return f;let C="";var V=0;for(let _=1;_<S.length;_++){const M=S[_],F=M.substr(1),Z=f.indexOf(M,V);C+=f.substring(V,Z)+b[F],V=Z+M.length}return C+=f.substr(V),C}s.buildURI=c;function d(f,b,g){for(const w of f){const S=b.pathname,C=u(w[1],S);if(C)return C}if(!g)return d(f,b,!0)}s.resolve=d,s.routerEvent="route-changed";function v(f){const b=a.getStateNodes(i.Machine(f)),g=[];for(const w of b)w.meta&&w.meta.path&&g.push([w.path,w.meta.path]);return g}s.getRoutes=v;function N(f,b,g){const w=Object.assign({},b);w.on?w.on=Object.assign({},w.on):w.on={};const S=s.routerEvent in w.on?w.on[s.routerEvent]:[],C=S instanceof Array?S:[S];C.push({cond:(V,_)=>_.dueToStateTransition,actions:o.assign(()=>({location:f.location,match:d(g,f.location)}))});for(const V of g)C.push({target:"#(machine)."+V[0].join("."),cond:(_,M)=>M.dueToStateTransition===!1&&M.route&&M.route===V[1],actions:o.assign(()=>({location:f.location,match:u(V[1],f.location.pathname)}))});return w.on[s.routerEvent]=C,w}s.addRouterEvents=N;function h({config:f,options:b={},initialContext:g={},history:w=m.createBrowserHistory()}){const S=v(f),C=N(w,f,S),V=w.location,_=Object.assign(Object.assign({},g),{match:d(S,V),location:V,history:w});return i.Machine(C,b,_)}s.createRouterMachine=h;function j({config:f,options:b={},initialContext:g={},history:w=m.createBrowserHistory()},S){const C=h({config:f,options:b,initialContext:g,history:w}),V=i.interpret(C,S);return V.start(),E(V,w,v(f)),V}s.routerMachine=j;function y({config:f,options:b={},initialContext:g={},history:w=m.createBrowserHistory()},S){const C=h({config:f,options:b,initialContext:g,history:w}),[V,_,M]=r.useMachine(C,S);return n.useEffect(()=>{E(M,w,v(f))},[]),{state:V,send:_,service:M}}s.useRouterMachine=y;function E(f,b,g){let w=!1,S=!1;C(b.location),f.onTransition(V=>{const _=x(f,V),M=I(_);if(S&&S[1]===M){S=!1;return}if(!u(M,b.location.pathname)){w=!0;const F=c(M,V.context.match);b.push(F),f.send({type:s.routerEvent,dueToStateTransition:!0,route:M,service:f})}}),b.listen(V=>{if(f.initialized||f.start(),w){w=!1;return}C(V,!0)});function C(V,_){let M;for(const F of g)if(u(F[1],V.pathname)){M=F;break}if(M){S=M[1],f.send({type:s.routerEvent,dueToStateTransition:!1,route:M[1],service:f});const F=f.state.value;if(!i.matchesState(F,M[0].join("."))){const Z=x(f,f.state);Z.meta&&Z.meta.path&&(_&&(w=!0),b.replace(Z.meta.path))}}}}s.handleTransitionEvents=E;function I(f){let b=f;for(;b.parent;){if(b.meta&&b.meta.path)return b.meta.path;b=b.parent}}s.findPathRecursive=I;function x(f,b){const g=b.toStrings();return f.machine.getStateNodeByPath(g[g.length-1])}})(Hs);const zi=""+new URL("stepper-movein-D1elb-ee.jpg",import.meta.url).href;function Ri(){const{hotjar:s}=window.tsme_data,n=({id:r,text:i})=>{const a=document.getElementById(r);if(a)return a;const o=document.createElement("script");return o.id=r,o.text=i,document.head.appendChild(o),o},t=({id:r})=>{const i=document.getElementById(r);i&&document.head.removeChild(i)};D.useEffect(()=>{if(!s.enabled)return;const r=n({id:"hotjar-script",text:`(function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:${s.id},hjsv:${s.sv}};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');`});return()=>t({id:r.id})},[])}const ki=s=>pe(Ne.MOVE_IN.GET_CPT_DETAILS),$n={KO_ELIGIBILITE:"KO_ELIGIBILITE",SET_SUMMARY:"SET_SUMMARY"},Kn={id:"(machine)",initial:"edito",states:{edito:{meta:{path:se.MOVE_IN.URL},on:{GO_TO_METER:{target:"meter",actions:["setCodeInseeBancoContext"]},GO_TO_SUMMARY_METER:{target:"meter.summaryMeter",actions:["setMeterInfoContext","setCodeInseeBancoContext"]},GO_TO_START_PARCOURS:{target:"startParcours",actions:["setCodeInseeBancoContext"]},GO_TO_KO_EGIBILITY:{target:"contractAlreadyInitiated"}}},meter:{initial:"init",meta:{path:se.MOVE_IN.METER_URL},invoke:[],states:{init:{on:{GO_TO_SUMMARY_METER:{target:"summaryMeter",actions:["setMeterInfoContext"]},GO_TO_CONTRACT_NOT_ELIGIBLE:{target:"#(machine).contractNotEligible"},GO_TO_CONTRACT_NOT_SELECTIONABLE:{target:"#(machine).contractNotSelectionable"},GO_TO_START_PARCOURS:{target:"#(machine).startParcours"},GO_TO_KO_EGIBILITY:{target:"#(machine).contractAlreadyInitiated"}}},summaryMeter:{on:{GO_TO_NO_CONNECTED:{target:"authentication.noConnected"},GO_TO_CONNECTED:{target:"authentication.connected"}}},authentication:{states:{noConnected:{initial:"sendCode",states:{sendCode:{meta:{path:se.MOVE_IN.SEND_CODE_URL},on:{GO_TO_LOGIN:{target:"#(machine).meter.authentication.login"},GO_TO_SELECT_CODE:{target:"selectCode",actions:["setMeter"]},GO_TO_KO_EGIBILITY:{target:"#(machine).contractAlreadyInitiated"}}},selectCode:{meta:{path:se.MOVE_IN.CHECK_CODE_URL},on:{GO_TO_ADD_CONTRACT:{target:"#(machine).meter.addContract",actions:["setCelState"]},GO_TO_CREATE_ACCOUNT:{target:"#(machine).meter.createAccount",actions:["setCelState"]},GO_TO_SEND_CODE:{target:"sendCode"}}}}},connected:{initial:"sendCode",states:{sendCode:{on:{GO_TO_SELECT_CODE:{target:"selectCode"},GO_TO_KO_EGIBILITY:{target:"#(machine).contractNotEligible"}}},selectCode:{on:{GO_TO_ADD_CONTRACT:{target:"#(machine).meter.addContract"}}}}},login:{on:{GO_TO_START_PARCOURS:{target:"#(machine).startParcours",actions:["setCallReenter"]}}}}},createAccount:{meta:{path:se.MOVE_IN.CREATE_ACCOUNT_URL},on:{GO_TO_START_PARCOURS:{target:"#(machine).startParcours",actions:["setCallReenter"]},GO_TO_SEND_CODE:{target:"#(machine).meter.authentication.noConnected.sendCode"}}},addContract:{meta:{path:se.MOVE_IN.ADD_CONTRACT_URL},on:{GO_TO_START_PARCOURS:{target:"#(machine).startParcours",actions:["setCallReenter"]},GO_TO_SEND_CODE:{target:"#(machine).meter.authentication.noConnected.sendCode"}}}}},startParcours:{initial:"inventory",states:{inventory:{meta:{path:se.MOVE_IN.INVENTORY_URL},on:{KO_ELIGIBILITE:{target:"#(machine).contractNotSelectionable"},GO_TO_DATE_SELECTION:{target:"dateSelection",actions:["setInventory"]},GO_TO_NO_WATER:{target:"#(machine).noWater",actions:["setInventory"]},GO_TO_SUMMARY:{target:"summary"},SET_SUMMARY:{actions:["setCurrentDateSubscription","setSummary","setIsValidDate","setIdentityFromSummary"]}}},dateSelection:{meta:{path:se.MOVE_IN.CONTRACT_URL},invoke:[],on:{GO_TO_COUNTER:{target:"counter",actions:["setContract"]},GO_TO_STATEMENTS_DETAIL:{target:"getStatementsDetail",actions:["setContract"]},GO_BACK:{target:"inventory"},GO_TO_SUMMARY:{target:"summary"}}},getStatementsDetail:{invoke:[{id:"fetchCpt",src:s=>async n=>{n({type:"COUNTER_FETCH_STATE",isCounterFetching:!0});const{data:t}=await ki();let r=null,i=null;const{summary:a,currentDateResiliation:o}=s,m=t==null?void 0:t.cptDetails.map((u,c)=>{var I,x,f,b,g,w,S,C;const d=u.indexTR>0,v=Bs(o,new Date(a==null?void 0:a.startingDate));let N="";((x=(I=a.meters)==null?void 0:I[0])==null?void 0:x.matricule)===u.matricule?N=(b=(f=a.meters)==null?void 0:f[0])==null?void 0:b.index:((w=(g=a.meters)==null?void 0:g[1])==null?void 0:w.matricule)===u.matricule&&(N=(C=(S=a.meters)==null?void 0:S[1])==null?void 0:C.index);const h=(N===null||N==="")&&(u==null?void 0:u.departureIndex)>0,j=!d&&v&&N>0;let y=!d&&c===0&&j?!1:!d&&c===0,E=h||j||d;return y&&(y=!h),y===!1&&E===!1&&r===!1&&i===!0&&(y=!0),r=y,i=E,{isTR:d,isValid:E,isTRUpdated:!1,isCounterUpdated:!1,isUploadMandatory:!1,isNoTrDepartureIndex:h,isDepartureIndex:(u==null?void 0:u.departureIndex)>0,departureDate:(u==null?void 0:u.departureDate)||null,isUpdating:y,summaryIndex:N,...u}});n({type:"COUNTER_FETCH_STATE",isCounterFetching:!1}),n({type:"GO_TO_COUNTER",details:t.details,statements:m})},onError:{actions:[console.error,"resetCounterFetchState"]}}],on:{COUNTER_FETCH_STATE:{actions:["setCounterFetchState"]},GO_TO_COUNTER:{target:"counter",actions:["setDetailsContext","setStatementsContext"]}}},counter:{meta:{path:se.MOVE_IN.METER_READING_URL},invoke:[],on:{UPDATE_COUNTER:{actions:["setStatementsContext"]},VALIDATE:{target:"billingInfo"},GO_BACK:{target:"dateSelection"},GO_TO_SUMMARY:{target:"summary"}}},billingInfo:{meta:{path:se.MOVE_IN.BILLING_URL},invoke:[],on:{GO_TO_PAYMENT:{target:"payment",actions:["setBillingInfos"]},GO_BACK:{target:"counter"},GO_TO_SUMMARY:{target:"summary",actions:["setBillingInfos"]}}},payment:{meta:{path:se.MOVE_IN.PAYMENT_URL},invoke:[],on:{OPEN_MODAL:{target:"mandate",actions:["setPayment"]},GO_TO_SUMMARY:{target:"summary",actions:["setPayment"]},GO_BACK:{target:"billingInfo"},SET_SUMMARY:{actions:["setSummary"]}}},mandate:{meta:{path:se.MOVE_IN.MANDATE_URL},on:{GO_BACK:{target:"payment"},GO_TO_SUMMARY:{target:"summary"}}},summary:{meta:{path:se.MOVE_IN.SUMMARY_URL},invoke:[],on:{UPDATE_SUMMARY:{actions:["setSummary"]},BACK_INVENTORY:{target:"inventory"},BACK_DATE_SELECTION:{target:"dateSelection"},BACK_COUNTER:{target:"counter"},BACK_BILLING:{target:"billingInfo"},GO_TO_PAYMENT:{target:"payment"},GO_TO_VALIDATE:{target:"confirmationPage"},GO_BACK:{target:"payment"},GO_TO_SUMMARY:{target:"summary"},SET_SUMMARY:{actions:["setSummary"]}}},confirmationPage:{meta:{path:se.MOVE_IN.CONFIRMATION_URL}}}},contractNotEligible:{meta:{path:se.MOVE_IN.ERROR_URL},type:"final"},contractNotSelectionable:{meta:{path:se.MOVE_IN.ERROR_URL},type:"final"},contractAlreadyInitiated:{meta:{path:se.MOVE_IN.ERROR_URL},type:"final"},contractNoAuto:{meta:{path:se.MOVE_IN.ERROR_URL},type:"final"},errorSessionExpiredInitated:{meta:{path:tn(se.MOVE_IN.ERROR_TIMEOUT,{status:"initie"})},type:"final"},errorSessionExpiredUninitiated:{meta:{path:tn(se.MOVE_IN.ERROR_TIMEOUT,{status:"non-initie"})},type:"final"},noWater:{meta:{path:se.MOVE_IN.NOWATER_URL},type:"final"},noMatch:{meta:{path:"(.*)"}}}},Yn={actions:{setStatementsContext:be({statements:(...s)=>s[1].statements}),setCurrentDateResiliation:be({currentDateResiliation:(s,n)=>n.currentDateResiliation}),setIsDifferentDate:be({isDateDifferent:(...s)=>s[1].isDateDifferent}),setDetailsContext:be({details:(...s)=>s[1].details}),setMeter:be({meterData:(s,n)=>n.meter}),setCallReenter:be({callReenter:(s,n)=>n.callReenter}),setMeterInfoContext:be({meterInfos:(s,n)=>n.meterInfos,meterData:(s,n)=>{var t,r,i;if((t=n.meterInfos)!=null&&t.email)return{email:(r=n.meterInfos)==null?void 0:r.email,isConnected:!!((i=n.meterInfos)!=null&&i.email)}},identityData:(s,n)=>{const{meterInfos:t}=n;let r=[{matricule:t.meterNumber1}];return t!=null&&t.meterNumber2&&(r=[...r,{matricule:t.meterNumber2}]),{addressSite1:t==null?void 0:t.address,codePostal:t==null?void 0:t.town,counters:r}}}),setCodeInseeBancoContext:be({codeInsee:(s,n)=>n.codeInsee,codeBanco:(s,n)=>n.codeBanco,sessionData:(s,n)=>n.sessionData}),setCelState:be({haveCel:(s,n)=>n==null?void 0:n.cel,brand:(s,n)=>n==null?void 0:n.brand,createNewCel:(s,n)=>n==null?void 0:n.createNewCel}),setSummary:be({summary:(s,n)=>n.summary}),setIdentityFromSummary:be({identityData:(s,n)=>{const{summary:t}=n,r=[...t.meters];return{addressSite1:t.addressSite1,addressSite2:t.addressSite2,addressSite3:t.addressSite3,codePostal:t.cpSite,city:t.villeSite,counters:r}}}),setInventory:be({inventory:(s,n)=>n.inventory}),setContract:be({currentDateResiliation:(s,n)=>{const[t,r,i]=n.startingDate.split("/");return new Date(i,r-1,t)},isDifferentStartingDate:(s,n)=>{const{summary:t}=s,r=n.startingDate;if(t!=null&&t.startingDate){const[i,a,o]=t.startingDate.slice(0,10).split("-"),[m,u,c]=r.split("/"),d=new Date(i,a-1,o),v=new Date(c,u-1,m);return d.toISOString()!==v.toISOString()}return!0}}),setCounterFetchState:be({isCounterFetching:(s,n)=>n.isCounterFetching}),resetCounterFetchState:be({isCounterFetching:!1}),setBillingInfos:be({billingInfos:(s,n)=>n.billingInfos}),setPayment:be({payment:(s,n)=>n.payment})},guards:{}};Hs.routerMachine({config:Kn,options:Yn});function Li(){const{t:s}=z(),{track:n}=he();return D.useEffect(()=>{n("MOVEIN_1",{sz_funnel_step:"2"})},[]),e.jsxDEV(l.SzCard,{title:"Accs client",direction:"top",color:"primary-brand",className:"mt-4 bg-white",children:e.jsxDEV("div",{className:"p-md-4",children:[e.jsxDEV("div",{className:"row justify-content-center",children:e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",align:"center",className:"col-12",children:s("moveIn.Login.body")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/LoginCard.jsx",lineNumber:27,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/LoginCard.jsx",lineNumber:26,columnNumber:9},this),e.jsxDEV("div",{className:"row align-items-center justify-content-center",children:e.jsxDEV(Sr,{className:"col-12 col-md-12 block-login rounded-lg p-4 m-md-3 pb-5 border-small border data-hj-suppress",submitText:s("moveIn.Login.submitText"),targetPath:se.MOVE_IN.INVENTORY_URL},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/LoginCard.jsx",lineNumber:38,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/LoginCard.jsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/LoginCard.jsx",lineNumber:25,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/LoginCard.jsx",lineNumber:19,columnNumber:5},this)}const fs=""+new URL("helper-BecZvtOp.svg",import.meta.url).href;function Fi(s){const{handleCloseModal:n}=s,t=je(),{t:r}=z(),[i,a]=D.useState(!1),[o,m]=D.useState(!1),u=()=>{m(!0)},c=()=>{a(!0),n()};return e.jsxDEV("div",{className:"container py-5",children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-12 col-md-8",children:[e.jsxDEV(l.SzTypographie,{variant:t?"large":"huge",weight:"medium",className:"cy-info-not-matching-title",align:"left",children:r("moveIn.Meter.InfoNotMatching.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:30,columnNumber:11},this),e.jsxDEV(l.SzTypographie,{children:r("moveIn.Meter.InfoNotMatching.body1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:38,columnNumber:11},this),e.jsxDEV(l.SzTypographie,{children:r("moveIn.Meter.InfoNotMatching.body2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:41,columnNumber:11},this),e.jsxDEV("div",{className:"col-12 col-md-4 d-block d-sm-none",children:e.jsxDEV("img",{src:fs,alt:"Service client"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:46,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:45,columnNumber:11},this),e.jsxDEV("div",{className:"row pt-3",children:[e.jsxDEV("div",{className:"col-12 col-md-6",children:e.jsxDEV(Ze,{to:wn,variant:"contained",className:"col-12 col-md-11 mr-md-4 mb-3 mb-md-0 cy-contact-client-service",onClick:u,loader:o,children:r("moveIn.Meter.InfoNotMatching.buttonContact")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:51,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:50,columnNumber:13},this),e.jsxDEV("div",{className:"col-12 col-md-6",children:e.jsxDEV(l.SzButton,{className:"col-12 col-md-11 mr-md-4 mb-3 mb-md-0 cy-return-to-meter",variant:"text",icon:"keyboard-arrow-right",alignIcon:"right",onClick:c,loader:i,children:r("moveIn.Meter.InfoNotMatching.buttonGoOn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:62,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:61,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:49,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:29,columnNumber:9},this),e.jsxDEV("div",{className:"col-12 col-md-4 d-none d-md-block",children:e.jsxDEV("img",{src:fs,alt:"Service client"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:76,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:75,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:28,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/InfoNotMatching.jsx",lineNumber:27,columnNumber:5},this)}function Ui(){const s=os(),{t:n}=z(),{track:t}=he(),{initParcours:r}=D.useContext(le),{state:i,send:a}=r,{address:o,town:m,meterNumber1:u,meterNumber2:c}=i.context.meterInfos;D.useEffect(()=>{t("MOVEIN_1",{sz_funnel_step:"1",sz_funnel_variant:Je.confirm})},[]);let d=o;s&&d.length>75?d=`${Ue(d,77," ...")} `:s&&o.length>27?d=`${Ue(d,o.length," ...")} `:o.length>27&&(d=`${Ue(d,29," ...")} `);const[v,N]=D.useState(!1),[h,j]=D.useState(!1),y=()=>{t("MOVEIN_6"),N(!0),j(!0)},E=()=>{j(!1),N(!1)},I=()=>{a("GO_TO_NO_CONNECTED")};return e.jsxDEV(l.SzCard,{title:"Compteur d'eau",direction:"top",color:"primary-brand",className:"mt-4 bg-white address",children:[e.jsxDEV("div",{className:"p-md-4",children:[e.jsxDEV("div",{className:"row justify-content-center",children:e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",className:"col-12 text-center",children:n("moveIn.Address.body")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:71,columnNumber:9},this),e.jsxDEV("div",{className:"col-12 col-md-10 m-auto",children:[e.jsxDEV("div",{className:"row bg-light py-4",children:[e.jsxDEV(l.SzData,{className:"offset-1 col-8 pb-4",icon:"maps-pin-1",children:[e.jsxDEV(l.SzData.Text,{className:"cy-meter-address-title",children:n("moveIn.IdentityBlock.address")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:83,columnNumber:15},this),e.jsxDEV(l.SzData.Title,{className:"cy-meter-address-value data-hj-suppress",children:[d&&d," ",e.jsxDEV("br",{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:87,columnNumber:56},this),m&&m]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:86,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:82,columnNumber:13},this),e.jsxDEV(l.SzData,{icon:"gauge-dashboard-1",className:"offset-1 col-8",children:[e.jsxDEV(l.SzData.Text,{className:"cy-meter-title",children:n("moveIn.Address.titleMeter")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:92,columnNumber:15},this),u&&e.jsxDEV(l.SzData.Title,{className:"cy-meter1-value data-hj-suppress",children:u},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:96,columnNumber:17},this),c&&e.jsxDEV(l.SzData.Title,{className:"cy-meter2-value data-hj-suppress",children:c},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:101,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:91,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:81,columnNumber:11},this),e.jsxDEV("div",{className:"row mt-4 justify-content-between",children:[e.jsxDEV(l.SzButton,{variant:"text",className:"col-12 col-md-7 btn-tertiary-hovered cy-infonofit-button",icon:"messages-bubble-question",alignIcon:"left",onClick:y,loader:v,children:n("moveIn.Address.infoMessage")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:109,columnNumber:13},this),e.jsxDEV(l.SzButton,{variant:"contained",className:"mt-4 mt-md-0 col-12 col-md-4 cy-button-submit-confirm-subscription",onClick:I,children:n("moveIn.Address.submitButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:70,columnNumber:7},this),h&&e.jsxDEV(l.SzModal,{show:!0,size:"xl",handleClose:E,hideCloseBtn:!0,children:e.jsxDEV(Fi,{handleCloseModal:E},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:136,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:130,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Address.jsx",lineNumber:64,columnNumber:5},this)}const Hi=""+new URL("counter-helper-popin-01-Bgi7hlB5.svg",import.meta.url).href,Gi=""+new URL("counter-helper-popin-02-C26p3__l.svg",import.meta.url).href,Wi=""+new URL("counter-helper-popin-03-DEgkFkMg.svg",import.meta.url).href;function $i(){const{t:s}=z(),{track:n}=he(),{initParcours:t}=fe.useContext(le),{send:r,state:i}=t,{sessionData:a}=i.context,o=s("moveIn.Meter.incorrectMeterNumber"),m=Be().shape({meterNumber:k().matches(/^[a-zA-Z0-9/:]*$/,o,{excludeEmptyString:!0}).min(6,o).max(15,o)}),[u,c]=D.useState(!1),[d,v]=D.useState(!1),[N,h]=D.useState(""),j=()=>v(!1),y=()=>v(!0),E=()=>{c(!1)};D.useEffect(()=>{n("MOVEIN_1",{sz_funnel_step:"1",sz_funnel_variant:Je.type})},[]),D.useEffect(()=>{u&&n("MOVEIN_1",{sz_funnel_step:"1",sz_funnel_variant:Je.unknown})},[u]);const{isLoading:I,...x}=Ee(({params:g})=>pe(Ne.MOVE_IN.GET_METER_ELIGIBILITY,{params:g}),{onSuccess:g=>{const{data:w}=g,S=[q.KO_FORMAT,q.KO_COMPTEUR,q.KO_ELIGIBILITE_COMPTEUR,q.KO_LOCALISATION,q.KO_ELIGIBILITE_DEMANDE,q.KO_ELIGIBILITE_72H],C=[q.OK_NON_AUTO,q.KO_COMPTEUR,q.KO_FORMAT];w.code==="00"&&w.canEditMeterNumber&&C.includes(w.message)&&!u?(h(w.statusMeterNumber),c(!0)):w.code==="00"&&w.message===q.OK_ELIGIBILITE?(n("MOVEIN_4",{"sz_saisie-num-compteur-result":Se.finded}),r({type:"GO_TO_SUMMARY_METER",meterInfos:w})):w.code==="00"&&w.message===q.OK_ELIGIBILITE_INITIE?(n("MOVEIN_4",{"sz_saisie-num-compteur-result":Se.unfinded}),r({type:"GO_TO_START_PARCOURS"})):w.code==="00"&&w.message===q.OK_NON_AUTO?(n("MOVEIN_4",{"sz_saisie-num-compteur-result":Se.uneligible}),f.mutate()):w.code==="00"&&w.message===q.KO_ELIGIBILITE_INITIE?(n("MOVEIN_4",{"sz_saisie-num-compteur-result":Se.uneligible}),r({type:"GO_TO_KO_EGIBILITY"})):w.code==="00"&&S.includes(w.message)?(n("MOVEIN_4",{"sz_saisie-num-compteur-result":Se.uneligible}),r({type:"GO_TO_CONTRACT_NOT_SELECTIONABLE"})):(n("MOVEIN_4",{"sz_saisie-num-compteur-result":Se.uneligible}),r({type:"GO_TO_CONTRACT_NOT_ELIGIBLE"}))},onError:g=>{console.error(g)}}),f=Ee(()=>pe.post(Ne.MOVE_IN.POST_SET_ADDRESS_IN_SESSION,a),{onSuccess(g){const{data:w}=g;w.code==="00"&&w.message===q.OK_SET_IN_SESSION&&(window.location.href=se.MOVE_IN.ACCOUNT_ONLINE_STEP2)}}),b=async g=>{const{meterNumber:w}=g,S={meterNumber:w};x.mutate({params:S})};return e.jsxDEV(Ge,{initialValues:{meterNumber:""},validationSchema:m,onSubmit:b,children:({values:g,errors:w,handleChange:S,handleSubmit:C})=>{const V=m.isValidSync(g);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("form",{onSubmit:C,children:e.jsxDEV(l.SzCard,{title:"Compteur d'eau",direction:"top",color:"primary-brand",className:"mt-4 bg-white",children:[e.jsxDEV("div",{className:"p-md-4",children:[u&&e.jsxDEV("div",{className:"mr-md-4 row",children:[e.jsxDEV("div",{className:"col-12 mb-3 meter-error-color cy-meter-error-warning",children:N===q.KO_FORMAT?s("moveIn.Meter.retry.meterKoFormat"):s("moveIn.Meter.retry.meterNotRecognized")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:189,columnNumber:23},this),e.jsxDEV("div",{className:"col-12 mb-1",children:[s("moveIn.Meter.retry.meterNumber"),g.meterNumber]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:192,columnNumber:23},this),e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(l.SzTypographie,{variant:"body",size:"S",children:s("moveIn.Meter.retry.confirmMeter")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:197,columnNumber:25},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:196,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:188,columnNumber:21},this),!u&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"row",children:e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",className:"col-12 cy-meter-body-text",children:e.jsxDEV(X,{content:s("moveIn.Meter.body")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:211,columnNumber:27},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:206,columnNumber:25},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:205,columnNumber:23},this),e.jsxDEV("div",{className:"mr-md-4 row",children:[e.jsxDEV("div",{className:"col-md-3 col-12",children:e.jsxDEV(l.SzInput,{name:"meterNumber",className:"cy-meter-number data-hj-suppress",label:s("moveIn.Meter.meterInput.label"),placeholder:s("moveIn.Meter.meterInput.placeholder"),value:g.meterNumber,onChange:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:217,columnNumber:27},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:216,columnNumber:25},this),e.jsxDEV("div",{className:"col-12 d-md-none meter-error-color",children:w.meterNumber},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:228,columnNumber:25},this),e.jsxDEV("div",{className:"col-12 col-md-2",children:e.jsxDEV(l.SzButton,{type:"submit",variant:"contained",className:"mt-4 w-100 cy-button-valid-meter-nbr",isDisabled:!V,loader:I||f.isLoading,children:s("moveIn.Meter.submitButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:232,columnNumber:27},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:231,columnNumber:25},this),e.jsxDEV("div",{className:"col-12 d-none d-md-block meter-error-color",children:w.meterNumber},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:242,columnNumber:25},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:215,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:204,columnNumber:21},this),e.jsxDEV("div",{className:"mr-md-4 row",children:e.jsxDEV(l.SzButton,{variant:"tertiary",icon:"information-circle",small:!0,onClick:y,children:e.jsxDEV(l.SzTypographie,{variant:"caption",size:"M",children:s("moveIn.Meter.findMyMeter")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:255,columnNumber:23},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:249,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:248,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:186,columnNumber:17},this),u&&e.jsxDEV("div",{className:"mr-md-4 row d-flex justify-content-around",children:[e.jsxDEV(l.SzButton,{variant:"secondary",icon:"keyboard-arrow-left",border:"soft",onClick:E,children:e.jsxDEV(l.SzTypographie,{variant:"caption",size:"M",children:s("moveIn.Meter.retry.typeAgain")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:269,columnNumber:23},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:263,columnNumber:21},this),e.jsxDEV(l.SzButton,{type:"submit",border:"soft",className:"cy-button-confirm-and-go-on",loader:I||f.isLoading,children:e.jsxDEV(l.SzTypographie,{variant:"caption",size:"M",children:s("moveIn.Meter.retry.confirm")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:279,columnNumber:23},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:273,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:262,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:180,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:179,columnNumber:13},this),e.jsxDEV(cn,{centered:!0,size:"lg",show:d,onHide:j,children:e.jsxDEV(cn.Body,{children:[e.jsxDEV("div",{className:"row d-flex justify-content-end pr-3 mb-2",children:e.jsxDEV(l.SzIcon,{variant:"line",icon:"close",onClick:j},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:290,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:289,columnNumber:17},this),e.jsxDEV("div",{className:"row px-3 px-md-5 mb-3",children:e.jsxDEV(l.SzTypographie,{variant:"H3",size:"M",weight:"bold",children:s("moveIn.Meter.helper.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:293,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:292,columnNumber:17},this),e.jsxDEV("div",{className:"row px-3 px-md-5",children:e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",children:e.jsxDEV(X,{content:s("moveIn.Meter.helper.findMeter")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:299,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:298,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:297,columnNumber:17},this),e.jsxDEV("div",{className:"row px-3 px-md-5",children:e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",children:e.jsxDEV(X,{content:s("moveIn.Meter.helper.findMeterNumber")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:304,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:303,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:302,columnNumber:17},this),e.jsxDEV("div",{className:"row px-3 px-md-5",children:[e.jsxDEV("div",{className:"col-12 col-md-4 d-flex justify-content-center mb-2",children:e.jsxDEV("img",{src:Hi,alt:"exemple compteur 1"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:311,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:310,columnNumber:19},this),e.jsxDEV("div",{className:"col-12 col-md-4 d-flex justify-content-center mb-2",children:e.jsxDEV("img",{src:Gi,alt:"exemple compteur 2"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:314,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:313,columnNumber:19},this),e.jsxDEV("div",{className:"col-12 col-md-4 d-flex justify-content-center mb-2",children:e.jsxDEV("img",{src:Wi,alt:"exemple compteur 3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:317,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:316,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:309,columnNumber:17},this),e.jsxDEV("div",{className:"row d-flex justify-content-center my-4",children:e.jsxDEV(l.SzButton,{variant:"contained",border:"soft",onClick:j,children:s("moveIn.Meter.helper.understood")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:321,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:320,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:288,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:287,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:178,columnNumber:11},this)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/MeterInfo.jsx",lineNumber:167,columnNumber:5},this)}k.prototype.checkPassRules=function(s,n){return k().test(n,s,function(t){if(t){const r=/[a-z]/.test(t),i=/[A-Z]/.test(t),a=/[\d]/.test(t),o=/[\W]/.test(t),m=t.length>=8;return r&&i&&a&&o&&m}})};const Ki=Be().shape({email:k().required("Le champ e-mail doit tre rempli.").email("Le champ e-mail n'est pas valide.").max(70,"Le champ e-mail n'est pas valide.")}),Yi=Be().shape({password:k().required("Le champ mot de passe doit tre rempli.").checkPassRules("Mot de passe invalide."),confirm:k().required("Le champ mot de passe de confirmation doit tre rempli.").oneOf([Or("password"),null],"Le mot de passe ne correspond pas.")}),qi=Be().shape({email:k().required("Le champ e-mail doit tre rempli.").email("Le champ e-mail n'est pas valide.").max(70,"Le champ e-mail n'est pas valide."),civility:k().required("Le champ civilit doit tre rempli."),lastname:k().required("Le champ prnom doit tre rempli."),firstname:k().required("Le champ nom doit tre rempli.")}),Xi=()=>{const{t:s}=z();return e.jsxDEV("div",{className:"row mt-4",children:[e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(l.SzTypographie,{weight:"regular",children:s("moveIn.Meter.accessSpace.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/AccessSpace.jsx",lineNumber:10,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/AccessSpace.jsx",lineNumber:9,columnNumber:7},void 0),e.jsxDEV("div",{className:"col-md-5 mt-2",children:e.jsxDEV(l.SzButton,{variant:"outlined",className:"mr-3 w-100 rounded-2",icon:"single-neutral-id-card-3",children:s("moveIn.Meter.accessSpace.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/AccessSpace.jsx",lineNumber:15,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/AccessSpace.jsx",lineNumber:14,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/AccessSpace.jsx",lineNumber:8,columnNumber:5},void 0)},Zi=({clearCode:s})=>{const n=je(),{t}=z(),{track:r}=he(),{initParcours:i}=D.useContext(le),{state:a,send:o}=i,{meterData:m}=a.context,[u,c]=D.useState(!1),d=Ee(x=>pe.post(Ne.MOVE_IN.POST_CHECK_SECURITY_CODE,x),{onSuccess:(x,f)=>{var g,w,S,C,V;const{data:b}=x;b.code==="00"&&b.message==="OK_NO_CEL"?(r("MOVEIN_7",{"sz_saisie-code-auth-result":Se.fail}),o({type:"GO_TO_CREATE_ACCOUNT",cel:!1,createNewCel:!0,brand:((w=(g=b==null?void 0:b.content)==null?void 0:g.brand)==null?void 0:w.name)||an})):b.code==="00"&&b.message==="OK_CEL"?(r("MOVEIN_7",{"sz_saisie-code-auth-result":Se.success}),o({type:"GO_TO_ADD_CONTRACT",cel:!0,brand:((C=(S=b==null?void 0:b.content)==null?void 0:S.brand)==null?void 0:C.name)||an})):((V=x.data)==null?void 0:V.message)==="KO"&&(r("MOVEIN_7",{"sz_saisie-code-auth-result":Se.fail}),c(!0),j())},onError:x=>{console.error(x)}}),v={input0:"",input1:"",input2:"",input3:"",input4:"",input5:""},N=As({enableReinitialize:!0,initialValues:v,validateOnMount:!0,onSubmit:x=>{const f=Object.values(x).join("");d.mutate({email:m.email,code:f})}}),h={input0:D.useRef(null),input1:D.useRef(null),input2:D.useRef(null),input3:D.useRef(null),input4:D.useRef(null),input5:D.useRef(null)},j=()=>{for(const x of Object.keys(v))N.setFieldValue(x,"");h.input0.current.focus()},y=x=>{x.preventDefault(),x.stopPropagation();const{value:f,name:b}=x.target,g=/^\d?$/,w=Object.keys(h).indexOf(b)+1,S=Object.keys(h).length,C="input"+w;if(N.errors[b]){const V={...N.errors};delete V[b],N.setErrors(V)}I(b,f,g,S,w,C)},E=x=>{x.preventDefault(),x.stopPropagation();const f=x.clipboardData.getData("text/plain"),b=f==null?void 0:f.split(""),g=/^\d?$/,w=Object.keys(h).length;Object.keys(h).map((S,C)=>{const V=Object.keys(h).indexOf(S)+1,_="input"+V;if(N.errors[S]){const M={...N.errors};delete M[S],N.setErrors(M)}I(S,b[C],g,w,V,_)})},I=(x,f,b,g,w,S)=>{(b.test(f)||N.values[x].toString().length>(f==null?void 0:f.toString().length)&&x!==S)&&(N.setFieldValue(x,f),w<g&&(f==null?void 0:f.length)>0&&h[S].current.focus()),g===w&&N.submitForm()};return D.useEffect(()=>{m!=null&&m.email||o({type:"GO_TO_SEND_CODE"})},[]),D.useEffect(()=>{s&&j()},[s]),e.jsxDEV("div",{className:"mt-3 p-md-4  mb-3",style:{background:"var(--gray-100)"},children:[e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",className:"col-12",children:t("moveIn.Meter.checkCode.codeForm.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:189,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",className:"col-12",children:t("moveIn.Meter.checkCode.codeForm.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:193,columnNumber:7},void 0),e.jsxDEV("form",{className:"row w-100 m-0 no-gutters justify-content-center cy-digits-index data-hj-suppress",onSubmit:N.handleSubmit,children:Object.keys(h).map((x,f)=>e.jsxDEV("div",{className:Fe("mx-1 pt-1",{"mx-md-2":f>0,"mr-md-2":f===0}),children:e.jsxDEV(l.SzInput,{"data-cy":"confirm-code",ref:h[x],autoFocus:x==="input0",style:{backgroundColor:"var(--blue-4) !important",width:n?"calc(90vw / 8 - 12px)":41,height:41},name:x,onChange:y,onPaste:E,value:N.values[x],pattern:"^\\d?$",maxLength:1,type:n?"tel":"text",placeholder:"-",className:"p-0 border border-secondary rounded number-box text-center sz-border-1 data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:209,columnNumber:13},void 0)},x,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:202,columnNumber:11},void 0))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:197,columnNumber:7},void 0),u&&e.jsxDEV("div",{className:"row",children:e.jsxDEV("div",{className:"d-flex mx-auto",children:e.jsxDEV(l.SzAlert,{variant:"danger",className:"cy-error-code",children:t("moveIn.Meter.checkCode.codeForm.error")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:234,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:233,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:232,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/ConfirmCode.jsx",lineNumber:185,columnNumber:5},void 0)},Ji=()=>{const{t:s}=z(),{initParcours:n}=D.useContext(le),{state:t,send:r}=n,{meterData:i}=t.context,[a,o]=D.useState(!1),m=Ee(c=>(o(!0,setTimeout(()=>{o(!1)},2e3)),pe.post(Ne.MOVE_IN.POST_SEND_SECURITY_CODE,c)),{onSuccess:(c,d)=>{const v={...i,email:d.email},{data:N}=c;if(typeof N.redirect<"u"){window.location.replace(N.redirect);return}N.code==="00"&&N.message==="OK"?r({type:"GO_TO_SELECT_CODE",meter:v}):N.code==="00"&&N.message==="OK_INITIE"?r({type:"GO_TO_LOGIN"}):N.code==="00"&&N.message==="KO_INITIE"&&r({type:"GO_TO_KO_EGIBILITY"})},onError:c=>{console.error(c)}}),u={email:i==null?void 0:i.email};return D.useEffect(()=>{t!=null&&t.matches("meter.authentication.noConnected.selectCode")&&!(i!=null&&i.email)&&r({type:"GO_TO_SEND_CODE"})}),e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ge,{initialValues:u,onSubmit:m.mutate,validationSchema:Ki,validateOnMount:!0,children:c=>e.jsxDEV("form",{onSubmit:c.handleSubmit,children:e.jsxDEV("div",{className:"mr-md-4 row d-flex align-items-center",children:[e.jsxDEV("div",{className:"col-sm-12 col-md-8 col-lg-5",children:c.values.email&&(i!=null&&i.isConnected)?e.jsxDEV("div",{className:"d-flex align-items-center bg-light px-3",children:[e.jsxDEV(l.SzIcon,{variant:"line",icon:"envelope"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:88,columnNumber:23},void 0),e.jsxDEV(G,{className:"py-3 px-2 px-md-3",children:[e.jsxDEV(G.Title,{children:s("moveIn.Meter.account.emailConnection")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:90,columnNumber:25},void 0),e.jsxDEV(G.Text,{children:c.values.email},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:93,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:89,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:87,columnNumber:21},void 0):e.jsxDEV(l.SzInput,{name:"email",className:"data-hj-suppress",label:s("moveIn.Meter.checkCode.emailForm.email.label"),placeholder:s("moveIn.Meter.checkCode.emailForm.email.placeholder"),value:c.values.email,onChange:c.handleChange},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:99,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:85,columnNumber:17},void 0),e.jsxDEV("div",{className:"col-sm-12 col-md-4 col-lg-3",children:i!=null&&i.email&&t.matches("meter.authentication.noConnected.selectCode")?e.jsxDEV(l.SzButton,{className:Oe("cy-button-resend-code",!(i!=null&&i.isConnected)&&"mt-3"),variant:"text",icon:"synchronize-arrow-1",type:"submit",isDisabled:!yr(c.values.email),loader:m.isLoading,children:s("moveIn.Meter.checkCode.emailForm.email.btn.resendCode")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:117,columnNumber:23},void 0):e.jsxDEV(l.SzButton,{className:Oe("w-100 cy-button-send-code",!(i!=null&&i.isConnected)&&"mt-3"),variant:"contained",type:"submit",isDisabled:!c.isValid,loader:m.isLoading,children:s("moveIn.Meter.checkCode.emailForm.email.btn.getCode")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:133,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:112,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:84,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:83,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:75,columnNumber:7},void 0),t.matches("meter.authentication.noConnected.selectCode")&&(i==null?void 0:i.email)&&e.jsxDEV(Zi,{clearCode:a},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:155,columnNumber:29},void 0),(i==null?void 0:i.isConnected)&&e.jsxDEV(Xi,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:156,columnNumber:34},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/GetCode.jsx",lineNumber:74,columnNumber:5},void 0)},Qi=()=>{const{t:s}=z(),{track:n}=he(),{initParcours:t}=D.useContext(le),{state:r}=t,{meterData:i}=r==null?void 0:r.context;return D.useEffect(()=>{n("MOVEIN_1",{sz_funnel_step:"2",sz_funnel_variant:Je.code})},[]),e.jsxDEV(l.SzCard,{title:s("moveIn.Meter.checkCode.title"),direction:"top",color:"primary-brand",className:"mt-4 bg-white",children:e.jsxDEV("div",{className:"px-md-5 py-md-4",children:[e.jsxDEV("div",{className:"row",children:e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",className:"col-12",children:s("moveIn.Meter.checkCode.emailForm.title",{context:(i==null?void 0:i.email)&&(i==null?void 0:i.isConnected)&&"cel"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/index.jsx",lineNumber:32,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/index.jsx",lineNumber:31,columnNumber:9},void 0),e.jsxDEV(Ji,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/index.jsx",lineNumber:38,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/index.jsx",lineNumber:30,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/checkCode/index.jsx",lineNumber:24,columnNumber:5},void 0)},ea=Qi,sa=({email:s,haveCel:n})=>{let t={email:s||"",civility:"",lastname:"",firstname:""};return n||(t={...t,password:"",confirm:""}),t},na=({haveCel:s,AddContractSchema:n,CreateAccountSchema:t})=>{let r=n;return!s&&t&&(r=r.concat(t)),r},ra=async s=>{const{codeUsages:n}=await Gr({params:s});return s==null||delete s.consents,s==null||delete s.statusConsents,{...s,codeUsages:n}};function ms(s){const{className:n,titleFirst:t,onClickFirst:r,tileSecondary:i,isValidForm:a,isLoading:o,variantFirst:m,previous:u=!0,disableBoth:c=!1}=s;return e.jsxDEV("div",{className:Fe("p-3",n),children:e.jsxDEV("div",{className:"px-md-5 pb-4",children:[e.jsxDEV("div",{className:"row px-3 d-none d-md-block",children:[u&&e.jsxDEV(l.SzButton,{className:"bg-transparent",variant:m||"outlined",icon:"arrow-left",onClick:r,isDisabled:c,children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:23,columnNumber:13},this),e.jsxDEV(l.SzButton,{variant:"contained",isDisabled:!a,loader:o,className:"float-right",type:"submit",children:i},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:21,columnNumber:9},this),e.jsxDEV("div",{className:"d-md-none row no-gutters justify-content-between mt-4 mt-md-5",children:[e.jsxDEV("div",{className:"row mb-3",children:e.jsxDEV(l.SzButton,{variant:"contained",isDisabled:!a,className:"col-8 m-auto",type:"submit",loader:o,children:i},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:47,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:46,columnNumber:11},this),u&&e.jsxDEV("div",{className:"row mb-3",children:e.jsxDEV(l.SzButton,{className:"bg-transparent col-8 m-auto",variant:m||"outlined",icon:"arrow-left",onClick:r,isDisabled:c,children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:59,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:58,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:45,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:20,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/NextPreviousBtn.jsx",lineNumber:19,columnNumber:5},this)}const ta=()=>{var f,b;const{t:s}=z(),{track:n}=he(),{initParcours:t}=D.useContext(le),{state:r,send:i}=t,{haveCel:a,codeInsee:o,codeBanco:m}=r.context,[u,c]=D.useState(!1),N=Wr({params:{codeParcours:"arrivee",reference:"NON_RENSEIGNE",typeUsage:"OPT-IN",codeInsee:o,codeBanco:m},options:{onSuccess:g=>{var w;((w=g==null?void 0:g.data)==null?void 0:w.message)===q.KO_CONSENT&&(window.location.href=se.MOVE_IN.ERROR_TECHNICAL)},onError:()=>{window.location.href=se.MOVE_IN.ERROR_TECHNICAL}},queryName:"getMoveInConsentQuery"}),h=na({haveCel:a,AddContractSchema:qi,CreateAccountSchema:Yi}),j=$r({consents:xn({translate:s,data:gn(((b=(f=N.data)==null?void 0:f.data)==null?void 0:b.typesUsages)||{})})}),y=h.concat(j),{isLoading:E,...I}=Ee(async g=>{const w={...g},S=await ra(w);return pe.post(Ne.MOVE_IN.POST_CREATE_REFERENCE,S,{timeout:3e4,headers:{post:{"Content-Type":wr}}})},{onSuccess:g=>{const{data:w}=g;if(typeof(w==null?void 0:w.redirect)<"u"){c(!0),window.location.replace(w.redirect);return}w.code==="00"&&w.message===q.OK&&i({type:"GO_TO_START_PARCOURS",callReenter:!1})},onError:async g=>{c(!1),console.error(g)}}),x=g=>{I.mutate(g)};return D.useEffect(()=>{n("MOVEIN_1",{sz_funnel_step:"2",sz_funnel_variant:Je.infos})},[]),e.jsxDEV(aa,{validationSchema:y,getConsentQuery:N,onSubmit:x,isLoadingSubmit:E,waitRedirect:u},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:136,columnNumber:5},void 0)},ia=ta,aa=({validationSchema:s,getConsentQuery:n,onSubmit:t,isLoadingSubmit:r,waitRedirect:i})=>{var f,b;const{initParcours:a}=D.useContext(le),{t:o}=z(),[m,u]=D.useState(mn("")),{state:c,send:d}=a,{meterData:v,haveCel:N}=c.context,h=je(),j=[{label:o("civility.mr"),value:"M"},{label:o("civility.mrs"),value:"MME"}];if(n.isLoading)return e.jsxDEV(l.SzCard,{title:o("moveIn.Meter.account.title"),direction:"top",color:"primary-brand",className:"mt-4 bg-white account cy-account",children:e.jsxDEV("div",{className:"px-md-5 py-md-4",children:[e.jsxDEV(ce,{width:h?"100%":400,height:48,className:"d-flex mb-4 mx-auto"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:187,columnNumber:11},void 0),e.jsxDEV(ce,{width:"100%",height:80,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:192,columnNumber:11},void 0),e.jsxDEV(ce,{width:"100%",height:378,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:193,columnNumber:11},void 0),e.jsxDEV(ce,{width:h?"100%":500,height:30,className:"mb-4"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:194,columnNumber:11},void 0),e.jsxDEV(ce,{width:"100%",height:378,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:199,columnNumber:11},void 0),e.jsxDEV(ce,{width:h?"100%":500,height:30,className:"mb-4"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:200,columnNumber:11},void 0),e.jsxDEV(ce,{width:"100%",height:378,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:205,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:186,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:180,columnNumber:7},void 0);const y=gn((b=(f=n.data)==null?void 0:f.data)==null?void 0:b.typesUsages),E=xn({translate:o,data:y||[]}),x={...sa({email:v==null?void 0:v.email,haveCel:N}),statusConsents:{...E},consents:Object.values(y)};if(n!=null&&n.isFetched&&(y==null?void 0:y.length)>0&&E)return e.jsxDEV("div",{className:"account-consents-page",children:e.jsxDEV(Ge,{enableReinitialize:!0,validateOnMount:!0,initialValues:x,validationSchema:s,onSubmit:t,children:({handleSubmit:g,handleChange:w,isValid:S,values:C,errors:V,setFieldValue:_,validateForm:M})=>{var Z,P,L,B;const F=W=>{var K,R;_("password",(K=W==null?void 0:W.target)==null?void 0:K.value),u(mn((R=W==null?void 0:W.target)==null?void 0:R.value))};return D.useEffect(()=>{C!=null&&C.email||d({type:"GO_TO_SEND_CODE"}),M()},[s]),e.jsxDEV("form",{onSubmit:g,children:[e.jsxDEV(l.SzCard,{title:o("moveIn.Meter.account.title"),direction:"top",color:"primary-brand",className:"mt-4 bg-white account cy-account",children:e.jsxDEV("div",{className:Oe("px-md-5 py-md-4",N&&"child"),children:[!N&&e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",align:"center",className:"col-12 m-0",children:o("moveIn.Meter.account.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:274,columnNumber:25},void 0),e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",align:"center",className:"col-12 m-0",children:o("moveIn.Meter.account.description_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:282,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:273,columnNumber:23},void 0),e.jsxDEV("div",{className:"row mt-4",children:e.jsxDEV("div",{className:"col-12 text-center",children:e.jsxDEV(G,{className:"bg-light py-3 px-2 px-md-3 cy-account-email",children:[e.jsxDEV(G.Title,{children:o("moveIn.Meter.account.email")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:296,columnNumber:27},void 0),e.jsxDEV(G.Text,{children:v==null?void 0:v.email},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:299,columnNumber:27},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:295,columnNumber:25},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:294,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:293,columnNumber:21},void 0),N&&e.jsxDEV("div",{className:"row mt-5",children:e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",align:"left",className:"col-12 m-0",children:o("moveIn.Meter.account.infoCel")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:308,columnNumber:25},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:307,columnNumber:23},void 0),e.jsxDEV("div",{className:"row mt-3",children:e.jsxDEV("div",{className:"col-lg-3",children:[e.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",htmlFor:"nationality",children:e.jsxDEV("span",{className:"font-family-bold text-inactive",children:o("moveIn.Meter.account.form.civility.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:325,columnNumber:27},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:321,columnNumber:25},void 0),e.jsxDEV(l.SzSelect,{label:o("moveIn.Meter.account.form.civility.label"),name:"civilty",id:"civility",placeholder:o("moveIn.Meter.account.form.civility.placeholder"),options:j,value:j.find(({value:W})=>W===C.civility),onChange:W=>{_("civility",W.value)},className:"mb-3 border-secondary"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:329,columnNumber:25},void 0),((Z=C.civility)==null?void 0:Z.length)>0&&V.civility&&e.jsxDEV(l.SzAlert,{children:V.civility},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:346,columnNumber:27},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:320,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:319,columnNumber:21},void 0),e.jsxDEV("div",{className:"row mt-2",children:[e.jsxDEV("div",{className:"col-lg-6",children:[e.jsxDEV(l.SzInput,{label:o("moveIn.Meter.account.form.firstname.label"),placeholder:o("moveIn.Meter.account.form.firstname.label"),name:"firstname",value:C.firstname,onChange:w},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:353,columnNumber:25},void 0),((P=C.firstname)==null?void 0:P.length)>0&&V.firstname&&e.jsxDEV(l.SzAlert,{children:V.firstname},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:363,columnNumber:27},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:352,columnNumber:23},void 0),e.jsxDEV("div",{className:"col-lg-6",children:[e.jsxDEV(l.SzInput,{label:o("moveIn.Meter.account.form.lastname.label"),placeholder:o("moveIn.Meter.account.form.lastname.label"),name:"lastname",value:C.lastname,onChange:w},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:367,columnNumber:25},void 0),((L=C.lastname)==null?void 0:L.length)>0&&V.lastname&&e.jsxDEV(l.SzAlert,{children:V.lastname},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:377,columnNumber:27},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:366,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:351,columnNumber:21},void 0),!N&&e.jsxDEV("div",{className:"row mt-4",children:[e.jsxDEV("div",{className:"col-lg-6",children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(l.SzInput,{label:o("moveIn.Meter.account.form.password.label"),placeholder:o("moveIn.Meter.account.form.password.placeholder"),type:"password",icon:"key-lock-1",showPassword:!0,name:"password",value:C.password,onChange:F,className:"cy-input-password"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:387,columnNumber:31},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:386,columnNumber:29},void 0),e.jsxDEV("div",{className:"col-12 mt-3",children:[e.jsxDEV(l.SzInput,{label:o("moveIn.Meter.account.form.confirmPassword.label"),placeholder:o("moveIn.Meter.account.form.confirmPassword.placeholder"),type:"password",icon:"key-lock-1",showPassword:!0,name:"confirm",value:C.confirm,onChange:w},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:404,columnNumber:31},void 0),((B=C.confirm)==null?void 0:B.length)>0&&V.confirm&&e.jsxDEV(l.SzAlert,{children:V.confirm},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:419,columnNumber:33},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:403,columnNumber:29},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:385,columnNumber:27},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:384,columnNumber:25},void 0),e.jsxDEV("div",{className:"col-lg-6",children:e.jsxDEV(Hr,{passwordValidation:m},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:425,columnNumber:27},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:424,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:383,columnNumber:23},void 0),e.jsxDEV("div",{className:"row mt-4 no-gutters",children:[e.jsxDEV(l.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3",children:o("moveIn.Meter.account.form.consents.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:433,columnNumber:23},void 0),e.jsxDEV(Kr,{hideBtnSubmit:!0,width:"full",queryName:"getMoveInConsentQuery"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:441,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:432,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:266,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:260,columnNumber:17},void 0),e.jsxDEV(ms,{tileSecondary:o("moveIn.Meter.account.form.button.continue"),isValidForm:S,previous:!1,isLoading:r||i},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:449,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:259,columnNumber:15},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:232,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/Account/index.jsx",lineNumber:231,columnNumber:7},void 0)};function oa(){const{initParcours:s}=D.useContext(le),{state:n}=s;return e.jsxDEV("div",{children:[n.matches("meter.authentication.login")&&e.jsxDEV(Li,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/index.jsx",lineNumber:15,columnNumber:67},this),n.matches("meter.summaryMeter")&&e.jsxDEV(Ui,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/index.jsx",lineNumber:16,columnNumber:59},this),n.matches("meter.init")&&e.jsxDEV($i,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/index.jsx",lineNumber:17,columnNumber:51},this),(n.matches("meter.authentication.noConnected.sendCode")||n.matches("meter.authentication.connected.sendCode")||n.matches("meter.authentication.noConnected.selectCode")||n.matches("meter.authentication.connected.selectCode"))&&e.jsxDEV(ea,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/index.jsx",lineNumber:27,columnNumber:15},this),(n.matches("meter.createAccount")||n.matches("meter.addContract"))&&e.jsxDEV(ia,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/index.jsx",lineNumber:29,columnNumber:60},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Meter/index.jsx",lineNumber:14,columnNumber:5},this)}function la(){var h;const s=os(),{t:n}=z(),{initParcours:t}=D.useContext(le),{state:r}=t,{identityData:{addressSite1:i,addressSite2:a,addressSite3:o,codePostal:m,city:u,counters:c}}=r.context;let d="";i!=null&&i.trim()&&(d=i==null?void 0:i.trim()),a!=null&&a.trim()&&(d+=`, ${a==null?void 0:a.trim()}`),o!=null&&o.trim()&&(d+=`, ${o==null?void 0:o.trim()}`),s&&(d==null?void 0:d.length)>75?d=`${Ue(d,77," ...")} `:!s&&(d==null?void 0:d.length)>27&&(d=`${Ue(d,31," ...")} `);let v="";m!=null&&m.trim()&&(v=m==null?void 0:m.trim(),v=v.replace(/,/,"")),u!=null&&u.trim()&&(v+=" "+(u==null?void 0:u.trim()),v=v.replace(/,/,""));const N=Object.keys((h=r.context)==null?void 0:h.identityData).length===0;return e.jsxDEV(l.SzCard,{className:"bg-white my-4 px-md-5",children:e.jsxDEV("div",{className:"row justify-content-between px-md-5",children:[N?e.jsxDEV("div",{className:"col-12 col-md-7",children:e.jsxDEV(ce,{height:24},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:64,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:63,columnNumber:11},this):e.jsxDEV(l.SzData,{className:"col-12 col-md-7 p-md-0",icon:"pin-location-1",children:[e.jsxDEV(l.SzData.Text,{className:"cy-identity-address-title",children:n("moveIn.IdentityBlock.address")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV(l.SzData.Title,{className:"cy-identity-address-value data-hj-suppress",children:[d,e.jsxDEV("br",{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:73,columnNumber:15},this),v]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:71,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:67,columnNumber:11},this),N?e.jsxDEV("div",{className:"offset-1 col-md-4",children:e.jsxDEV(ce,{height:24},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:81,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:80,columnNumber:11},this):e.jsxDEV("div",{className:"d-none d-md-block",children:e.jsxDEV(l.SzData,{icon:"gauge-dashboard-1",children:[e.jsxDEV(l.SzData.Text,{className:"cy-identity-owner-title",children:n("moveIn.IdentityBlock.meter")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:86,columnNumber:15},this),c&&c.length>0&&c.map((j,y)=>e.jsxDEV(l.SzData.Title,{className:"cy-identity-owner-value data-hj-suppress",children:j==null?void 0:j.matricule},y,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:92,columnNumber:19},this))]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:85,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:61,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/IdentityBlock.jsx",lineNumber:60,columnNumber:5},this)}function Ye({title:s,per_unit:n,price:t,isCurrency:r=!0,currency:i,infoComplementary:a}){const{t:o}=z(),m=i||o("currency");return e.jsxDEV("div",{className:"col p-3 bg-light","data-cy":"price-block",children:[e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",align:"center",children:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/PriceBlock.jsx",lineNumber:18,columnNumber:7},this),e.jsxDEV("div",{className:"row align-items-center justify-content-center",children:[e.jsxDEV(l.SzTypographie,{variant:"large",weight:"bold",align:"center",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/PriceBlock.jsx",lineNumber:22,columnNumber:9},this),r&&e.jsxDEV(l.SzTypographie,{tag:"h6",weight:"medium",align:"center",children:m},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/PriceBlock.jsx",lineNumber:26,columnNumber:11},this),a&&e.jsxDEV(l.SzTypographie,{variant:"h1",weight:"bold",align:"center",children:a},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/PriceBlock.jsx",lineNumber:31,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/PriceBlock.jsx",lineNumber:21,columnNumber:7},this),n&&e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",align:"center",children:n},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/PriceBlock.jsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/PriceBlock.jsx",lineNumber:17,columnNumber:5},this)}function ma({}){var o,m,u,c,d,v,N,h,j,y,E,I;const{t:s}=z(),n=async()=>{const{data:x}=await pe.get(Ne.MOVE_IN.GET_PRIX_RDS);return x},{data:t,isLoading:r}=Rs("getPrixRDS",n,{initialData:[],refetchOnWindowFocus:!1,retry:2,onError:x=>{console.error(x)}}),i=Ee(x=>pe.post(Ne.MOVE_IN.POST_PDF_ENCART,x),{onSuccess:(x,f)=>{const{data:b}=x;if(b.code==="00"&&b.message==="OK"){const w="<iframe width='100%', height='100%' src='"+("data:application/pdf;base64,"+b.pdfEncartFile)+"'></iframe>",S=window.open("","_blank");S.document.write(w),S.document.body.style.margin=0,S.document.body.style.overflow="hidden",S.document.getElementsByTagName("iframe")[0].style.border="none"}},onError:x=>{console.error(x)}}),a=x=>{i.mutate({urlEncart:x})};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzCard,{title:"Informations contractuelles",direction:"top",color:"card-disabled",className:"mt-4 bg-white cy-id-bloc-resiliation",children:e.jsxDEV("div",{className:"px-md-5 p-md-4","data-cy":"contract-infos",children:[e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",children:s("moveIn.contract.contractInfos.title",{city:(o=t.prixRds)==null?void 0:o.municipalityName})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:63,columnNumber:11},this),r?e.jsxDEV(ce,{height:45},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:69,columnNumber:13},this):e.jsxDEV(l.SzCard,{title:"Tarifs de l'eau",direction:"top",color:"blue-clear",className:"mt-4 shadow-none cy-id-bloc-resiliation ",children:e.jsxDEV("div",{className:"row",style:{columnGap:"15px"},children:[e.jsxDEV(Ye,{title:s("moveIn.contract.contractInfos.water"),per_unit:s("moveIn.contract.contractInfos.common.per_liters",{price:(m=t.prixRds)==null?void 0:m.prixEauLitre}),price:(u=t.prixRds)==null?void 0:u.prixEaum3},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:78,columnNumber:17},this),e.jsxDEV(Ye,{title:s("moveIn.contract.contractInfos.common.annual_membership"),price:(c=t.prixRds)==null?void 0:c.prixAboEau},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:77,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:71,columnNumber:13},this),r?e.jsxDEV(ce,{height:45},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:98,columnNumber:13},this):e.jsxDEV(l.SzCard,{title:"Tarifs de lassainissement",direction:"top",color:"blue-clear",className:"mt-4 shadow-none bg-white cy-id-bloc-resiliation",children:e.jsxDEV("div",{className:"row m-n3",style:{columnGap:"15px"},children:[e.jsxDEV(Ye,{title:s("moveIn.contract.contractInfos.sanitation"),per_unit:s("moveIn.contract.contractInfos.common.per_liters",{price:(d=t.prixRds)==null?void 0:d.prixAssLitre}),price:(v=t.prixRds)==null?void 0:v.prixAssm3},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:107,columnNumber:17},this),e.jsxDEV(Ye,{title:s("moveIn.contract.contractInfos.common.annual_membership"),price:(N=t==null?void 0:t.prixRds)==null?void 0:N.prixAboAss},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:117,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:106,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:100,columnNumber:13},this),r?e.jsxDEV(ce,{height:45},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:127,columnNumber:13},this):e.jsxDEV(l.SzCard,{title:"Budget annuel",direction:"top",color:"blue-clear",className:"mt-4 shadow-none bg-white cy-id-bloc-resiliation",children:e.jsxDEV("div",{className:"row m-n3",style:{columnGap:"15px"},children:[e.jsxDEV(Ye,{title:s("moveIn.contract.contractInfos.consumption"),price:"120",currency:"m",infoComplementary:"*"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:136,columnNumber:17},this),e.jsxDEV(Ye,{title:s("moveIn.contract.contractInfos.budget"),per_unit:s("moveIn.contract.contractInfos.common.per_month",{price:(h=t.prixRds)==null?void 0:h.prixFacture120Mois}),price:(j=t.prixRds)==null?void 0:j.prixFacture120An},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:142,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:135,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:129,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",className:"mt-4",children:s("moveIn.contract.contractInfos.paragraph")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:155,columnNumber:11},this),e.jsxDEV(l.SzTypographie,{variant:"body",weight:"regular",color:"disabled",children:s("moveIn.contract.contractInfos.paragraphAsterix")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:158,columnNumber:11},this),e.jsxDEV("div",{className:"bg-light pl-5 p-4",children:[e.jsxDEV(l.SzTypographie,{variant:"body",weight:"bold",children:s("moveIn.contract.contractInfos.contract_documents")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:162,columnNumber:13},this),e.jsxDEV("div",{className:"col",children:r?e.jsxDEV(ce,{height:42},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:167,columnNumber:17},this):((E=(y=t.prixRds)==null?void 0:y.encarts)==null?void 0:E.length)>0&&((I=t.prixRds)==null?void 0:I.encarts.map(({url:x,label:f},b)=>e.jsxDEV("div",{className:"row align-items-center",onClick:()=>a(x),style:{cursor:"pointer"},children:[e.jsxDEV(l.SzIcon,{icon:"office-file-pdf-1",variant:"line",className:"mr-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:177,columnNumber:21},this),e.jsxDEV(l.SzTypographie,{variant:"text",weight:"regular",align:"center",tag:"a",children:f},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:182,columnNumber:21},this)]},`prixRds-${b}`,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:171,columnNumber:19},this)))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:165,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:161,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:62,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:56,columnNumber:7},this),e.jsxDEV("div",{className:"p-3 mt-2",children:e.jsxDEV("div",{className:"px-md-5",children:e.jsxDEV("div",{className:"row no-gutters bg-danger-light pt-md-4 pb-3",children:[e.jsxDEV("div",{className:"col-1 d-none d-md-block mb-md-auto text-center mt-md-5",children:e.jsxDEV(l.SzIcon,{icon:"alert-diamond",variant:"bold"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:201,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:200,columnNumber:13},this),e.jsxDEV("div",{className:"col-12 col-md-11 p-3 p-md-0 pr-md-5",children:[e.jsxDEV(l.SzTypographie,{weight:"bold",children:s("moveIn.contract.contractInfos.message.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:204,columnNumber:15},this),e.jsxDEV(l.SzTypographie,{weight:"regular",variant:"text",children:e.jsxDEV(X,{content:s("moveIn.contract.contractInfos.message.body")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:208,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:207,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:203,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:199,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:198,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:197,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractInfos.jsx",lineNumber:55,columnNumber:5},this)}const ua=()=>{const{t:s}=z(),n=je();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzTypographie,{align:"center",variant:n?"h1":"large",weight:"bold",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.contract.helper.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:19,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:13,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.contract.helper.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:27,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:21,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.contract.helper.description_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:35,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:29,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h3",weight:"regular",className:"mr-5 ml-5 mb-5",children:e.jsxDEV(X,{content:s("moveIn.contract.helper.list")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:43,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:37,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/HelperContractContent.jsx",lineNumber:12,columnNumber:5},void 0)},qn=ua,ca=({title:s,show:n,handleClose:t,backdrop:r,centered:i,hideCloseBtn:a})=>{const o=je(),{t:m}=z();return e.jsxDEV(l.SzModal,{title:s,show:n,handleClose:r!=="static"?t:void 0,size:"xl",backdrop:r,centered:i,className:a&&"hide-close-modal-contract",children:[e.jsxDEV("div",{className:"row align-items-center mx-sm-5 mx-2",children:e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV(l.SzTypographie,{variant:o?"large":"huge",className:"text-center text-lg-left",children:m("moveIn.contract.modal.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:35,columnNumber:11},void 0),e.jsxDEV(l.SzTypographie,{children:m("moveIn.contract.modal.description_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:42,columnNumber:11},void 0),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:e.jsxDEV(l.SzTypographie,{children:e.jsxDEV(X,{content:m("moveIn.contract.modal.description_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:49,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:48,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:47,columnNumber:13},void 0),e.jsxDEV("li",{children:e.jsxDEV(l.SzTypographie,{children:e.jsxDEV(X,{content:m("moveIn.contract.modal.description_3",{pathEmmenage:se.MOVE_IN.ACCOUNT_ONLINE_STEP1})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:54,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:53,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:46,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:34,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:33,columnNumber:7},void 0),e.jsxDEV("div",{className:"d-flex flex-column flex-md-row mt-3 text-center text-md-left mx-sm-5 mx-2 mb-4",children:[e.jsxDEV(l.SzButton,{variant:"contained",onClick:t,className:"mt-2 mt-md-0 mb-2 mr-lg-4",children:m("moveIn.contract.modal.actions.continue")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:66,columnNumber:9},void 0),e.jsxDEV(Ze,{to:se.HOME,variant:"tertiary",children:m("moveIn.contract.modal.actions.cancel")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:73,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:65,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/ContractModal.jsx",lineNumber:24,columnNumber:5},void 0)},da=ca,pa=Be({startingDate:Tr().required("moveIn.errors.dateRequired")});function va(){const{t:s}=z(),{track:n}=he(),{initParcours:{send:t,state:{context:{summary:r,isDifferentStartingDate:i,currentDateResiliation:a,isCounterFetching:o}}}}=D.useContext(le),[m,u]=D.useState(),[c,d]=D.useState(),[v,N]=D.useState(!1),[h,j]=D.useState(!1),[y,E]=D.useState(!1),I=D.useMemo(()=>i&&a?a:!i&&(r!=null&&r.startingDate)?new Date(r==null?void 0:r.startingDate):null,[]),x=async()=>{const{data:S}=await pe.get(Ne.MOVE_IN.GET_THRESHOLD_OPENING_DATE);return S.message==="KO_DATE"&&t({type:"GO_TO_SUMMARY"}),S},{data:f,isLoading:b}=Rs("getOpeningDate",x,{initialData:[],refetchOnWindowFocus:!1,retry:2,onSuccess:S=>{if(S.code==="00"&&S.message==="OK"){const{openingDateStart:C,openingDateEnd:V}=S,[_,M,F]=C.split("-"),[Z,P,L]=V.split("-");u(new Date(_,M-1,F)),d(new Date(Z,P-1,L))}},onError:S=>{console.error(S)}}),g=Ee(S=>{const C={...S};return C.startingDate=Te(S.startingDate,ds),pe.post(Ne.MOVE_IN.POST_SET_OPENING_DATE,C)},{onSuccess:(S,C)=>{const{data:V}=S;V.code==="00"&&V.message==="OK"&&t({type:"GO_TO_STATEMENTS_DETAIL",startingDate:Te(C.startingDate,ds)})},onError:S=>{console.error(S),window.location.href=se.MOVE_IN.ERROR_TECHNICAL}}),w=()=>{N(!1)};return D.useEffect(()=>{n("MOVEIN_2",{sz_funnel_step:"1",sz_funnel_variant:null})},[]),e.jsxDEV(Ge,{initialValues:{startingDate:I},validationSchema:pa,onSubmit:g.mutate,enableReinitialize:!0,validateOnMount:!0,children:({handleSubmit:S,setFieldValue:C,isValid:V,values:_})=>{const M=F=>{C("startingDate",F)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("form",{onSubmit:S,children:[e.jsxDEV(l.SzCard,{title:"Date de souscription",direction:"top",color:"primary-brand",className:"mt-4 bg-white cy-id-bloc-resiliation",children:e.jsxDEV("div",{className:"px-md-5 p-md-4",children:[e.jsxDEV("div",{className:"flex-md-row px-md-4",children:[e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",className:"text-align-center",children:s("moveIn.contract.subscription.body")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:152,columnNumber:21},this),e.jsxDEV("div",{className:"row align-items-center ",children:b||(f==null?void 0:f.code)!=="00"?e.jsxDEV("div",{className:"col-12 mt-4",children:e.jsxDEV(ce,{height:42},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:163,columnNumber:27},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:162,columnNumber:25},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"col-12 col-md-6 col-lg-4 mt-2 date-resiliation",children:e.jsxDEV(l.SzDateRangePicker,{value:_.startingDate,onChange:M,minDate:m,maxDate:c,toggle:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:168,columnNumber:29},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:167,columnNumber:27},this),e.jsxDEV("div",{className:"col-12 col-md-6 col-lg-8",children:e.jsxDEV(l.SzAlert,{transparent:!0,variant:"info",className:"mb-0 py-1 cy-id-resiliation-alert",children:e.jsxDEV(l.SzTypographie,{tag:"span",weight:"regular",className:"mb-0 py-1",children:s("moveIn.contract.subscription.alert")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:182,columnNumber:31},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:177,columnNumber:29},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:176,columnNumber:27},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:166,columnNumber:25},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:160,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:151,columnNumber:19},this),e.jsxDEV("div",{className:"row justify-content-start align-items-center no-gutters px-md-4",children:[e.jsxDEV("div",{className:"d-flex align-items-baseline",children:[e.jsxDEV(l.SzTypographie,{className:"mb-0",size:"S",children:s("moveIn.contract.subscription.action")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:197,columnNumber:23},this),e.jsxDEV(l.SzButton,{className:"pl-1",variant:"text",onClick:()=>{N(!v),j(!0),E(!0)},children:e.jsxDEV(l.SzTypographie,{size:"S",weight:"medium",className:"mb-0",children:[s("moveIn.contract.subscription.modal_btn")," "]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:207,columnNumber:25},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:198,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:196,columnNumber:21},this),e.jsxDEV(da,{show:v,handleClose:w,backdrop:h,centered:y,hideCloseBtn:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:210,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:195,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:150,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:144,columnNumber:15},this),e.jsxDEV(ma,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:220,columnNumber:15},this),e.jsxDEV(ms,{onClickFirst:()=>t({type:"GO_BACK"}),titleFirst:s("statement.back_step_1"),tileSecondary:s("statement.validate_and_continue"),isValidForm:V,isLoading:g.isLoading||o,disableBoth:g.isLoading||o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:221,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:143,columnNumber:13},this),e.jsxDEV("div",{className:"d-none d-md-block",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"floating-helper",label:s("know_more"),children:e.jsxDEV(qn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:237,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:231,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:230,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:142,columnNumber:11},this)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Contract/index.jsx",lineNumber:127,columnNumber:5},this)}function fa({loopIndex:s,idPds:n,scrollToMeter:t,contextPath:r}){const{t:i}=z(),a=je(),{initParcours:o}=fe.useContext(r),{state:m,send:u}=o,{context:c}=m,{statements:d,currentDateResiliation:v}=c,[N,h]=fe.useState([]),[j,y]=fe.useState(!1),[E,I]=fe.useState(),{isUploadMandatory:x,isUploadNoView:f,isUploadKo:b,isNoTrDepartureIndex:g}=d[s],w=b&&N.length>0;he();const S=_=>{h(_)},C=As({initialValues:{upload:null},onSubmit:()=>{const _=Te(v,"yyyy-MM-dd"),M={idPds:n,index:d[s].index,photo:N[0]||null,subscriptionDate:_};V.mutate(M)}}),V=Ee(_=>pe.post("/cpt-index/MOVE_IN",_),{onSuccess:_=>{if(_.data.message==="OK"){const M=[...d];if(!d.every(({isValid:Z})=>Z)){const Z=d.findIndex(({isUpdating:P})=>!P);M[Z].isUpdating=!0}M[s].photo=N[0]||null,M[s].isUpdating=!1,u({type:"UPDATE_COUNTER",statements:M}),t(s+1)}else y(!0)},onError:_=>{if(_.response.status===400){const M=_.response.data.validation_errors;I(Object.values(M).flat().shift())}else y(!0)}});return e.jsxDEV("form",{onSubmit:C.handleSubmit,className:"row no-gutters",children:[f&&e.jsxDEV(l.SzAlert,{className:"mt-3",variant:"warning",children:i("statement.counter_alert_no_view.movein")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Upload.jsx",lineNumber:97,columnNumber:9},this),x&&e.jsxDEV(l.SzAlert,{className:"mt-3",variant:"warning",children:i("statement.counteralert",{context:g?"SEdepartureindex":"default"})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Upload.jsx",lineNumber:103,columnNumber:9},this),e.jsxDEV(l.SzTypographie,{className:"my-4 ml-1",weight:"medium",children:i("statement.upload_infos",{context:b&&"mandatory"})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Upload.jsx",lineNumber:109,columnNumber:7},this),e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(xr,{onDrop:S},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Upload.jsx",lineNumber:115,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Upload.jsx",lineNumber:114,columnNumber:7},this),j||E?e.jsxDEV(l.SzAlert,{className:"col-12 mt-3",variant:"danger",children:E||i("errors.techError")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Upload.jsx",lineNumber:120,columnNumber:13},this):null,(!b||w)&&e.jsxDEV(l.SzButton,{variant:"contained",className:"mt-4 mb-3 mx-auto",type:"submit",alignIcon:"right",loader:V.isLoading,icon:a&&"floppy-disk",children:i("statement.upload_button")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Upload.jsx",lineNumber:127,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Upload.jsx",lineNumber:95,columnNumber:5},this)}function Na({loopIndex:s,contextPath:n}){const{t}=z(),{initParcours:r}=fe.useContext(n),{state:i}=r,{context:a}=i,{statements:o,summary:m,currentDateResiliation:u}=a,c=o.findIndex(({isUpdating:F})=>F),{matricule:d,dateIndexTR:v,isTRUpdated:N,isCounterUpdated:h,indexTR:j,departureIndex:y,departureDate:E,summaryIndex:I,index:x,isNoTrDepartureIndex:f}=o[s],b=Bs(u,new Date(m==null?void 0:m.startingDate)),g=m==null?void 0:m.startingDate,w=Ns(g,u,{...o[s]}),S=I&&b||h?Te(u,"dd/MM/yyyy"):Te(new Date(v),"dd/MM/yyyy"),C=parseInt(w&&!N?j:x),V=!w&&!h&&I?parseInt(I):C,_=f&&!h,M=_?y:V;return e.jsxDEV("div",{className:Fe("cy-data-index p-3 mb-3",{"mt-3":w||_}),style:{background:"var(--gray-100)"},children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:Fe("d-none d-md-block",_?"col-2":"col-3"),children:e.jsxDEV(l.SzData,{icon:"gauge-dashboard-1",children:[e.jsxDEV(l.SzData.Text,{children:t("statement.counter_data.counter")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:79,columnNumber:13},this),e.jsxDEV(l.SzData.Title,{children:d},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:78,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:72,columnNumber:9},this),e.jsxDEV("div",{className:Fe("d-none d-md-block",_?"col-4":"col-3"),children:e.jsxDEV(l.SzData,{icon:"calendar-3",children:[e.jsxDEV(l.SzData.Text,{children:t("statement.counter_data.date",{context:f&&!h&&"SEdepartureindex"})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:90,columnNumber:13},this),e.jsxDEV(l.SzData.Title,{children:_?E:S},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:98,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:89,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:83,columnNumber:9},this),e.jsxDEV("div",{className:"col-9 col-md-3",children:e.jsxDEV(l.SzData,{icon:"color-drop-pick",children:[e.jsxDEV(l.SzData.Text,{children:t("statement.counter_data.index",{context:_?"SEdepartureindex":w?"TR":"R"})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:105,columnNumber:13},this),e.jsxDEV(l.SzData.Title,{children:M},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:114,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:104,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:103,columnNumber:9},this),c===-1&&e.jsxDEV("div",{className:"mt-2 col-3 d-flex justify-content-end align-items-baseline",children:e.jsxDEV(Xn,{loopIndex:s,contextPath:n},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:119,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:71,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:65,columnNumber:5},this)}const Xn=({loopIndex:s,differentOnMobile:n,className:t,contextPath:r,...i})=>{const{initParcours:a}=fe.useContext(r),{state:o}=a,{context:m}=o,{send:u}=a,{t:c}=z(),d=je(),{statements:v}=m,N=()=>{const y=[...v],E=v.findIndex(({isUpdating:I})=>I);E!==-1&&(y[E].isUpdating=!1,y[E].isValid=!1),y[s].isUpdating=!0,y[s].isValid=!1,u({type:"UPDATE_COUNTER",statements:y})},h=Fe("cy-edit-index d-none d-md-block",t),j=c("statement.btn_update_index",{context:d&&"mobile"});return n?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzButton,{className:"d-md-none mx-auto mb-2",variant:"text",icon:"pencil-write",onClick:N,alignIcon:"right",...i,children:j},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:167,columnNumber:9},void 0),e.jsxDEV(l.SzButton,{className:h,variant:"text",icon:"pencil-write",onClick:N,alignIcon:"right",...i,children:j},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:177,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:166,columnNumber:7},void 0):e.jsxDEV(l.SzButton,{variant:"text",className:"cy-edit-index",icon:"pencil-write",alignIcon:"right",onClick:N,...i,children:e.jsxDEV(l.SzTypographie,{weight:"bold",className:"mb-0",children:j},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:200,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Data.jsx",lineNumber:192,columnNumber:5},void 0)};function wa({loopIndex:s,idPds:n,contextPath:t}){const{t:r}=z(),{track:i}=he(),{initParcours:a}=fe.useContext(t),{state:o}=a,{context:m}=o,{send:u}=a,c=je(),{statements:d,summary:v,currentDateResiliation:N}=m,{isValid:h,isUpdating:j,isCounterUpdated:y,index:E,indexTR:I,summaryIndex:x}=d[s],f=v==null?void 0:v.startingDate,b=Ns(f,N,{...d[s]}),g=Bs(N,new Date(v==null?void 0:v.dateResiliation)),w=Ee(B=>pe.post("/cpt-index-check/MOVE_IN",B),{onSuccess:(B,{index:W})=>{const{message:K}=B.data,R=[...d];R[s].isValid=!0,R[s].index=W,R[s].isCounterUpdated=!0,b&&(R[s].isTRUpdated=!0,R[s].indexUpdated=W),R[s].isUploadKo=K.includes("KO"),R[s].isUploadMandatory=K==="KO_HORS_BORNE",R[s].isUploadNoView=K==="KO_NON_VU",K.includes("KO")?i("MOVEIN_9",{"sz_saisie-index-compteur-result":Se.unconsistent}):i("MOVEIN_9",{"sz_saisie-index-compteur-result":Se.consistent}),u({type:"UPDATE_COUNTER",statements:R})}}),S=()=>{let B="";return y?B=parseInt(E):g&&x&&(B=parseInt(x)),C(B)},C=B=>{const W=String(B).length,K=5;let R=String(B),J={};if(parseInt(B)>0&&W<K){const re=K-W;for(let Q=0;Q<re;Q++)R=`0${R}`}if(parseInt(B)>0)for(const re in R)J[`input${re}`]=R[re];return J},V=S(),_=Te(N,"yyyy-MM-dd"),M=As({enableReinitialize:!0,initialValues:V,validationSchema:Yr,validateOnMount:!0,onSubmit:B=>{const W=Object.values(B).join("");w.mutate({index:W,idPds:n,subscriptionDate:_})}}),F={input0:fe.useRef(null),input1:fe.useRef(null),input2:fe.useRef(null),input3:fe.useRef(null),input4:fe.useRef(null)},Z=B=>{B.preventDefault(),B.stopPropagation();const{value:W,name:K}=B.target,R=/^\d?$/,J=Object.keys(F).indexOf(K)+1,re=Object.keys(F).length,Q="input"+J;if(M.errors[K]){const ue={...M.errors};delete ue[K],M.setErrors(ue)}(R.test(W)||M.values[K].toString().length>W.toString().length&&K!==Q)&&(M.handleChange(B),J<re&&W.length>0&&F[Q].current.focus())},P=()=>{const B=[...d];B[s].isValid=!0,B[s].isUpdating=!1,B[s].isTRUpdated=!1,B[s].isCounterUpdated=!1,delete B[s].index,u({type:"UPDATE_COUNTER",statements:B})},L=({children:B})=>e.jsxDEV("div",{className:"mx-1 mx-md-2 pt-1",children:e.jsxDEV("div",{className:"sz-form-group",children:e.jsxDEV("div",{className:"input-group",children:e.jsxDEV("div",{className:"sz-form-group__input p-0 border rounded form-control d-flex justify-content-center align-items-center",style:{width:c?"calc(90vw / 8 - 12px)":41,height:41,background:"var(--btn-disabled)"},children:e.jsxDEV(l.SzTypographie,{color:B?"disabled":"danger",className:"m-0",children:B||"X"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:200,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:191,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:190,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:189,columnNumber:7},this);if(!j||h){const B=g&&x>0,W=C(x);return e.jsxDEV("div",{className:"cy-digits-index justify-content-center row no-gutters",children:[[...E||B&&W||"-----",...new Array(3).fill()].map((K,R)=>e.jsxDEV(L,{children:K},R,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:224,columnNumber:11},this)),e.jsxDEV(Xn,{differentOnMobile:!0,className:"ml-auto",contextPath:t,loopIndex:s},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:227,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:219,columnNumber:7},this)}return e.jsxDEV("form",{onSubmit:M.handleSubmit,className:"cy-digits-index row w-100 m-0 no-gutters justify-content-center",children:[Object.keys(F).map((B,W)=>e.jsxDEV("div",{className:Fe("mx-1 pt-1",{"mx-md-2":W>0,"mr-md-2":W===0}),children:e.jsxDEV(l.SzInput,{ref:F[B],style:{backgroundColor:h?"var(--blue-4) !important":"",width:c?"calc(90vw / 8 - 12px)":41,height:41},name:B,onChange:Z,value:M.values[B],pattern:"^\\d?$",maxLength:1,type:c?"tel":"text",placeholder:"-",className:"p-0 border border-secondary rounded number-box text-center sz-border-1",disabled:h||!j},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:250,columnNumber:11},this)},B,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:243,columnNumber:9},this)),new Array(3).fill().map((...B)=>e.jsxDEV(L,{},B[1],!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:270,columnNumber:9},this)),e.jsxDEV("div",{className:"my-md-auto ml-lg-auto counter-validate",children:[I>0&&j&&!h&&e.jsxDEV(l.SzButton,{onClick:P,className:"cy-btn-reset-index mr-4 mr-md-1",variant:"text",icon:"synchronize-arrow-1"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:274,columnNumber:11},this),e.jsxDEV(l.SzButton,{className:"ml-md-auto",type:"submit",variant:"outlined",isDisabled:!M.isValid,loader:w.isLoading,children:r("validateButton")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:281,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:272,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Form.jsx",lineNumber:238,columnNumber:5},this)}function ba(s){const{t:n}=z(),{loopIndex:t,matricule:r,contextPath:i}=s,{initParcours:a}=fe.useContext(i),{state:o}=a,{context:m}=o,{track:u}=he(),c=je(),{statements:d,summary:v,currentDateResiliation:N}=m,h=Te(N,"dd/MM/yyyy"),{isValid:j,isUpdating:y,isTRUpdated:E,isCounterUpdated:I,indexTR:x,isNoTrDepartureIndex:f,isDepartureIndex:b,departureIndex:g}=d[t],w=v==null?void 0:v.startingDate,S=Ns(w,N,{...d[t]});return D.useEffect(()=>{const{telereleve:C,index:V}=Je;u("MOVEIN_2",{sz_funnel_step:"2",sz_funnel_variant:S?C:V})},[]),e.jsxDEV("div",{className:"px-md-5",children:[y?e.jsxDEV(e.Fragment,{children:c?e.jsxDEV(l.SzTypographie,{className:"mb-md-0",weight:"medium",children:n("statement.counter_infos_required_mobile",{dateIndexTR:h})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:62,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzTypographie,{className:"mb-md-0",weight:"medium",children:n("statement.counter_infos_required_movein",{dateIndexTR:h})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:69,columnNumber:15},this),e.jsxDEV(l.SzTypographie,{children:n("statement.counter_infos_precision")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:74,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:60,columnNumber:9},this):!f&&e.jsxDEV(l.SzTypographie,{className:"cy-title-type-index",weight:"medium",children:n("statement.last_date_taken",{typeIndex:S?"tl-relev":"relev"})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:53,columnNumber:11},this),!j||y?e.jsxDEV("div",{className:"pt-3 p-md-4 mb-3",style:{background:"var(--gray-100)"},children:e.jsxDEV("div",{className:"row no-gutters",children:[e.jsxDEV("div",{className:"d-none d-md-block col-3",children:e.jsxDEV(l.SzData,{icon:"gauge-dashboard-1",children:[e.jsxDEV(l.SzData.Text,{children:n("statement.counter_data.counterNb")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:89,columnNumber:17},this),e.jsxDEV(l.SzData.Title,{children:r},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:92,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:88,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:87,columnNumber:13},this),e.jsxDEV("div",{className:"col ml-auto",children:e.jsxDEV(wa,{...s},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:96,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:82,columnNumber:9},this):e.jsxDEV(Na,{...s},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:101,columnNumber:9},this),b&&(y||I)&&e.jsxDEV(l.SzData,{icon:"information-circle",className:"text-disabled",children:e.jsxDEV("div",{className:"d-flex align-items-center h-100",children:e.jsxDEV(l.SzData.Text,{weight:"bold",children:n("statement.index_statement_SEdepartureindex",{index:g})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:107,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:106,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:105,columnNumber:9},this),!S&&(x>0||E)&&e.jsxDEV(l.SzData,{icon:"information-circle",className:"text-disabled",children:e.jsxDEV("div",{className:"d-flex align-items-center h-100",children:e.jsxDEV(l.SzData.Text,{weight:"bold",children:n("statement.index_statement",{indexTR:parseInt(x)})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:119,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:117,columnNumber:9},this),j&&y&&e.jsxDEV(fa,{...s},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:125,columnNumber:33},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/Counter.jsx",lineNumber:50,columnNumber:5},this)}const ha=()=>{const{t:s}=z(),n=je();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzTypographie,{align:"center",variant:n?"h1":"large",weight:"bold",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("statement.helper.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:20,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:14,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("statement.helper.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:28,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:22,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("statement.helper.description_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:30,columnNumber:7},void 0),e.jsxDEV("div",{className:"mx-auto picture",children:e.jsxDEV("img",{src:qr,alt:"Relve indexe"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:39,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:38,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/HelperIndexCounterContent.jsx",lineNumber:13,columnNumber:5},void 0)},Zn=ha;function ja({contextPath:s}){const{t:n}=z(),{initParcours:t}=fe.useContext(s),{state:r}=t,{context:i,event:a}=r,{send:o}=t,m=je(),[u]=fe.useState(!1),[c,d]=fe.useState(!1),{statements:v,summary:N,currentDateResiliation:h}=i,j=v.every(({isValid:f,isUpdating:b})=>f&&!b),y=()=>{d(!0),o(a.type==="BACK_STATEMENT"?"GO_TO_SUMMARY":"VALIDATE")},E=()=>{o("GO_BACK")};let I={};const x=f=>{Sn(I[`refIndexBloc${f}`].offsetTop)};return e.jsxDEV("div",{className:"row no-gutters","data-cy":"cy-block-index",children:[v==null?void 0:v.map((f,b)=>{const{isUpdating:g,isCounterUpdated:w}=f,S=N==null?void 0:N.startingDate,C=Ns(S,h,{...f}),{isNoTrDepartureIndex:V}=f||!1;let _=C?"TR":"SE";return _=V&&!(g||w)?"SEdepartureindex":_,I[`refIndexBloc${b}`]=D.useRef(null),e.jsxDEV("div",{className:"cy-card-index col-12 bg-white mt-3",ref:I[`refIndexBloc${b}`],children:e.jsxDEV(l.SzCard,{color:f.isUpdating?"primary-brand":"card-disabled",direction:"top",title:n("statement.title",{context:m&&!V?_+"_mobile":_,matricule:f.matricule}),children:e.jsxDEV(ba,{loopIndex:b,scrollToMeter:x,contextPath:s,...f},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:81,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:70,columnNumber:13},this)},f.matricule,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:65,columnNumber:11},this)}),u&&e.jsxDEV(l.SzAlert,{className:"col-12 mt-3",variant:"danger",children:n("errors.techError")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:93,columnNumber:9},this),e.jsxDEV("div",{className:"col-12 d-flex px-5 py-3 flex-column flex-md-row",children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV(l.SzButton,{className:"col-12 col-md-4 col-lg-3 mt-3 mt-md-0 order-1 order-sm-0",variant:"outlined",onClick:E,icon:"arrow-left",children:n("statement.back_step_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:100,columnNumber:11},this),e.jsxDEV(l.SzButton,{"data-cy":"btn-validate-continue",variant:"contained",isDisabled:!j,loader:c,onClick:y,className:"col-12 col-md-4 col-lg-3 ml-md-auto",children:n("statement.validate_and_continue")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:99,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:98,columnNumber:7},this),e.jsxDEV("div",{className:"d-none d-md-block",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"floating-helper",label:n("know_more"),children:e.jsxDEV(Zn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:127,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:121,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:120,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/counter/index.jsx",lineNumber:49,columnNumber:5},this)}function xa(){const{t:s}=z(),n=xe(),t=[{label:s("moveIn.inventory.waterOn.infoLog.rep1"),value:"PRINC"},{label:s("moveIn.inventory.waterOn.infoLog.rep2"),value:"SEC"}],r=[{label:s("moveIn.inventory.waterOn.infoLog.rep3"),value:"PROP"},{label:s("moveIn.inventory.waterOn.infoLog.rep4"),value:"LOC"}],i=[{label:s("moveIn.inventory.waterOn.infoLog.rep5"),value:"MAIS"},{label:s("moveIn.inventory.waterOn.infoLog.rep6"),value:"APPT"}],a=(o,m)=>{n.setFieldValue(o,m)};return e.jsxDEV(l.SzCard,{title:s("moveIn.inventory.waterOn.infoLog.title"),direction:"top",color:"primary-brand",className:"bg-white",children:e.jsxDEV("div",{className:"container px-4 py-3 px-md-5 mx-md-4",children:[e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:s("moveIn.inventory.waterOn.infoLog.text1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:60,columnNumber:11},this),e.jsxDEV("div",{className:"row vcenter",children:e.jsxDEV("div",{className:"col-sm-12 col-md-6",children:e.jsxDEV(l.SzRadioButton,{value:n.values.residenceState,onChange:o=>a("residenceState",o),name:"residenceState",choices:t,className:"size-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:65,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:64,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:59,columnNumber:9},this),e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:s("moveIn.inventory.waterOn.infoLog.text2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:77,columnNumber:11},this),e.jsxDEV("div",{className:"row vcenter",children:e.jsxDEV("div",{className:"col-sm-12 col-md-6",children:e.jsxDEV(l.SzRadioButton,{value:n.values.houseStatus,onChange:o=>a("houseStatus",o),name:"houseStatus",choices:r,className:"size-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:83,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:82,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:76,columnNumber:9},this),e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:s("moveIn.inventory.waterOn.infoLog.text3")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("div",{className:"row vcenter",children:e.jsxDEV("div",{className:"col-sm-12 col-md-6",children:e.jsxDEV(l.SzRadioButton,{value:n.values.houseType,onChange:o=>a("houseType",o),name:"houseType",choices:i,className:"size-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:101,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:100,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:94,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:58,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoLogement.jsx",lineNumber:52,columnNumber:5},this)}function ga(){const{t:s}=z(),n=xe(),t=d=>{n.setFieldValue("waterConsumption",d.target.value)},r=[{label:s("moveIn.inventory.waterOn.infoComp.rep1"),value:"MOINS_50"},{label:s("moveIn.inventory.waterOn.infoComp.rep2"),value:"50_100"},{label:s("moveIn.inventory.waterOn.infoComp.rep3"),value:"100_200"},{label:s("moveIn.inventory.waterOn.infoComp.rep4"),value:"PLUS_200"}],i=[{label:s("moveIn.inventory.waterOn.infoComp.rep1"),value:"MOINS_50"},{label:s("moveIn.inventory.waterOn.infoComp.rep2"),value:"50_100"}],a=[{label:s("moveIn.inventory.waterOn.infoComp.rep3"),value:"100_200"},{label:s("moveIn.inventory.waterOn.infoComp.rep4"),value:"PLUS_200"}],o=[{label:s("moveIn.inventory.waterOn.infoComp.rep5"),value:"1_3"},{label:s("moveIn.inventory.waterOn.infoComp.rep6"),value:"4_6"},{label:s("moveIn.inventory.waterOn.infoComp.rep7"),value:"6_8"},{label:s("moveIn.inventory.waterOn.infoComp.rep8"),value:"PLUS_8"}],m=[{label:s("moveIn.inventory.waterOn.infoComp.rep5"),value:"1_3"},{label:s("moveIn.inventory.waterOn.infoComp.rep6"),value:"4_6"}],u=[{label:s("moveIn.inventory.waterOn.infoComp.rep7"),value:"6_8"},{label:s("moveIn.inventory.waterOn.infoComp.rep8"),value:"PLUS_8"}],c=(d,v)=>{n.setFieldValue(d,v)};return e.jsxDEV(e.Fragment,{children:e.jsxDEV(l.SzCard,{title:s("moveIn.inventory.waterOn.infoComp.title"),direction:"top",color:"primary-brand",className:"bg-white  mt-4",children:e.jsxDEV("div",{className:"container px-4 py-3 px-md-5 mx-md-4",children:[e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:s("moveIn.inventory.waterOn.infoComp.text1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:115,columnNumber:13},this),e.jsxDEV("div",{className:"row vcenter d-md-none",children:[e.jsxDEV("div",{className:"col-md-12",children:e.jsxDEV(l.SzRadioButton,{value:n.values.houseSize,onChange:d=>c("houseSize",d),name:"houseSize",choices:i,className:"size-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:120,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:119,columnNumber:15},this),e.jsxDEV("div",{className:"col-md-12",children:e.jsxDEV(l.SzRadioButton,{value:n.values.houseSize,onChange:d=>c("houseSize",d),name:"houseSize",choices:a,className:"size-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:129,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:118,columnNumber:13},this),e.jsxDEV("div",{className:"row vcenter d-none d-md-block",children:e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(l.SzRadioButton,{value:n.values.houseSize,onChange:d=>c("houseSize",d),name:"houseSize",choices:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:140,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:139,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:114,columnNumber:11},this),e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:s("moveIn.inventory.waterOn.infoComp.text2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:151,columnNumber:13},this),e.jsxDEV("div",{className:"row vcenter d-md-none",children:[e.jsxDEV("div",{className:"col-md-12",children:e.jsxDEV(l.SzRadioButton,{value:n.values.housePeople,onChange:d=>c("housePeople",d),name:"housePeople",choices:m,className:"size-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:156,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:155,columnNumber:15},this),e.jsxDEV("div",{className:"col-md-12",children:e.jsxDEV(l.SzRadioButton,{value:n.values.housePeople,onChange:d=>c("housePeople",d),name:"housePeople",choices:u,className:"size-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:165,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:154,columnNumber:13},this),e.jsxDEV("div",{className:"row vcenter d-none d-md-block",children:e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(l.SzRadioButton,{value:n.values.housePeople,onChange:d=>c("housePeople",d),name:"housePeople",choices:o,className:"radio-person"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:176,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:175,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:150,columnNumber:11},this),e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:s("moveIn.inventory.waterOn.infoComp.text3")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:188,columnNumber:13},this),e.jsxDEV("div",{className:"d.flex flex-columns",children:[e.jsxDEV(l.SzRadio,{id:"waterConsumption1",value:"TRES",name:"waterConsumption",type:"radio",label:s("moveIn.inventory.waterOn.infoComp.rep9"),className:"mb-3",onChange:t,checked:n.values.waterConsumption==="TRES"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:192,columnNumber:15},this),e.jsxDEV(l.SzRadio,{id:"waterConsumption2",value:"MOYEN",name:"waterConsumption",type:"radio",label:s("moveIn.inventory.waterOn.infoComp.rep10"),className:"mb-3",onChange:t,checked:n.values.waterConsumption==="MOYEN"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:202,columnNumber:15},this),e.jsxDEV(l.SzRadio,{id:"waterConsumption3",value:"PEU",name:"waterConsumption",type:"radio",label:s("moveIn.inventory.waterOn.infoComp.rep11"),className:"mb-3",onChange:t,checked:n.values.waterConsumption==="PEU"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:212,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:187,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:113,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:107,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/InfoComplementaire.jsx",lineNumber:106,columnNumber:5},this)}function Sa({isLoading:s}){const{t:n}=z(),t=xe();return e.jsxDEV("div",{className:"d-flex mx-auto flex-column mt-4",children:[e.jsxDEV(xa,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/index.jsx",lineNumber:14,columnNumber:7},this),e.jsxDEV(ga,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/index.jsx",lineNumber:15,columnNumber:7},this),e.jsxDEV(l.SzButton,{"data-cy":"inventory-submit",variant:"outlined",className:"mx-auto mt-3",type:"submit",isDisabled:!t.isValid,loader:s,children:n("moveIn.inventory.waterOn.submit")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/index.jsx",lineNumber:16,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOn/index.jsx",lineNumber:13,columnNumber:5},this)}const ya=""+new URL("before-counter-D5KTKZc2.jpg",import.meta.url).href;function Ea({isLoading:s}){const{t:n}=z(),t=xe();return e.jsxDEV("div",{className:"d-flex mx-auto flex-column mt-3",children:[e.jsxDEV("div",{className:"",children:e.jsxDEV(l.SzCard,{direction:"top",className:"bg-white",children:e.jsxDEV("div",{className:"container px-4 py-3 px-md-5 mx-md-4",children:[e.jsxDEV(l.SzTypographie,{weight:"bold",children:n("moveIn.inventory.waterOff.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:21,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{weight:"regular",children:n("moveIn.inventory.waterOff.text1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:24,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{weight:"regular",children:e.jsxDEV(X,{content:n("moveIn.inventory.waterOff.text2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:28,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:27,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{weight:"regular",children:n("moveIn.inventory.waterOff.text3")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:30,columnNumber:13},this),e.jsxDEV("div",{className:"mx-auto picture",children:e.jsxDEV("img",{src:ya,alt:"Raccordement  l'eau potable"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:35,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:34,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:20,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:19,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:18,columnNumber:7},this),e.jsxDEV(l.SzButton,{"data-cy":"inventory-submit",variant:"contained",className:"mx-auto mt-3",type:"submit",isDisabled:!t.isValid,loader:s,children:n("moveIn.inventory.waterOff.submit")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOff.jsx",lineNumber:17,columnNumber:5},this)}const Da=""+new URL("raccordement_eau-BobIkMfn.png",import.meta.url).href,Ia=()=>{const{t:s}=z(),n=je();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzTypographie,{align:"center",variant:n?"h1":"large",weight:"bold",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.inventory.waterAccess.helper.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:20,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:14,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.inventory.waterAccess.helper.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:28,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:22,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h3",weight:"regular",className:"mr-5 ml-5 mb-5",children:e.jsxDEV(X,{content:s("moveIn.inventory.waterAccess.helper.sub_description")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:38,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:32,columnNumber:7},void 0),e.jsxDEV("div",{className:"mx-auto picture",children:e.jsxDEV("img",{src:Da,alt:"Raccordement  l'eau potable"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:43,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:42,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/HelperInventoryContent.jsx",lineNumber:13,columnNumber:5},void 0)},Jn=Ia;function Ca({dataFecthed:s}){const{t:n}=z(),{track:t}=he(),{initParcours:r}=D.useContext(le),{state:i}=r,{createNewCel:a}=i.context,o=xe(),[m,u]=D.useState(a),c=[{label:n("moveIn.inventory.waterAccess.yes"),value:!0},{label:n("moveIn.inventory.waterAccess.no"),value:!1}],d=v=>{const N=v?Se.yes:Se.no;t("MOVEIN_8",{"sz_clic-acces-eau-type":N}),o.setValues({waterTaps:v})};return D.useEffect(()=>{const v=setTimeout(()=>{m&&u(!1)},5e3);return()=>clearTimeout(v)},[]),D.useEffect(()=>{t("MOVEIN_1",{sz_funnel_step:"3"})},[]),e.jsxDEV("div",{className:"mt-4 water-access",children:[e.jsxDEV(l.SzCard,{title:n("moveIn.inventory.title"),direction:"top",color:"primary-brand",className:"bg-white cy-water-access-title",children:e.jsxDEV("div",{className:"container px-4 py-3 px-md-5 mx-md-4",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",className:"",children:n("moveIn.inventory.waterAccess.text")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("div",{className:"row vcenter",children:e.jsxDEV("div",{className:"col-sm-12 col-md-4",children:s?e.jsxDEV(l.SzRadioButton,{value:o.values.waterTaps,onChange:d,name:"waterTaps",choices:c,className:"size-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:81,columnNumber:17},this):e.jsxDEV(ce,{height:44},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:79,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:77,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:72,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:66,columnNumber:7},this),o.values.waterTaps!==!0&&e.jsxDEV("div",{className:"d-none d-md-block",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"floating-helper",label:n("know_more"),children:e.jsxDEV(Jn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:94,columnNumber:9},this),m&&e.jsxDEV(l.SzBox,{className:"mx-auto success-alert",children:e.jsxDEV(l.SzAlert,{variant:"success",onClose:()=>u(!1),className:"text-center",children:n("moveIn.inventory.waterAccess.successAlert")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:107,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterAccess.jsx",lineNumber:65,columnNumber:5},this)}const Va=Be({waterTaps:Re().required("Renseigner votre accessibilit  l'eau"),residenceState:k().when("waterTaps",{is:s=>s===!0,then:k().required("Cette information est ncessaire")}),houseStatus:k().when("waterTaps",{is:s=>s===!0,then:k().required("Cette information est ncessaire")}),houseType:k().when("waterTaps",{is:s=>s===!0,then:k().required("Cette information est ncessaire")})}),Qn=async s=>{try{const{data:n}=await pe.get(Ne.MOVE_IN.GET_SUMMARY);n.code==="00"&&n.message===q.OK&&s({type:$n.SET_SUMMARY,summary:n.summary})}catch(n){console.error(n)}},_a=async s=>{try{const{data:n}=await pe.get(Ne.MOVE_IN.GET_REENTER);if(n.code==="00"&&n.message===q.OK){const{reenterResponse:t}=n;if([q.KO_SERVICE,q.KO_EFACTURE,q.KO_MENSU_PRELEV,q.KO_PRIX,q.KO_RS,q.KO_COMPTEUR,q.KO_ELIGIBILITE_COMPTEUR,q.KO_LOCALISATION,q.KO_ELIGIBILITE_DEMANDE,q.KO_ELIGIBILITE_72H,q.KO_CONTRAT,q.KO_CONTRAT_EAU,q.KO_CONTRAT_EXPIRE].includes(t)){s({type:$n.KO_ELIGIBILITE});return}switch(t){case q.OK_NON_AUTO:window.location.href=se.MOVE_IN.ACCOUNT_ONLINE_STEP2;break;case q.KO_PARCOURS:window.location.href=se.MOVE_IN.ERROR_TECHNICAL;break;default:await Qn(s);break}}else window.location.href=se.MOVE_IN.ERROR_TECHNICAL}catch(n){console.error(n)}},Ms={getSummary:Qn,reenter:_a};function Ma(){const{initParcours:{send:s,state:{context:{callReenter:n,summary:t,inventory:r}}}}=D.useContext(le),i=r==null?void 0:r.hasOwnProperty("waterTaps");let a={};const o=Ee(m=>(a={...m},bn(a),m.waterTaps||(a={waterTaps:m.waterTaps}),pe.post(Ne.MOVE_IN.POST_SITUATION_STATE,a)),{onSuccess:(m,u)=>{const{data:c}=m;c.code==="00"&&c.message==="OK_PASACCESEAU"?s({type:"GO_TO_NO_WATER",inventory:a}):c.code==="00"&&c.message==="OK"&&s({type:"GO_TO_DATE_SELECTION",inventory:a})},onError:m=>{console.error(m)}});return D.useEffect(()=>{n===!1?Ms.getSummary(s):Ms.reenter(s)},[]),e.jsxDEV(Ge,{enableReinitialize:!0,initialValues:{waterTaps:i?r==null?void 0:r.waterTaps:(t==null?void 0:t.waterTaps)||null,residenceState:i?r==null?void 0:r.residenceState:t==null?void 0:t.residenceState,houseStatus:i?r==null?void 0:r.houseStatus:t==null?void 0:t.houseStatus,houseSize:i?r==null?void 0:r.houseSize:t==null?void 0:t.houseSize,houseType:i?r==null?void 0:r.houseType:t==null?void 0:t.houseType,housePeople:i?r==null?void 0:r.housePeople:t==null?void 0:t.housePeople,waterConsumption:i?r==null?void 0:r.waterConsumption:t==null?void 0:t.waterConsumption},onSubmit:o.mutate,validationSchema:Va,validateOnMount:!0,validateOnChange:!0,children:m=>e.jsxDEV("form",{onSubmit:m.handleSubmit,className:"mb-4",children:[e.jsxDEV(Ca,{dataFecthed:!!(t!=null&&t.customerMail)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/index.jsx",lineNumber:88,columnNumber:13},this),m.values.waterTaps===!1&&e.jsxDEV(Ea,{isLoading:o.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/index.jsx",lineNumber:90,columnNumber:15},this),m.values.waterTaps===!0&&e.jsxDEV(Sa,{isLoading:o.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/index.jsx",lineNumber:93,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/index.jsx",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/index.jsx",lineNumber:59,columnNumber:5},this)}const Oa=()=>{var u,c,d,v,N,h,j,y,E,I,x,f,b,g,w,S,C,V,_,M;const{t:s}=z(),n=xe(),{values:t,setFieldValue:r,handleChange:i,handleBlur:a,errors:o}=n,m=[{label:s("civility.mrs"),value:"MME"},{label:s("civility.mr"),value:"M"}];return e.jsxDEV(l.SzCard,{title:s("moveIn.billing.owner_info.title"),direction:"top",color:"primary-brand",className:"mt-4 bg-white",children:e.jsxDEV("div",{className:"px-md-5 p-md-3",children:e.jsxDEV("div",{className:"flex-md-row px-md-4",children:[e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",children:s("moveIn.billing.owner_info.text_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:38,columnNumber:11},void 0),e.jsxDEV("div",{className:"row",children:e.jsxDEV("div",{className:"col-md-5 col-lg-3",children:[e.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",children:e.jsxDEV("span",{className:"font-family-bold text-inactive",children:[" ",s("moveIn.billing.owner_info.civility.label")]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:45,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:44,columnNumber:15},void 0),e.jsxDEV(l.SzSelect,{name:"civility",id:"civility",options:m,value:t.civility,defaultValue:m.find(({value:F})=>F===t.civility),onChange:F=>{r("civility",F.value)},className:"mb-3 border-secondary",placeholder:s("moveIn.billing.owner_info.civility.placeholder")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:50,columnNumber:15},void 0),((u=t.civility)==null?void 0:u.length)>0&&o.civility&&e.jsxDEV(l.SzAlert,{children:o.civility},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:67,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:43,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:42,columnNumber:11},void 0),e.jsxDEV("div",{className:"row mt-3",children:[e.jsxDEV("div",{className:"col-md-6",children:e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzInput,{name:"lastName",value:t.lastName,onChange:i,onBlur:a,label:"Nom",placeholder:s("moveIn.billing.owner_info.last_name.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:75,columnNumber:17},void 0),((d=(c=n.values)==null?void 0:c.lastName)==null?void 0:d.length)>0&&((v=n.errors)==null?void 0:v.lastName)&&e.jsxDEV(l.SzAlert,{children:(N=n.errors)==null?void 0:N.lastName},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:88,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:74,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("div",{className:"col-md-6",children:e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzInput,{name:"firstName",value:t.firstName,onChange:i,onBlur:a,label:"Prnom",placeholder:s("moveIn.billing.owner_info.first_name.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:95,columnNumber:17},void 0),((j=(h=n.values)==null?void 0:h.firstName)==null?void 0:j.length)>0&&((y=n.errors)==null?void 0:y.firstName)&&e.jsxDEV(l.SzAlert,{children:(E=n.errors)==null?void 0:E.firstName},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:108,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:94,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:93,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:72,columnNumber:11},void 0),e.jsxDEV("div",{className:"d-flex mt-4",children:e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",className:"d-flex",children:e.jsxDEV(X,{content:s("moveIn.billing.owner_info.text_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:116,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:114,columnNumber:11},void 0),e.jsxDEV("div",{className:"row mt-3",children:[e.jsxDEV("div",{className:"col-md-6",children:e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzInput,{name:"birthAddress",value:t.birthAddress,onChange:i,onBlur:a,label:s("moveIn.billing.owner_info.city_holder.label"),placeholder:s("moveIn.billing.owner_info.city_holder.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:123,columnNumber:17},void 0),((x=(I=n.values)==null?void 0:I.birthAddress)==null?void 0:x.length)>0&&((f=n.errors)==null?void 0:f.birthAddress)&&e.jsxDEV(l.SzAlert,{children:(b=n.errors)==null?void 0:b.birthAddress},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:136,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:122,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV("div",{className:"col-md-4",children:e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzInput,{label:s("moveIn.billing.owner_info.date_bithday.label"),placeholder:"jj/mm/aaaa",name:"birthDate",id:"birthDate",value:(g=n.values)==null?void 0:g.birthDate,onChange:n.handleChange,onBlur:n.handleBlur,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:143,columnNumber:17},void 0),((S=(w=n.values)==null?void 0:w.birthDate)==null?void 0:S.length)>0&&((C=n.errors)==null?void 0:C.birthDate)&&e.jsxDEV(l.SzAlert,{children:(V=n.errors)==null?void 0:V.birthDate},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:155,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:142,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:141,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:120,columnNumber:11},void 0),e.jsxDEV("div",{className:"row mt-3",children:[e.jsxDEV("div",{className:"col-md-3",children:[e.jsxDEV(l.SzInput,{name:"mobilePhone",value:t.mobilePhone,onChange:i,onBlur:a,label:s("moveIn.billing.owner_info.tel_mobile.label"),placeholder:s("moveIn.billing.owner_info.tel_mobile.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:163,columnNumber:15},void 0),((_=t.mobilePhone)==null?void 0:_.length)>0&&o.mobilePhone&&e.jsxDEV(l.SzAlert,{children:o.mobilePhone},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:162,columnNumber:13},void 0),e.jsxDEV("div",{className:"col-md-3",children:[e.jsxDEV(l.SzInput,{name:"phone",value:t.phone,onChange:i,onBlur:a,label:s("moveIn.billing.owner_info.tel_fix.label"),placeholder:s("moveIn.billing.owner_info.tel_fix.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:179,columnNumber:15},void 0),((M=t.phone)==null?void 0:M.length)>0&&o.phone&&e.jsxDEV(l.SzAlert,{children:o.phone},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:189,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:178,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/OwnerInfo.jsx",lineNumber:30,columnNumber:5},void 0)},Ta=()=>{var d,v,N,h,j,y,E,I,x,f,b,g,w,S,C,V,_,M;const{t:s}=z(),{track:n}=he(),t=xe(),{values:r,setFieldValue:i,handleChange:a,handleBlur:o,errors:m}=t,u=[{label:s("civility.mrs"),value:"MME"},{label:s("civility.mr"),value:"M"}],c=()=>{["coholderCivility","coholderLastName","coholderFirstName","coholderBirthAddress","coholderBirthDate"].forEach(F=>i(F,"")),i("coholder",!r.coholder)};return D.useEffect(()=>{n("MOVEIN_2",{sz_funnel_step:"3",sz_funnel_variant:null})},[]),e.jsxDEV("div",{className:"coOwner",children:[!r.coholder&&e.jsxDEV(l.SzButton,{variant:"text",icon:"add-circle",onClick:c,className:"w-100 mt-3 bg-white rounded",children:s("moveIn.billing.co_owner_info.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:52,columnNumber:9},void 0),r.coholder&&e.jsxDEV(l.SzCard,{direction:"top",color:"primary-brand",className:"mt-4 bg-white card",children:[e.jsxDEV(l.SzButton,{icon:"bin-2-alternate",variant:"text",onClick:c,className:"closeCard"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:68,columnNumber:11},void 0),e.jsxDEV("div",{className:"px-md-5 p-md-3",children:e.jsxDEV("div",{className:"flex-md-row px-md-4",children:[e.jsxDEV(l.SzTypographie,{variant:"body",weight:"medium",children:s("moveIn.billing.co_owner_info.text_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:77,columnNumber:15},void 0),e.jsxDEV("div",{className:"row",children:e.jsxDEV("div",{className:"col-lg-3 col-md-5",children:[e.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",children:e.jsxDEV("span",{className:"font-family-bold text-inactive",children:s("moveIn.billing.owner_info.civility.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:84,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:83,columnNumber:19},void 0),e.jsxDEV(l.SzSelect,{name:"coholderCivility",id:"coholderCivility",options:u,value:r.coholderCivility,defaultValue:u.find(({value:F})=>F===r.coholderCivility),onChange:F=>{i("coholderCivility",F.value)},className:"mb-3 border-secondary",placeholder:s("moveIn.billing.owner_info.civility.placeholder")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:88,columnNumber:19},void 0),((d=r.coholderCivility)==null?void 0:d.length)>0&&m.coholderCivility&&e.jsxDEV(l.SzAlert,{children:m.coholderCivility},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:106,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:82,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:81,columnNumber:15},void 0),e.jsxDEV("div",{className:"row mt-3",children:[e.jsxDEV("div",{className:"col-md-6",children:e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzInput,{name:"coholderLastName",value:r.coholderLastName,onChange:a,onBlur:o,label:s("moveIn.billing.owner_info.last_name.label"),placeholder:s("moveIn.billing.owner_info.last_name.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:114,columnNumber:21},void 0),((N=(v=t.values)==null?void 0:v.coholderLastName)==null?void 0:N.length)>0&&((h=t.errors)==null?void 0:h.coholderLastName)&&e.jsxDEV(l.SzAlert,{children:(j=t.errors)==null?void 0:j.coholderLastName},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:127,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:113,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:112,columnNumber:17},void 0),e.jsxDEV("div",{className:"col-md-6",children:e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzInput,{name:"coholderFirstName",value:r.coholderFirstName,onChange:a,onBlur:o,label:s("moveIn.billing.owner_info.first_name.label"),placeholder:s("moveIn.billing.owner_info.first_name.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:133,columnNumber:21},void 0),((E=(y=t.values)==null?void 0:y.coholderFirstName)==null?void 0:E.length)>0&&((I=t.errors)==null?void 0:I.coholderFirstName)&&e.jsxDEV(l.SzAlert,{children:(x=t.errors)==null?void 0:x.coholderFirstName},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:146,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:132,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:131,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:111,columnNumber:15},void 0),e.jsxDEV("div",{className:"row mt-3",children:[e.jsxDEV("div",{className:"col-md-6",children:e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzInput,{name:"coholderBirthAddress",value:r.coholderBirthAddress,onChange:a,onBlur:o,label:s("moveIn.billing.co_owner_info.city_holder.label"),placeholder:s("moveIn.billing.co_owner_info.city_holder.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:154,columnNumber:21},void 0),((b=(f=t.values)==null?void 0:f.coholderBirthAddress)==null?void 0:b.length)>0&&((g=t.errors)==null?void 0:g.coholderBirthAddress)&&e.jsxDEV(l.SzAlert,{children:(w=t.errors)==null?void 0:w.coholderBirthAddress},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:169,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:153,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:152,columnNumber:17},void 0),e.jsxDEV("div",{className:"col-md-4",children:e.jsxDEV("div",{className:"d-flex flex-column",children:[e.jsxDEV(l.SzInput,{label:s("moveIn.billing.co_owner_info.date_bithday.label"),placeholder:"jj/mm/aaaa",name:"coholderBirthDate",id:"coholderBirthDate",value:(S=t.values)==null?void 0:S.coholderBirthDate,onChange:t.handleChange,onBlur:t.handleBlur,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:176,columnNumber:21},void 0),((V=(C=t.values)==null?void 0:C.coholderBirthDate)==null?void 0:V.length)>0&&((_=t.errors)==null?void 0:_.coholderBirthDate)&&e.jsxDEV(l.SzAlert,{children:(M=t.errors)==null?void 0:M.coholderBirthDate},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:191,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:175,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:174,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:151,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:76,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:75,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:63,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/CoOwner.jsx",lineNumber:50,columnNumber:5},void 0)},Ba=window.tsme_data,{apiUrlCapadresse:Aa}=Ba,Pa=()=>{var S,C,V,_,M,F,Z;const{t:s}=z(),n=xe(),{values:t,setFieldValue:r,handleChange:i,handleBlur:a,errors:o,setFieldTouched:m}=n,u=async()=>{const{data:P}=await pe.get("/getCountries");return P},{data:c,isLoading:d}=Rs("getCountries",u,{initialData:[],refetchOnWindowFocus:!1,retry:2,onError:()=>{}}),v=Array.from(c).filter(P=>P.fr!="France").map(function(P){if(P.fr)return{label:P.fr,value:P.fr}}),[N,h]=D.useState(null),[j,y]=D.useState(""),[E,I]=D.useState(!0),x=(P,L)=>{const{postalCode:B,locality:W,inputOutput:K,localityInfo_2:R,countryCode:J}=P,Q=(K==null?void 0:K.substring(0,K==null?void 0:K.indexOf("	")))||K;if(h(P),L==="town"){const ue={zipCode:B,country:J,city:R?`${W} ${R}`:W};for(const ge in ue){const Ae=ue[ge];r(ge,Ae),m(ge,!0)}}L==="street"&&(m("street",!0),r("street",Q)),I(!1)},f=()=>{h(null),y(""),["zipCode","city","street","additionalStreet","country"].forEach(L=>{r(L,"")})},b=P=>{I(!0),y(P.target.value)},g=P=>{I(!0),r("street",P.target.value)},w=Er(Aa,"town",`${t.zipCode} ${t.city}`);return D.useEffect(()=>{if(w.length>0&&t.city&&t.zipCode){const{localityId:P}=w[0],L={locality:t.city,localityId:P,postalCode:t.zipCode};h(L)}t.street&&I(!1)},[w]),e.jsxDEV(l.SzCard,{title:s("moveIn.billing.info.title"),direction:"top",color:"primary-brand",className:"mt-4 bg-white",children:e.jsxDEV("div",{className:"px-md-5 p-md-3",children:e.jsxDEV("div",{className:"flex-md-row px-md-4",children:[(t.lastName||t.firstName||t.coholderLastName||t.coholderFirstName)&&e.jsxDEV("div",{className:"row",children:e.jsxDEV("div",{className:"col-sm-12 col-md-6",children:e.jsxDEV(G,{className:" bg-light py-3 px-2 px-md-3",children:[e.jsxDEV(G.Title,{children:s("moveIn.billing.info.receiver")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:161,columnNumber:19},void 0),e.jsxDEV(G.Text,{children:hn({civility:t.civility||"",lastname:t.lastName||"",firstname:t.firstName||"",civilityCo:t.coholderCivility||"",lastnameCo:t.coholderLastName||"",firstnameCo:t.coholderFirstName||"",noDot:!0})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:164,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:160,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:159,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:158,columnNumber:13},void 0),e.jsxDEV("div",{className:"row mt-3",children:[e.jsxDEV("div",{className:"col-12",children:e.jsxDEV(l.SzTypographie,{weight:"medium",children:s("moveIn.billing.info.address.text")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:182,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:181,columnNumber:13},void 0),e.jsxDEV("div",{className:"row mx-1",children:[e.jsxDEV("div",{className:"col-lg-3 col-md-4 col-sm-12",children:e.jsxDEV(l.SzRadio,{id:"isAddressForeign-1",value:"0",name:"isAddressForeign",label:s("moveIn.billing.info.address.nationality.french"),type:"radio",checked:!t.isAddressForeign,onChange:P=>{r("isAddressForeign",!!parseInt(P.target.value)),f()},onBlur:a},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:188,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:187,columnNumber:15},void 0),e.jsxDEV("div",{className:"col-md-6 col-sm-12",children:e.jsxDEV(l.SzRadio,{id:"isAddressForeign-0",value:"1",name:"isAddressForeign",className:"mt-3 mt-md-0",label:s("moveIn.billing.info.address.nationality.other"),type:"radio",checked:t.isAddressForeign,onChange:P=>{r("isAddressForeign",!!parseInt(P.target.value)),f()},onBlur:a},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:206,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:205,columnNumber:15},void 0),e.jsxDEV("div",{className:"col-sm-12",children:o.isAddressForeign&&e.jsxDEV(l.SzAlert,{children:o.isAddressForeign},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:226,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:224,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:186,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:180,columnNumber:11},void 0),t.isAddressForeign?e.jsxDEV("div",{className:"mx-3",children:[e.jsxDEV("div",{className:"row mt-4",children:e.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-10",children:[e.jsxDEV(l.SzInput,{label:s("moveIn.billing.info.address.address_1.label"),placeholder:s("moveIn.billing.info.address.address_1.placeholder"),name:"street",id:"street",value:t.street,onChange:i,onBlur:a,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:349,columnNumber:19},void 0),((V=t.street)==null?void 0:V.length)>0&&o.street&&e.jsxDEV(l.SzAlert,{children:o.street},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:362,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:348,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:347,columnNumber:15},void 0),e.jsxDEV("div",{className:"row mt-3",children:e.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-10",children:[e.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",htmlFor:"billing_address_2",children:[e.jsxDEV("span",{className:"font-family-bold text-inactive",children:s("moveIn.billing.info.address.address_2.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:373,columnNumber:21},void 0),e.jsxDEV(l.SzTypographie,{align:"center",weight:"light",className:"ml-2 d-inline",children:s("billingInfo.optional")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:377,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:369,columnNumber:19},void 0),e.jsxDEV(l.SzInput,{placeholder:s("moveIn.billing.info.address.address_2.placeholder"),name:"additionalStreet",id:"additionalStreet",value:t.additionalStreet,onChange:i,onBlur:a,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:386,columnNumber:19},void 0),((_=t.additionalStreet)==null?void 0:_.length)>0&&o.additionalStreet&&e.jsxDEV(l.SzAlert,{children:o.additionalStreet},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:399,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:368,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:367,columnNumber:15},void 0),e.jsxDEV("div",{className:"row mt-3",children:[e.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-4 col-lg-3",children:[e.jsxDEV(l.SzInput,{label:s("moveIn.billing.info.address.zip_code_other.label"),placeholder:s("moveIn.billing.info.address.zip_code_other.placeholder"),name:"zipCode",id:"zipCode",value:t.zipCode,onChange:i,onBlur:a,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:406,columnNumber:19},void 0),((M=t.zipCode)==null?void 0:M.length)>0&&o.zipCode&&e.jsxDEV(l.SzAlert,{children:o.zipCode},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:422,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:405,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-0 pl-md-4 pr-0 pr-md-2 col-12 col-md-6 col-lg-4",children:[e.jsxDEV(l.SzInput,{label:s("moveIn.billing.info.address.town.label"),placeholder:s("moveIn.billing.info.address.town.placeholder"),name:"city",id:"city",value:t.city,onChange:i,onBlur:a,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:427,columnNumber:19},void 0),((F=t.city)==null?void 0:F.length)>0&&o.city&&e.jsxDEV(l.SzAlert,{children:o.city},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:440,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:426,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-0 pl-lg-4 pr-0 pr-md-2 col-12 col-md-10 col-lg-5",children:[e.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",htmlFor:"nationality",children:e.jsxDEV("span",{className:"font-family-bold text-inactive",children:s("moveIn.billing.info.address.country.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:449,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:445,columnNumber:19},void 0),(v==null?void 0:v.length)>0?e.jsxDEV(l.SzSelect,{name:"country",id:"country",placeholder:s("moveIn.billing.info.address.country.placeholder"),options:v,value:t.country,defaultValue:v.find(({value:P})=>P===t.country),onChange:P=>{r("country",P.value)},onBlur:a,className:"mb-3 border-secondary data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:454,columnNumber:21},void 0):e.jsxDEV(ce,{height:40},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:472,columnNumber:21},void 0),((Z=t.country)==null?void 0:Z.length)>0&&o.country&&e.jsxDEV(l.SzAlert,{children:o.country},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:476,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:444,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:404,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:346,columnNumber:13},void 0):e.jsxDEV("div",{className:"row mt-4",children:e.jsxDEV("div",{className:"pl-0 pr-0 pr-md-2 col-12 col-md-6",children:N?e.jsxDEV("div",{className:"mx-3",children:[e.jsxDEV(G,{className:" bg-light py-3 px-2 px-md-3",children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-10",children:[e.jsxDEV(G.Title,{children:s("moveIn.billing.info.address.zip_code.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:240,columnNumber:27},void 0),e.jsxDEV(G.Text,{children:[t.zipCode,", ",t.city]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:243,columnNumber:27},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:239,columnNumber:25},void 0),e.jsxDEV(G.Icon,{onClick:f,icon:"pencil-write",variant:"line",className:"editAddress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:248,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:238,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:237,columnNumber:21},void 0),e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV(l.SzInput,{label:s("moveIn.billing.info.address.address_1.label"),placeholder:s("moveIn.billing.info.address.address_1.placeholder"),name:"street",id:"street",value:t.street,onChange:g,onBlur:a,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:258,columnNumber:23},void 0),t.street.length>=3&&E&&e.jsxDEV(on,{className:"w-100 data-hj-suppress",type:"street",address:N,inputOutput:t.street,onClick:x},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:271,columnNumber:25},void 0),((S=t.street)==null?void 0:S.length)>0&&o.street&&e.jsxDEV(l.SzAlert,{children:o.street},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:281,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:257,columnNumber:21},void 0),e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",htmlFor:"billing_address_2",children:[e.jsxDEV("span",{className:"font-family-bold text-inactive",children:s("moveIn.billing.info.address.address_2.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:289,columnNumber:25},void 0),e.jsxDEV(l.SzTypographie,{align:"center",weight:"light",className:"ml-2 d-inline",children:s("billingInfo.optional")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:293,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:285,columnNumber:23},void 0),e.jsxDEV(l.SzInput,{placeholder:s("moveIn.billing.info.address.address_2.placeholder"),name:"additionalStreet",id:"additionalStreet",value:t.additionalStreet,onChange:i,onBlur:a,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:302,columnNumber:23},void 0),((C=t.additionalStreet)==null?void 0:C.length)>0&&o.additionalStreet&&e.jsxDEV(l.SzAlert,{children:o.additionalStreet},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:315,columnNumber:27},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:284,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:236,columnNumber:19},void 0):e.jsxDEV("div",{className:"mx-3",children:[e.jsxDEV(l.SzInput,{label:s("moveIn.billing.info.address.zip_code.label"),placeholder:s("moveIn.billing.info.address.zip_code.placeholder"),name:"addressCap",id:"addressCap",value:j,onChange:b,className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:321,columnNumber:21},void 0),j.length>=3&&E?e.jsxDEV(on,{onClick:x,className:"w-100 data-hj-suppress",type:"town",inputOutput:j},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:334,columnNumber:23},void 0):null]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:320,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:234,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:233,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:153,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:152,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/BillingInfo.jsx",lineNumber:146,columnNumber:5},void 0)},za=/^(0)\s*([0-5]|9)\s*([0-9]\s*){8}$/,Ra=/^(0)\s*(6|7)\s*([0-9]\s*){8}$/,Me="^[a-z-A-Z0-9-() , ']*$",ka="^[a-z-A-Z0-9]+$",La=/^\d{2}\/\d{2}\/[1-2][9|0]\d{2}$/;k.prototype.isDateInRange=function(s,n){return k().test(n,s,function(t){if(t){if(!La.test(t)){const{path:N,createError:h}=this;return h({path:N,message:"La date doit respecter ce format : 'jj/mm/aaaa'."})}const[r,i,a]=t.split("/"),o=new Date(`${a}-${i}-${r}`);if(!Dr(o))return!1;const m=ln(new Date,{years:16}).getTime(),u=ln(new Date,{years:120}).getTime(),c=o.getTime(),d=u<c,v=m>c;return d&&v}return!0})};const Fa=Be().shape({civility:k().required("Veuillez slectionner un genre.").matches(/(M|MME)/,"Le genre slectionn n'est pas disponible."),firstName:k().matches(Me,"Ce champ n'est pas valide.").min(2,"Le champ prnom doit tre rempli.").max(25,"Le prnom ne doit pas dpasser 25 caractres.").required("Le champ prnom doit tre rempli."),lastName:k().matches(Me,"Ce champ n'est pas valide.").min(2,"Le champ nom doit tre rempli.").max(25,"Le nom ne doit pas dpasser 25 caractres.").required("Le champ nom doit tre rempli."),birthDate:k().required("Veuillez saisir votre date de naissance").isDateInRange("La date semble incohrente. Merci de vrifier votre saisie."),birthAddress:k().matches(Me,"Ce champ n'est pas valide.").max(70,"La ville de naissance ne doit pas dpasser 70 caractres."),mobilePhone:k().matches(Ra,"Le numro de tlphone n'est pas valide"),phone:k().matches(za,"Le numro de tlphone n'est pas valide"),coholderCivility:k().when("coholder",{is:s=>s===!0,then:k().required("Veuillez slectionner un genre.").matches(/(M|MME)/,"Le genre slectionn n'est pas disponible.")}),coholderFirstName:k().when("coholder",{is:s=>s===!0,then:k().matches(Me,"Ce champ n'est pas valide.").max(25,"Le prnom ne doit pas dpasser 25 caractres.").required("Le champ prnom doit tre rempli.")}),coholderLastName:k().when("coholder",{is:s=>s===!0,then:k().matches(Me,"Ce champ n'est pas valide.").max(25,"Le nom ne doit pas dpasser 25 caractres.").required("Le champ nom doit tre rempli.")}),coholderBirthDate:k().when("coholder",{is:s=>s===!0,then:k().required("Veuillez saisir la date de naissance").isDateInRange("La date semble incohrente. Merci de vrifier votre saisie.")}),coholderBirthAddress:k().when("coholder",{is:s=>s===!0,then:k().matches(Me,"Ce champ n'est pas valide.").max(70,"La ville de naissance ne doit pas dpasser 70 caractres.")}),isAddressForeign:Re().required(),zipCode:k().required().when("isAddressForeign",{is:s=>s===!0,then:k().required("Le champ code postal doit tre rempli.").matches(/^\d{5}$/,"Le champ code postal n'est pas valide.").max(10,"Le champ code postal n'est pas valide."),otherwise:k().required("Le champ code postal doit tre rempli.").matches(ka,"Le champ code postal n'est pas valide.").max(10,"Le champ code postal n'est pas valide.")}),city:k().when("isAddressForeign",{is:s=>s===!0,then:k().max(27,"Le champ ville n'est pas valide."),otherwise:k().max(32,"Le champ ville n'est pas valide.")}).required("Le champ ville doit tre rempli.").matches(Me,"Le champ ville n'est pas valide."),country:k().when("isAddressForeign",{is:s=>s===!0,then:k().required("Le pays doit tre rempli."),otherwise:k()}).matches(Me,"Le pays n'est pas valide.").max(32,"Le pays n'est pas valide."),street:k().required("Le champ adresse doit tre rempli.").matches(Me,"Le champ adresse n'est pas valide.").max(37,"L'adresse ne doit pas dpasser 37 caratres."),additionalStreet:k().matches(Me,"Le champ complment d'adresse n'est pas valide.").max(38,"Le complment d'adresse ne doit pas dpasser 38 caractres.")}),er=()=>{const{t:s}=z(),n=je();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzTypographie,{align:"center",variant:n?"h1":"large",weight:"bold",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("billingInfo.helper.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/HelperBillingContent.jsx",lineNumber:19,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/HelperBillingContent.jsx",lineNumber:13,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("billingInfo.helper.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/HelperBillingContent.jsx",lineNumber:27,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/HelperBillingContent.jsx",lineNumber:21,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/HelperBillingContent.jsx",lineNumber:12,columnNumber:5},void 0)},Ua=()=>{var c,d;const{t:s}=z(),{initParcours:n}=D.useContext(le),{send:t,state:{context:{summary:r,billingInfos:i}}}=n,a=i==null?void 0:i.hasOwnProperty("civility"),o=()=>{t({type:"GO_BACK"})};let m={};const u=Ee(v=>{m={...v},bn(m),delete m.coholder,m.isAddressForeign||delete m.country;const N={...m,isAddressForeign:m.isAddressForeign?1:0};return pe.post(Ne.MOVE_IN.POST_BILLING_INFORMATION,N)},{onSuccess:(v,N)=>{const{data:h}=v;h.code==="00"&&h.message==="OK"&&t({type:"GO_TO_PAYMENT",billingInfos:m})},onError:v=>{console.error(v)}});return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ge,{enableReinitialize:!0,initialValues:{civility:a?i==null?void 0:i.civility:(r==null?void 0:r.billingCivility)??"",lastName:a?i==null?void 0:i.lastName:(r==null?void 0:r.billingLastName)??"",firstName:a?i==null?void 0:i.firstName:(r==null?void 0:r.billingFirstName)??"",birthAddress:a?i==null?void 0:i.birthAddress:(r==null?void 0:r.billingBirthAddress)??"",birthDate:a?i==null?void 0:i.birthDate:r!=null&&r.billingBirthDate?Te(new Date(r==null?void 0:r.billingBirthDate),ds):"",mobilePhone:a?i==null?void 0:i.mobilePhone:(r==null?void 0:r.billingMobilePhone)??"",phone:a?i==null?void 0:i.phone:(r==null?void 0:r.billingPhone)??"",coholderCivility:a&&((c=i==null?void 0:i.coholderCivility)==null?void 0:c.length)>0?i==null?void 0:i.coholderCivility:(r==null?void 0:r.coholderCivility)??"",coholderLastName:a?i==null?void 0:i.coholderLastName:(r==null?void 0:r.coholderLastName)??"",coholderFirstName:a?i==null?void 0:i.coholderFirstName:(r==null?void 0:r.coholderFirstName)??"",coholderBirthAddress:a?i==null?void 0:i.coholderBirthAddress:(r==null?void 0:r.coholderBirthAddress)??"",coholderBirthDate:a?i==null?void 0:i.coholderBirthDate:r!=null&&r.coholderBirthDate?Te(new Date(r==null?void 0:r.coholderBirthDate),ds):"",isAddressForeign:a?i==null?void 0:i.isAddressForeign:typeof(r==null?void 0:r.isBillingAddressForeign)=="boolean"?r==null?void 0:r.isBillingAddressForeign:!!(r!=null&&r.isBillingAddressForeign),country:a?i==null?void 0:i.country:(r==null?void 0:r.billingCountry)??"",city:a?i==null?void 0:i.city:(r==null?void 0:r.billingCity)??"",zipCode:a?i==null?void 0:i.zipCode:(r==null?void 0:r.billingZipCode)??"",street:a?i==null?void 0:i.street:(r==null?void 0:r.billingStreet)??"",additionalStreet:a?i==null?void 0:i.additionalStreet:(r==null?void 0:r.billingAdditionalStreet)??"",coholder:a?((d=i==null?void 0:i.coholderFirstName)==null?void 0:d.length)>0:!!(r!=null&&r.coholderCivility||r!=null&&r.coholderFirstName||r!=null&&r.coholderLastName||r!=null&&r.coholderBirthDate||r!=null&&r.coholderBirthAddress)},onSubmit:u.mutate,validationSchema:Fa,validateOnMount:!0,children:({handleSubmit:v,isValid:N})=>e.jsxDEV("form",{onSubmit:v,className:"moveinBilling",children:[e.jsxDEV(Oa,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:151,columnNumber:15},void 0),e.jsxDEV(Ta,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:152,columnNumber:15},void 0),e.jsxDEV(Pa,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:153,columnNumber:15},void 0),e.jsxDEV(ms,{titleFirst:s("moveIn.billing.previous_next.previous"),tileSecondary:s("moveIn.billing.previous_next.next"),isValidForm:N,onClickFirst:o,isLoading:u.isLoading,disableBoth:u.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:155,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:150,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:70,columnNumber:7},void 0),e.jsxDEV("div",{className:"d-none d-md-block",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"floating-helper",label:s("know_more"),children:e.jsxDEV(er,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:174,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:168,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:167,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Billing/index.jsx",lineNumber:69,columnNumber:5},void 0)},Ha=Ua,vn="^[a-zA-Z ]*$",Os=Be({paymentMode:k().required("Un mode de paiement doit tre choisi"),mensuPrice:k().when("paymentMode",{is:s=>s==="monthly",then:k().required(),otherwise:k()}),civility:k().required("Le champ civilit doit tre rempli."),firstName:k().matches(vn,"Ce champ n'est pas valide. Les caractres spciaux ne sont pas accepts.").min(2,"Le champ prnom doit tre rempli.").max(25,"Trop Long !").required("Le champ prnom doit tre rempli."),lastName:k().matches(vn,"Ce champ n'est pas valide. Les caractres spciaux ne sont pas accepts.").min(2,"Le champ nom doit tre rempli.").max(70,"Trop Long !").required("Le champ nom doit tre rempli.")}),Ga=Os.concat(Xr(br,"mobilePhone")),Wa=()=>{const{t:s}=z(),n=je();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzTypographie,{align:"center",variant:n?"h1":"large",weight:"bold",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.payment.helper_mobile.title_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:19,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:13,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.payment.helper_mobile.description_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:27,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:21,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"bold",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.payment.helper_mobile.title_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:35,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:29,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.payment.helper_mobile.description_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:43,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:37,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"bold",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.payment.helper_mobile.title_3")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:51,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:45,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{align:"left",variant:"h2",weight:"regular",className:"mr-5 ml-5 mb-3",children:e.jsxDEV(X,{content:s("moveIn.payment.helper_mobile.description_3")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:59,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:53,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/HelperPaymentContent.jsx",lineNumber:12,columnNumber:5},void 0)},sr=Wa,nr=s=>s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase();function rr({hasMandat:s,errorCodeIban:n,errorTechnicalPayment:t}){var y,E,I;const{t:r}=z(),i=xe(),{values:a,setFieldValue:o,handleChange:m,handleBlur:u,errors:c}=i,d=je(),{displayInternationalIban:v,setDisplayInternationalIban:N}=D.useContext(tr),h=[{label:r("civility.mrs"),value:"MME"},{label:r("civility.mr"),value:"M"}],j=x=>{const{value:f,name:b}=x.target,g=nr(f);o(b,g)};return e.jsxDEV("div",{className:"py-3 px-1 px-lg-5",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:r("moveIn.payment.bankInfo.title_to_fill")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:52,columnNumber:7},this),e.jsxDEV("div",{className:`border-small ${d?"px-1 py-3":"p-3"}`,children:[e.jsxDEV("div",{className:"col-12 col-md-4 col-lg-3 px-1 px-lg-3",children:[e.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",children:e.jsxDEV("span",{className:"font-family-bold text-inactive",children:r("billingInfo.infoHolder.civility.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:59,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:58,columnNumber:11},this),e.jsxDEV(l.SzSelect,{name:"civility",id:"civility",placeholder:r("billingInfo.infoHolder.civility.placeholder"),options:h,value:a.civility,defaultValue:h.find(({value:x})=>x===a.civility),onChange:x=>{o("civility",x.value)},onBlur:u,className:"mb-3 border-secondary"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:63,columnNumber:11},this),((y=a.civility)==null?void 0:y.length)>0&&c.civility&&e.jsxDEV(l.SzAlert,{children:c.civility},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:57,columnNumber:9},this),e.jsxDEV("div",{className:"d-flex flex-column flex-md-row",children:[e.jsxDEV("div",{className:"col-12 col-md-6 px-1 px-lg-3",children:[e.jsxDEV(l.SzInput,{name:"lastName",value:a.lastName,onChange:j,onBlur:u,label:r("moveIn.payment.bankInfo.ownerLastName"),placeholder:r("moveIn.billing.owner_info.last_name.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:85,columnNumber:13},this),((E=a.lastName)==null?void 0:E.length)>0&&c.lastName&&e.jsxDEV(l.SzAlert,{children:c.lastName},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:95,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:84,columnNumber:11},this),e.jsxDEV("div",{className:"col-12 col-md-6 px-1 px-lg-3",children:[e.jsxDEV(l.SzInput,{name:"firstName",value:a.firstName,onChange:j,onBlur:u,label:r("moveIn.payment.bankInfo.ownerFirstName"),placeholder:r("moveIn.billing.owner_info.first_name.placeholder"),className:"data-hj-suppress"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:99,columnNumber:13},this),((I=a.firstName)==null?void 0:I.length)>0&&c.firstName&&e.jsxDEV(l.SzAlert,{children:c.firstName},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:98,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:83,columnNumber:9},this),!s&&e.jsxDEV("div",{className:"d-flex flex-column flex-md-row align-items-center",children:[e.jsxDEV("div",{className:"col-12 col-md-6 col-lg-6 px-1 px-lg-3",children:e.jsxDEV(Zr,{name:"mobilePhone"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:119,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:118,columnNumber:13},this),e.jsxDEV("div",{className:"col-12 col-md-6 col-lg-6 px-1 px-lg-3",children:e.jsxDEV(l.SzAlert,{variant:"info",className:"mb-0 mt-2 p-2 border-small",transparent:!0,children:r("moveIn.payment.bankInfo.infoMobile")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:122,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:121,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:117,columnNumber:11},this),e.jsxDEV("div",{className:"col-12 mt-3",children:[e.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-1",children:e.jsxDEV("span",{className:"font-family-bold text-inactive",children:r("moveIn.payment.bankInfo.ibanInput")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:135,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:134,columnNumber:11},this),e.jsxDEV("div",{className:"row",children:[e.jsxDEV(dr,{isInternational:!0,displayInternationalIban:v,setDisplayInternationalIban:N},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:140,columnNumber:13},this),(n||t)&&e.jsxDEV(l.SzAlert,{variant:"danger",className:"errorIban",children:r("moveIn.payment.error",{context:n?"iban":"errorTechnicalPayment"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:146,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:139,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:133,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:56,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoForm.jsx",lineNumber:51,columnNumber:5},this)}const $a=({paymentMode:s,hasMandat:n,setUpdateMandat:t,paymentAlreadySetup:r,updatedMandat:i,errorCodeIban:a,errorTechnicalPayment:o})=>{const m=je(),{t:u}=z(),[c,d]=D.useState(r&&i||!1),{values:{firstName:v,lastName:N}}=xe(),{initParcours:h}=D.useContext(le),{state:{context:{summary:j}}}=h;return e.jsxDEV(e.Fragment,{children:c?e.jsxDEV(rr,{hasMandat:n,errorCodeIban:a,errorTechnicalPayment:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:37,columnNumber:9},void 0):e.jsxDEV("div",{className:"py-3 px-1 px-lg-5",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:u("moveIn.payment.bankInfo.title",{context:s.onBillOnly&&"onBill"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:44,columnNumber:11},void 0),e.jsxDEV("div",{className:"row no-gutters bg-gray-100 p-3 justify-content-between",children:[e.jsxDEV(G,{className:"col-md-3 mb-3 mb-md-0 d-flex align-items-end",children:[e.jsxDEV(G.Icon,{icon:"single-neutral-id-card-3",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:51,columnNumber:15},void 0),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV(G.Title,{variant:"caption",weight:"medium",children:u("moveIn.payment.bankInfo.accountOwner")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:56,columnNumber:17},void 0),e.jsxDEV(G.Text,{variant:"body",weight:"medium",children:`${N} ${v}`},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:59,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:55,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:50,columnNumber:13},void 0),e.jsxDEV(G,{className:"col-md-5 col-lg-4 mb-3 mb-md-0 d-flex align-items-end",children:[e.jsxDEV(G.Icon,{icon:"saving-bank",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:66,columnNumber:15},void 0),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV(G.Title,{variant:"caption",weight:"medium",children:u("moveIn.payment.bankInfo.IBAN")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:68,columnNumber:17},void 0),e.jsxDEV(G.Text,{variant:"body",weight:"medium",children:j==null?void 0:j.iban},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:67,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:65,columnNumber:13},void 0),e.jsxDEV("div",{className:`col-7 col-md-4 col-lg-2 ${m?"mx-auto":""}`,children:e.jsxDEV(l.SzButton,{variant:"text",className:"px-1 px-lg-3",icon:"pencil-write",alignIcon:m?"left":"right",onClick:()=>{d(!0),t(!0)},children:u("moveIn.payment.bankInfo.edit",{context:m&&"iban"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:80,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:49,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:43,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/BankInfoFilled.jsx",lineNumber:35,columnNumber:5},void 0)},Ka=$a;function Ya(){var a;const{t:s}=z(),n=xe(),{values:t,setFieldValue:r,errors:i}=n;return e.jsxDEV("div",{className:"py-3 px-1 px-lg-5",children:e.jsxDEV("div",{className:"row no-gutters",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:s("moveIn.payment.monthlyPayment.text")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:15,columnNumber:9},this),e.jsxDEV(l.SzTypographie,{weight:"light",className:"text-disabled",children:e.jsxDEV(X,{content:s("moveIn.payment.monthlyPayment.subtext")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:19,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:18,columnNumber:9},this),e.jsxDEV("div",{className:"d-flex flex-column flex-md-row justify-content-between w-100 mb-3",children:[e.jsxDEV(l.SzCardRadio,{label:s("moveIn.payment.monthlyPayment.personNumber",{count:2}),name:"mensuPrice",value:"25",id:"2_persons",checked:t.mensuPrice==="25",onChange:o=>{r("mensuPrice",o.target.value)},children:e.jsxDEV("div",{className:"d-flex flex-row flex-md-column align-items-center w-50 ml-auto mr-auto text-center",children:[e.jsxDEV("div",{className:"d-flex align-items-baseline",children:[e.jsxDEV(l.SzTypographie,{variant:"large",weight:"medium",className:"mb-0",children:"25"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:36,columnNumber:19},this),e.jsxDEV(l.SzTypographie,{variant:"h1",weight:"medium",className:"ml-2 mb-0",children:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:43,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:35,columnNumber:17},this),e.jsxDEV(l.SzTypographie,{className:"mb-0 ml-2 ml-md-0",children:s("moveIn.payment.monthlyPayment.perMonth")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:51,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:34,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:22,columnNumber:11},this),e.jsxDEV(l.SzCardRadio,{label:s("moveIn.payment.monthlyPayment.personNumber",{count:4}),className:"mt-3 mt-md-0 ml-0 ml-md-3 ml-lg-0",name:"mensuPrice",value:"45",id:"4_persons",checked:t.mensuPrice==="45",onChange:o=>{r("mensuPrice",o.target.value)},children:e.jsxDEV("div",{className:"d-flex flex-row flex-md-column align-items-center w-50 ml-auto mr-auto text-center",children:[e.jsxDEV("div",{className:"d-flex align-items-baseline",children:[e.jsxDEV(l.SzTypographie,{variant:"large",weight:"medium",className:"mb-0",children:"45"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:72,columnNumber:19},this),e.jsxDEV(l.SzTypographie,{variant:"h1",weight:"medium",className:"ml-2 mb-0",children:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:79,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:71,columnNumber:17},this),e.jsxDEV(l.SzTypographie,{className:"mb-0 ml-2 ml-md-0",children:s("moveIn.payment.monthlyPayment.perMonth")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:57,columnNumber:11},this),e.jsxDEV(l.SzCardRadio,{label:s("moveIn.payment.monthlyPayment.personNumber",{count:6}),className:"mt-3 mt-md-0 ml-0 ml-md-3 ml-lg-0",name:"mensuPrice",value:"75",id:"6_persons",checked:t.mensuPrice==="75",onChange:o=>{r("mensuPrice",o.target.value)},children:e.jsxDEV("div",{className:"d-flex flex-row flex-md-column align-items-center w-50 ml-auto mr-auto text-center",children:[e.jsxDEV("div",{className:"d-flex align-items-baseline",children:[e.jsxDEV(l.SzTypographie,{variant:"large",weight:"medium",className:"mb-0",children:"75"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:108,columnNumber:19},this),e.jsxDEV(l.SzTypographie,{variant:"h1",weight:"medium",className:"ml-2 mb-0",children:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:115,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:107,columnNumber:17},this),e.jsxDEV(l.SzTypographie,{className:"mb-0 ml-2 ml-md-0",children:s("moveIn.payment.monthlyPayment.perMonth")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:123,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:106,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:21,columnNumber:9},this),e.jsxDEV("div",{className:"col-sm-12",children:((a=t.monthly_payment)==null?void 0:a.length)>0&&i.monthly_payment&&e.jsxDEV(SzAlert,{children:i.monthly_payment},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:132,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:130,columnNumber:9},this),e.jsxDEV(l.SzTypographie,{weight:"light",className:"text-disabled",children:s("moveIn.payment.monthlyPayment.info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:135,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:14,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MonthlyPayment.jsx",lineNumber:13,columnNumber:5},this)}function qa({payment:s}){var j;const{onBill:n,monthly:t,onBillOnly:r}=s,i=os(),{t:a}=z(),{track:o}=he(),m=xe(),{values:u,setFieldValue:c,handleChange:d,handleBlur:v,errors:N,setFieldTouched:h}=m;return D.useEffect(()=>{o("MOVEIN_2",{sz_funnel_step:"4",sz_funnel_variant:null})},[]),e.jsxDEV("div",{className:"py-3 px-1 px-lg-5",children:e.jsxDEV("div",{className:"row no-gutters",children:[e.jsxDEV(l.SzTypographie,{weight:"medium",children:a("moveIn.payment.paymentMode.text")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/PaymentMode.jsx",lineNumber:33,columnNumber:9},this),e.jsxDEV("div",{className:"d-flex flex-column flex-lg-row p-4 justify-content-start border-small w-100",children:[t&&e.jsxDEV(l.SzRadio,{id:"monthly",name:"paymentMode",label:a("moveIn.payment.paymentMode.monthly"),type:"radio",checked:u.paymentMode==="monthly",onChange:y=>{c("paymentMode",y.target.id)},onBlur:v,className:"pb-3 pb-lg-0"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/PaymentMode.jsx",lineNumber:38,columnNumber:13},this),n&&e.jsxDEV(l.SzRadio,{id:"on_bill",name:"paymentMode",label:a("moveIn.payment.paymentMode.onBill"),type:"radio",checked:u.paymentMode==="on_bill",onChange:y=>{c("paymentMode",y.target.id)},onBlur:v,className:`${i&&!r?"margin-lg":""}`},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/PaymentMode.jsx",lineNumber:52,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/PaymentMode.jsx",lineNumber:36,columnNumber:9},this),e.jsxDEV("div",{className:"col-sm-12",children:((j=u.paymentMode)==null?void 0:j.length)>0&&N.paymentMode&&e.jsxDEV(SzAlert,{children:N.paymentMode},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/PaymentMode.jsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/PaymentMode.jsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/PaymentMode.jsx",lineNumber:32,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/PaymentMode.jsx",lineNumber:31,columnNumber:5},this)}function Xa({showModal:s}){var d,v;const{t:n}=z(),{initParcours:t}=D.useContext(le),{send:r,state:i}=t,{payment:a}=i.context,o=Jr({url:Ne.MOVE_IN.SET_OTP,onSuccess:({data:N})=>{N.message===q.OK&&r("GO_TO_SUMMARY")},onError:N=>{console.error(N)}}),m=N=>{o.mutate({otpCode:N.input})},u=()=>{r("GO_BACK")},c=((v=(d=o.data)==null?void 0:d.data)==null?void 0:v.message)||"";return e.jsxDEV(l.SzModal,{border:"smooth",backdrop:"static",show:s,size:"lg",title:"",centered:!0,children:[e.jsxDEV(Qr,{url:Ne.MOVE_IN.TEMPLATE_MANDAT,pathname:se.PAYMENT.ERROR,mobilePhone:a.mobilePhone},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MandateModal.tsx",lineNumber:47,columnNumber:7},this),e.jsxDEV(et,{onSubmit:m,mobilePhone:a.mobilePhone,loadingSubmit:o.isLoading,errorReset:c===q.KO_CODE_OTP,onPrevClick:u,label:n("moveIn.payment.previous_next.nextStep_mandat")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MandateModal.tsx",lineNumber:52,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/MandateModal.tsx",lineNumber:39,columnNumber:5},this)}const tr=fe.createContext({displayInternationalIban:!1,setDisplayInternationalIban:()=>{}});function Za({showModal:s}){const{t:n}=z(),{initParcours:t}=D.useContext(le),{send:r,state:{context:{summary:i,inventory:a,payment:o}}}=t,m=Object.prototype.hasOwnProperty.call(a,"waterTaps"),u=Object.prototype.hasOwnProperty.call(o,"civility"),c={onBill:(i==null?void 0:i.servicePrelevement)||!1,monthly:(i==null?void 0:i.serviceMensualisation)||!1,onBillOnly:(i==null?void 0:i.servicePrelevement)&&!(i!=null&&i.serviceMensualisation)},d=i==null?void 0:i.hasMandate,[v,N]=D.useState(u&&(o==null?void 0:o.updateMandat)||!1),[h,j]=D.useState(!1),[y,E]=D.useState(!1),[I,x]=D.useState(!1),f=()=>{r({type:"GO_BACK"})};function b(R){const J=R.paymentMode==="monthly",Q={...R,paymentMode:J?"Mensualisation":"Prlvement"};return J||delete Q.mensuPrice,d&&delete Q.mobilePhone,Q}const g=Ee(R=>{y&&E(!1);const J=b(R);return pe.post(Ne.MOVE_IN.POST_PAYMENT_INFORMATIONS,J)},{onSuccess:(R,J)=>{const{data:re}=R,{code:Q,message:ue}=re,ge=b(J);Q==="00"&&ue==="OK"?r(d?{type:"GO_TO_SUMMARY",payment:ge}:{type:"OPEN_MODAL",payment:ge}):Q==="00"&&ue==="400"&&j(!0)},onError:({response:R})=>{const{code:J,message:re,validation_errors:Q}=R.data;(J==="00"||J==="02")&&(re==="OK"||re==="global.form_has_errors")&&((Q==null?void 0:Q.iban[0])==="IBAN est invalide"||(Q==null?void 0:Q.iban[0])==="Cette valeur n'est pas valide.")&&E(!0)}}),w=(R,{resetForm:J})=>{const{iban_field_1:re,iban_field_2:Q,iban_field_3:ue,iban_field_4:ge,iban_field_5:Ae,iban_field_6:Ve,iban_field_7:Pe,...We}=R,Ie={...We},{iban:_e}=Ie;Ie.iban=(0<_e.length?_e:re+Q+ue+ge+Ae+Ve+Pe).replace(/[ ,]/g,""),g.mutate(Ie),J({errors:{},values:{...R}})},S={"1_3":"25","4_6":"45","6_8":"75",PLUS_8:"75"},C=I?pr(n):vr(n),V=d&&!v,_=Ga.concat(C),M=V?Os:Os.concat(C),F=d?M:_,P=(i==null?void 0:i.servicePrelevement)&&!(i!=null&&i.serviceMensualisation)?"on_bill":"monthly";function L(){const R=new RegExp("^[a-zA-Z- ]*$");return!R.test(i.paymentFirstName)||!R.test(i.paymentLastName)}const B=()=>u?o==null?void 0:o.civility:L()&&!d?"":i==null?void 0:i.paymentCivility,W=R=>{const J="payment"+R.charAt(0).toUpperCase()+R.slice(1);let re="";if(u)re=o[R];else if(i[J])L()&&!d?re="":re=i[J];else return"";return nr(re)},K={paymentMode:u?o==null?void 0:o.paymentMode:P,mensuPrice:u&&(o!=null&&o.mensuPrice)?o==null?void 0:o.mensuPrice:!u&&m&&S[a==null?void 0:a.housePeople]?S[a==null?void 0:a.housePeople]:!u&&!m&&(i!=null&&i.housePeople)&&S[i==null?void 0:i.housePeople]?S[i==null?void 0:i.housePeople]:"45",civility:B(),firstName:W("firstName"),lastName:W("lastName"),mobilePhone:u?o==null?void 0:o.mobilePhone:!d&&(i!=null&&i.paymentMobilePhone)?i==null?void 0:i.paymentMobilePhone:"",iban:u&&(o==null?void 0:o.iban)||"",iban_field_1:u&&(o==null?void 0:o.iban_field_1)||"",iban_field_2:u&&(o==null?void 0:o.iban_field_2)||"",iban_field_3:u&&(o==null?void 0:o.iban_field_3)||"",iban_field_4:u&&(o==null?void 0:o.iban_field_4)||"",iban_field_5:u&&(o==null?void 0:o.iban_field_5)||"",iban_field_6:u&&(o==null?void 0:o.iban_field_6)||"",iban_field_7:u&&(o==null?void 0:o.iban_field_7)||""};return e.jsxDEV(tr.Provider,{value:{displayInternationalIban:I,setDisplayInternationalIban:x},children:[e.jsxDEV(Ge,{initialValues:K,onSubmit:w,validationSchema:F,validateOnBlur:!0,validateOnChange:!0,validateOnMount:!0,children:({handleSubmit:R,isValid:J,values:re})=>e.jsxDEV("form",{onSubmit:R,children:e.jsxDEV("div",{className:"mt-4 payment",children:[e.jsxDEV(l.SzCard,{className:"bg-white",title:n("moveIn.payment.title"),direction:"top",color:"primary-brand",children:[((c==null?void 0:c.onBill)||(c==null?void 0:c.monthly))&&e.jsxDEV(qa,{payment:c},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:287,columnNumber:21},this),re.paymentMode==="monthly"&&e.jsxDEV(Ya,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:290,columnNumber:56},this),d?e.jsxDEV(Ka,{paymentMode:c,hasMandat:d,setUpdateMandat:N,paymentAlreadySetup:u,updatedMandat:(o==null?void 0:o.updateMandat)||!1,errorCodeIban:y,errorTechnicalPayment:h},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:292,columnNumber:21},this):e.jsxDEV(rr,{hasMandat:d,errorCodeIban:y,errorTechnicalPayment:h},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:302,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:280,columnNumber:17},this),e.jsxDEV(ms,{titleFirst:n("moveIn.payment.previous_next.previous"),tileSecondary:n("moveIn.payment.previous_next.nextStep"),isValidForm:J,onClickFirst:f,isLoading:g.isLoading,disableBoth:g.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:309,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:279,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:278,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:268,columnNumber:7},this),e.jsxDEV(Xa,{showModal:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:322,columnNumber:7},this),e.jsxDEV("div",{className:"d-none d-md-block",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"floating-helper",label:n("know_more"),children:e.jsxDEV(sr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:330,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:324,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:323,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Payment/index.tsx",lineNumber:265,columnNumber:5},this)}const Ja=Ir.div`
  background-color: ${s=>s.bgColor};
  border: 1px solid #6095d6;
  border-radius: 8px;
  box-shadow: 1px 1px 1px 1px rgba(17, 95, 251, 0.05);

  &.no-border {
    border: none;
  }

  &.no-shadow {
    box-shadow: none;
  }

  .close-card {
    position: absolute;
    right: -40px;
    top: -10px;
  }

  @media screen and (max-width: 768px) {
    .close-card {
      right: -10px;
    }
  }
`,us=({title:s,children:n,sendTo:t,noBorder:r,noShadow:i,bgColor:a="#ffffff"})=>e.jsxDEV(Ja,{className:Oe("my-4 pt-3 pb-4 px-3 px-md-5",{"no-border":r||"","no-shadow":i||""}),bgColor:a,children:[e.jsxDEV("div",{className:"d-flex justify-content-md-center position-relative",children:[s&&e.jsxDEV(l.SzTypographie,{className:"mb-3 mb-md-4",variant:"h1",weight:"bold",children:e.jsxDEV(X,{content:s},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SummaryCard/index.jsx",lineNumber:26,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SummaryCard/index.jsx",lineNumber:25,columnNumber:11},void 0),t&&e.jsxDEV("div",{className:"close-card",children:e.jsxDEV(l.SzButton,{className:"ml-auto summary-edit-button",icon:"pencil-write",variant:"text",onClick:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SummaryCard/index.jsx",lineNumber:31,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SummaryCard/index.jsx",lineNumber:30,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SummaryCard/index.jsx",lineNumber:23,columnNumber:7},void 0),e.jsxDEV("div",{className:"px-md-5",children:n},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SummaryCard/index.jsx",lineNumber:40,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SummaryCard/index.jsx",lineNumber:16,columnNumber:5},void 0),Qa=()=>{const{t:s}=z(),{track:n}=he(),t=xe(),{initParcours:r}=D.useContext(le),{send:i,state:{context:{summary:a}}}=r,{housePeopleDict:o,houseSizeDict:m,houseStatusDict:u,houseTypeDict:c,residenceStateDict:d,waterConsumptionDict:v}=Cr,N=()=>{i("BACK_INVENTORY")};return D.useEffect(()=>{n("MOVEIN_2",{sz_funnel_step:"5",sz_funnel_variant:null})},[]),e.jsxDEV(e.Fragment,{children:a!=null&&a.houseType?e.jsxDEV(us,{title:s("moveIn.summary.houssing_surveys.title"),sendTo:N,children:[e.jsxDEV(l.SzData,{className:"mb-3 p-4 bg-light",children:e.jsxDEV(l.SzData.Text,{variant:"text",weight:"regular",color:"tertiary",children:e.jsxDEV(X,{content:s("moveIn.summary.houssing_surveys.text_1",{houseType:c[a==null?void 0:a.houseType],houseStatus:u[a==null?void 0:a.houseStatus],residenceState:d[a==null?void 0:a.residenceState]})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:52,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:51,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:50,columnNumber:11},void 0),(a==null?void 0:a.housePeople)&&(a==null?void 0:a.waterConsumption)&&e.jsxDEV(l.SzData,{className:"mb-3 p-4 bg-light",children:e.jsxDEV(l.SzData.Text,{variant:"text",weight:"regular",color:"tertiary",children:a!=null&&a.houseSize&&(a!=null&&a.housePeople)&&(a!=null&&a.waterConsumption)?e.jsxDEV(X,{content:s("moveIn.summary.houssing_surveys.text_2",{houseSize:m[a==null?void 0:a.houseSize],housePeople:o[a==null?void 0:a.housePeople],waterConsumption:v[a==null?void 0:a.waterConsumption]})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:68,columnNumber:19},void 0):a!=null&&a.housePeople&&(a!=null&&a.waterConsumption)?e.jsxDEV(X,{content:s("moveIn.summary.houssing_surveys.text_3",{housePeople:o[a==null?void 0:a.housePeople],waterConsumption:v[a==null?void 0:a.waterConsumption]})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:77,columnNumber:19},void 0):""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:64,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:63,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV(l.SzCheckbox,{id:"meterEligibility",name:"meterEligibility",label:s("moveIn.summary.houssing_surveys.checkbox"),type:"checkbox",checked:t.values.meterEligibility,onChange:({target:h})=>{t.setFieldValue("meterEligibility",h.checked)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:92,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:91,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:46,columnNumber:9},void 0):e.jsxDEV(ce,{height:330},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:105,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/SummaryHousingSurveys.jsx",lineNumber:44,columnNumber:5},void 0)},eo=()=>{const{t:s}=z(),n=xe(),{initParcours:t}=D.useContext(le),{send:r,state:{context:{summary:i}}}=t,a=()=>{r("BACK_DATE_SELECTION")},o=yn({addressSite1:(i==null?void 0:i.addressSite1)||"",addressSite2:(i==null?void 0:i.addressSite2)||"",addressSite3:(i==null?void 0:i.addressSite3)||"",cpSite:(i==null?void 0:i.cpSite)||"",villeSite:(i==null?void 0:i.villeSite)||""});return e.jsxDEV(e.Fragment,{children:i!=null&&i.startingDate?e.jsxDEV(us,{title:s("moveIn.summary.contrat.title"),sendTo:a,children:[(i==null?void 0:i.startingDate)&&e.jsxDEV(l.SzData,{className:"mb-3 px-4 py-3 bg-yellow data-hj-suppress",children:e.jsxDEV(l.SzData.Text,{variant:"text",weight:"regular",color:"tertiary",align:"center",children:e.jsxDEV(X,{content:s("moveIn.summary.contrat.subscription_date",{date:Te(new Date(i==null?void 0:i.startingDate),"dd/MM/yyyy")})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:51,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:45,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:44,columnNumber:13},void 0),e.jsxDEV("div",{children:e.jsxDEV(G,{className:"bg-light px-4 py-3",children:e.jsxDEV("div",{className:"d-flex align-items-center data-hj-suppress",children:[e.jsxDEV(G.Icon,{onClick:()=>{},icon:"pin-location-1",variant:"line",className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:63,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV(G.Title,{children:s("moveIn.summary.contrat.address")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:70,columnNumber:19},void 0),o&&e.jsxDEV(G.Text,{children:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:73,columnNumber:31},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:69,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:62,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:61,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:60,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV(l.SzCheckbox,{id:"subscribeConditions",name:"subscribeConditions",label:s("moveIn.summary.contrat.checkbox",{town:i==null?void 0:i.villeSite}),type:"checkbox",checked:n.values.subscribeConditions,onChange:({target:m})=>{n.setFieldValue("subscribeConditions",m.checked)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:80,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:79,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:39,columnNumber:9},void 0):e.jsxDEV(ce,{height:330},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:95,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/subscriptionContract.jsx",lineNumber:37,columnNumber:5},void 0)},so=()=>{var d;const{t:s}=z(),n=xe(),{initParcours:t}=D.useContext(le),{send:r,state:{context:{summary:i}}}=t,a=i==null?void 0:i.meters,[o,m]=D.useState(null),u=()=>{m(null)},c=()=>{r("BACK_COUNTER")};return e.jsxDEV(e.Fragment,{children:((d=i==null?void 0:i.meters)==null?void 0:d.length)>0?e.jsxDEV(us,{title:s("moveIn.summary.meter_reading.title"),sendTo:c,children:[(a==null?void 0:a.length)>0&&a.map(v=>{const{matricule:N,indexTR:h,index:j,indexDepart:y,photo:E}=v,I=j||h||y,x=()=>{E&&m(E)},f=!j&&h;return e.jsxDEV("div",{className:"bg-light mb-2 row no-gutters justify-content-md-center px-3 px-md-5 py-3",children:[e.jsxDEV("div",{className:"col-12 col-md-4 mb-3 mb-md-0 data-hj-suppress",children:e.jsxDEV(l.SzData,{icon:"gauge-dashboard-1",children:[e.jsxDEV(l.SzData.Text,{children:s("moveIn.summary.meter_reading.meter")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:61,columnNumber:23},void 0),e.jsxDEV(l.SzData.Title,{children:N},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:64,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:60,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:59,columnNumber:19},void 0),e.jsxDEV("div",{className:"col-8 col-md-3 mb-3 mb-md-0",children:e.jsxDEV(l.SzData,{icon:"color-drop-pick",children:[e.jsxDEV(l.SzData.Text,{children:s("moveIn.summary.meter_reading.index",{context:f&&"TR"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:69,columnNumber:23},void 0),e.jsxDEV(l.SzData.Title,{children:I},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:74,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:68,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:67,columnNumber:19},void 0),e.jsxDEV("div",{className:"col-4 col-md-4 d-flex",children:E&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzButton,{className:"d-lg-none d-md-inline-flex ml-auto bg-transparent",icon:"camera-1",variant:"outlined",onClick:x},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:80,columnNumber:25},void 0),e.jsxDEV(l.SzButton,{className:"d-none d-lg-inline-flex mx-auto mx-md-0 bg-transparent",icon:"camera-1",variant:"outlined",alignIcon:"right",onClick:x,children:s("moveIn.summary.meter_reading.photo")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:86,columnNumber:25},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:79,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:77,columnNumber:19},void 0)]},N,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:55,columnNumber:17},void 0)}),e.jsxDEV(l.SzModal,{show:o!==null,handleClose:u,children:e.jsxDEV("img",{src:o,alt:"",width:"100%"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:103,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:102,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV(l.SzCheckbox,{id:"meterReading",name:"meterReading",label:e.jsxDEV(X,{content:s("moveIn.summary.meter_reading.checkbox")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:111,columnNumber:17},void 0),type:"checkbox",checked:n.values.meterReading,onChange:({target:v})=>{n.setFieldValue("meterReading",v.checked)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:107,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:106,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:39,columnNumber:9},void 0):e.jsxDEV(ce,{height:330},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:122,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/MeterReading.jsx",lineNumber:37,columnNumber:5},void 0)},no=()=>{const{t:s}=z(),n=xe();return e.jsxDEV(us,{noBorder:!0,noShadow:!0,bgColor:"#C9E6FB",children:[e.jsxDEV("div",{className:"px-4",children:e.jsxDEV(l.SzTypographie,{weight:"bold",children:[e.jsxDEV(l.SzIcon,{variant:"line",icon:"water-fountain-drop",className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:19,columnNumber:11},void 0),s("moveIn.summary.alert.title")]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:18,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:17,columnNumber:7},void 0),e.jsxDEV("div",{className:"px-4",children:[e.jsxDEV(l.SzTypographie,{weight:"regular",children:s("moveIn.summary.alert.text_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:25,columnNumber:9},void 0),e.jsxDEV(l.SzTypographie,{weight:"regular",children:s("moveIn.summary.alert.text_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:28,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:24,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV(l.SzCheckbox,{id:"leakAlerts",name:"leakAlerts",label:s("moveIn.summary.alert.checkbox"),type:"checkbox",checked:n.values.leakAlerts,onChange:({target:t})=>{n.setFieldValue("leakAlerts",t.checked)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:34,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:33,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/Alert.jsx",lineNumber:16,columnNumber:5},void 0)},ro=()=>{const{t:s}=z(),{initParcours:n}=D.useContext(le),{send:t,state:{context:{summary:r}}}=n,i="Mensualisation",a="onbill",o=()=>{t("BACK_BILLING")},m={addressSite1:(r==null?void 0:r.billingStreet)||"",addressSite2:(r==null?void 0:r.billingAdditionalStreet)||"",cpSite:(r==null?void 0:r.billingZipCode)||"",villeSite:(r==null?void 0:r.billingCity)||""};((r==null?void 0:r.isBillingAddressForeign)===!0||(r==null?void 0:r.isBillingAddressForeign)==1)&&(m.country=(r==null?void 0:r.billingCountry)||"");const u=yn(m);return e.jsxDEV(e.Fragment,{children:r!=null&&r.iban?e.jsxDEV(us,{title:s("moveIn.summary.billing_info.title"),sendTo:o,children:[e.jsxDEV("div",{children:e.jsxDEV(G,{className:"bg-light px-4 py-3",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV(G.Icon,{onClick:()=>{},icon:"envelope",variant:"line",className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:52,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV(G.Title,{children:s("moveIn.summary.billing_info.email")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:59,columnNumber:19},void 0),e.jsxDEV(G.Text,{className:"data-hj-suppress",children:r==null?void 0:r.customerMail},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:62,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:58,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:51,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:50,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:49,columnNumber:11},void 0),e.jsxDEV("div",{children:e.jsxDEV(G,{className:"bg-light px-4 py-3",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV(G.Icon,{onClick:()=>{},icon:"single-neutral-id-card-3",variant:"line",className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:71,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV(G.Title,{children:s("moveIn.summary.billing_info.receiver")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:78,columnNumber:19},void 0),e.jsxDEV(G.Text,{className:"data-hj-suppress",children:hn({civility:(r==null?void 0:r.billingCivility)||"",lastname:(r==null?void 0:r.billingLastName)||"",firstname:(r==null?void 0:r.billingFirstName)||"",civilityCo:(r==null?void 0:r.coholderCivility)||"",lastnameCo:(r==null?void 0:r.coholderLastName)||"",firstnameCo:(r==null?void 0:r.coholderFirstName)||"",noDot:!0})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:81,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:77,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:70,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:69,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:68,columnNumber:11},void 0),e.jsxDEV("div",{children:e.jsxDEV(G,{className:"bg-light px-4 py-3",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV(G.Icon,{onClick:()=>{},icon:"pin-location-1",variant:"line",className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:100,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV(G.Title,{children:s("moveIn.summary.billing_info.address")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:107,columnNumber:19},void 0),u&&e.jsxDEV(G.Text,{className:"data-hj-suppress",children:u},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:110,columnNumber:31},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:99,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:98,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:97,columnNumber:11},void 0),e.jsxDEV("div",{className:"row bg-light g-0 no-gutters",children:[e.jsxDEV("div",{className:"col-md-12 col-lg-5",children:e.jsxDEV(G,{className:"bg-light px-4 py-3",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV(G.Icon,{onClick:()=>{},icon:"currency-euro-circle",variant:"line",className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:120,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV(G.Title,{children:s("moveIn.summary.billing_info.paiement_mode")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:127,columnNumber:21},void 0),e.jsxDEV(G.Text,{children:s("moveIn.summary.billing_info.debit",{context:(r==null?void 0:r.paymentMode)!==i&&a})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:126,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:119,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:118,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:117,columnNumber:13},void 0),(r==null?void 0:r.iban)&&e.jsxDEV("div",{className:"col-md-12 col-lg-7",children:e.jsxDEV(G,{className:"bg-light px-4 py-3",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV(G.Icon,{onClick:()=>{},icon:"saving-bank",variant:"line",className:"mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:144,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV(G.Title,{children:s("moveIn.summary.billing_info.iban")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:151,columnNumber:23},void 0),e.jsxDEV(G.Text,{children:r==null?void 0:r.iban},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:154,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:150,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:143,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:142,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:116,columnNumber:11},void 0),(r==null?void 0:r.mandateUrl)&&e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV(l.SzButton,{className:"d-lg-none d-md-inline-flex ml-auto bg-transparent",icon:"office-file-pdf-1",variant:"outlined",onClick:()=>window.open(r==null?void 0:r.mandateUrl,"blank"),children:s("moveIn.summary.billing_info.btn_download_mobile")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:164,columnNumber:15},void 0),e.jsxDEV(l.SzButton,{className:"d-none d-lg-inline-flex mx-auto mx-md-0 bg-transparent",icon:"office-file-pdf-1",variant:"outlined",onClick:()=>window.open(r==null?void 0:r.mandateUrl,"blank"),children:s("moveIn.summary.billing_info.btn_download")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:172,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:163,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:45,columnNumber:9},void 0):e.jsxDEV(ce,{height:330},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:184,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/BillingInfo.jsx",lineNumber:43,columnNumber:5},void 0)},to=Be().shape({meterEligibility:Re().oneOf([!0],"Renseigner l'tat des lieux de votre logement"),subscribeConditions:Re().oneOf([!0],"Renseigner votre rglement de service"),meterReading:Re().oneOf([!0],"Renseigner la conformit de la valeur d'index affich sur votre compteur")}),io=Be().shape({meterEligibility:Re().oneOf([!0],"Renseigner l'tat des lieux de votre logement"),subscribeConditions:Re().oneOf([!0],"Renseigner votre rglement de service"),meterReading:Re().oneOf([!0],"Renseigner la conformit de la valeur d'index affich sur votre compteur"),leakAlerts:Re().required("Renseigner votre souscription au service d'alerte fuite")}),ao=()=>{const{t:s}=z(),{track:n}=he(),{initParcours:t}=D.useContext(le),{send:r,state:{context:{summary:i}}}=t,a=()=>{r("GO_BACK")},o=Ee(m=>(i!=null&&i.serviceFuite||delete m.leakAlerts,pe.post(Ne.MOVE_IN.POST_VALID_SUMMARY,m)),{onSuccess:(m,u)=>{const{message:c,code:d}=m.data;d==="00"&&(c==="OK_INDEX_OK"||c==="OK_INDEX_KO")&&(c==="OK_INDEX_OK"&&n("MOVEIN_10",{"sz_demande-souscription-type":Se.consistent}),c==="OK_INDEX_KO"&&n("MOVEIN_10",{"sz_demande-souscription-type":Se.unconsistent}),r({type:"GO_TO_VALIDATE"}))},onError:m=>{console.error(m)}});return D.useEffect(()=>{Ms.getSummary(r)},[]),e.jsxDEV(Ge,{initialValues:{meterEligibility:!1,subscribeConditions:!1,meterReading:!1,leakAlerts:!1},validationSchema:i!=null&&i.serviceFuite?io:to,onSubmit:o.mutate,enableReinitialize:!0,validateOnMount:!0,children:({handleSubmit:m,isValid:u})=>e.jsxDEV("form",{onSubmit:m,className:"move-in-summary",children:[e.jsxDEV(Qa,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/index.jsx",lineNumber:95,columnNumber:13},void 0),e.jsxDEV(eo,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/index.jsx",lineNumber:96,columnNumber:13},void 0),(i==null?void 0:i.serviceFuite)&&e.jsxDEV(no,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/index.jsx",lineNumber:97,columnNumber:39},void 0),e.jsxDEV(so,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/index.jsx",lineNumber:98,columnNumber:13},void 0),e.jsxDEV(ro,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/index.jsx",lineNumber:99,columnNumber:13},void 0),e.jsxDEV(ms,{titleFirst:s("moveIn.summary.step.prev"),tileSecondary:s("moveIn.summary.step.next"),isValidForm:u,onClickFirst:a,isLoading:o.isLoading,disableBoth:o.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/index.jsx",lineNumber:100,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/index.jsx",lineNumber:94,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Summary/index.jsx",lineNumber:78,columnNumber:5},void 0)},oo=ao,lo=""+new URL("homeserve-CovA_eJc.svg",import.meta.url).href,fn=""+new URL("homeserve-image-CR41a5JU.jpg",import.meta.url).href,mo=()=>{const{t:s}=z(),{track:n}=he(),{initParcours:{state:{context:{summary:t}}}}=D.useContext(le),r="/mon-compte-en-ligne/redirect/98-"+(t==null?void 0:t.reference);return D.useEffect(()=>{n("MOVEIN_2",{sz_funnel_step:"complete",sz_funnel_variant:null})},[]),e.jsxDEV("div",{className:"moveValid",children:[e.jsxDEV("div",{className:"my-3 mx-2 py-4 px-5 bg-white rounded-1",children:e.jsxDEV("div",{className:"row px-md-5 mx-md-1",children:e.jsxDEV("div",{className:"col-lg-11 offset-lg-1 col-md-12",children:[e.jsxDEV(l.SzTypographie,{variant:"huge",weight:"medium",className:"title mb-5 mt-3 title",children:e.jsxDEV(X,{content:s("moveIn.validate.card_1.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:44,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:39,columnNumber:13},void 0),e.jsxDEV(l.SzTypographie,{align:"left",weight:"regular",className:"line",children:s("moveIn.validate.card_1.parag_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:47,columnNumber:13},void 0),e.jsxDEV(l.SzTypographie,{align:"left",weight:"regular",className:"line",children:s("moveIn.validate.card_1.parag_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:50,columnNumber:13},void 0),e.jsxDEV(l.SzTypographie,{align:"left",weight:"regular",className:"line",children:e.jsxDEV(X,{content:s("moveIn.validate.card_1.parag_3")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:54,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:53,columnNumber:13},void 0),e.jsxDEV(Ze,{to:r,variant:"contained",className:"my-3 px-4",children:s("moveIn.validate.card_1.btn_online_account")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:57,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:38,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:36,columnNumber:7},void 0),(t==null?void 0:t.serviceAssurance)&&e.jsxDEV("div",{className:"insurance",children:[e.jsxDEV(l.SzTypographie,{weight:"bold",align:"center",className:"insurance_title my-4",children:s("moveIn.validate.coverage.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:70,columnNumber:11},void 0),e.jsxDEV("div",{className:"col-md-10 mx-auto insurance_body p-0",children:e.jsxDEV("div",{className:"d-flex p-0",children:[e.jsxDEV("div",{className:"homeserve-text-content",children:e.jsxDEV("div",{className:"d-flex flex-column align-items-md-start align-items-sm-center",children:[e.jsxDEV("div",{className:"homeserve-image-content-mobile d-sm-block d-md-none",children:e.jsxDEV("img",{src:fn,alt:"Assurance",className:"homeserveimage-mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:83,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:82,columnNumber:19},void 0),e.jsxDEV("img",{src:lo,alt:"Assurance",className:"homeserve mt-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:89,columnNumber:19},void 0),e.jsxDEV(l.SzTypographie,{weight:"bold",align:"left",className:"mt-3 homeseve-text-mobile",children:e.jsxDEV(X,{content:s("moveIn.validate.coverage.title_2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:99,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:94,columnNumber:19},void 0),e.jsxDEV(l.SzTypographie,{variant:"body",align:"left",className:"mb-3 homeseve-text-mobile",children:s("moveIn.validate.coverage.parag_1")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:101,columnNumber:19},void 0),e.jsxDEV(Ze,{to:hr,variant:"contained",border:"soft",className:"mb-3 homeseve-btn-mobile",children:s("moveIn.validate.coverage.btn_more_info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:108,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:81,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:80,columnNumber:15},void 0),e.jsxDEV("div",{className:"homeserve-image-content d-none d-md-block",children:e.jsxDEV("img",{src:fn,alt:"Assurance",className:"homeserveimage"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:119,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:118,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:79,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:78,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:69,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Confirmation/index.jsx",lineNumber:35,columnNumber:5},void 0)},uo=mo,co=()=>{const{t:s}=z();return e.jsxDEV("div",{className:"stepper-helper bg-white d-flex justify-content-around align-items-center",children:[e.jsxDEV(l.SzStepper.SzHeader,{className:"bg-white py-1 moveinStepper"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/index.jsx",lineNumber:10,columnNumber:7},void 0),e.jsxDEV("div",{className:"d-md-none",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"helper-mobile",btnStyles:{position:"relative"},label:s("know_more"),children:e.jsxDEV(Jn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/index.jsx",lineNumber:21,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/index.jsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/index.jsx",lineNumber:11,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/InventoryHelper/index.jsx",lineNumber:9,columnNumber:5},void 0)},po=()=>{const{t:s}=z();return e.jsxDEV("div",{className:"stepper-helper bg-white d-flex justify-content-around align-items-center",children:[e.jsxDEV(l.SzStepper.SzHeader,{className:"bg-white py-1 moveinStepper"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/index.jsx",lineNumber:10,columnNumber:7},void 0),e.jsxDEV("div",{className:"d-md-none",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"helper-mobile",btnStyles:{position:"relative"},label:s("know_more"),children:e.jsxDEV(qn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/index.jsx",lineNumber:21,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/index.jsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/index.jsx",lineNumber:11,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/ContractHelper/index.jsx",lineNumber:9,columnNumber:5},void 0)},vo=()=>{const{t:s}=z();return e.jsxDEV("div",{className:"stepper-helper bg-white d-flex justify-content-around align-items-center",children:[e.jsxDEV(l.SzStepper.SzHeader,{className:"bg-white py-1 moveinStepper"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/index.jsx",lineNumber:10,columnNumber:7},void 0),e.jsxDEV("div",{className:"d-md-none",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"helper-mobile",btnStyles:{position:"relative"},label:s("know_more"),children:e.jsxDEV(Zn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/index.jsx",lineNumber:21,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/index.jsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/index.jsx",lineNumber:11,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/IndexCounterHelper/index.jsx",lineNumber:9,columnNumber:5},void 0)},fo=()=>{const{t:s}=z();return e.jsxDEV("div",{className:"stepper-helper bg-white d-flex justify-content-around align-items-center",children:[e.jsxDEV(l.SzStepper.SzHeader,{className:"bg-white py-1 moveinStepper"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/index.jsx",lineNumber:10,columnNumber:7},void 0),e.jsxDEV("div",{className:"d-md-none",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"helper-mobile",btnStyles:{position:"relative"},label:s("know_more"),children:e.jsxDEV(er,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/index.jsx",lineNumber:21,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/index.jsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/index.jsx",lineNumber:11,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/BillingHelper/index.jsx",lineNumber:9,columnNumber:5},void 0)},No=()=>{const{t:s}=z();return e.jsxDEV("div",{className:"stepper-helper bg-white d-flex justify-content-around align-items-center",children:[e.jsxDEV(l.SzStepper.SzHeader,{className:"bg-white py-1 moveinStepper"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/index.jsx",lineNumber:10,columnNumber:7},void 0),e.jsxDEV("div",{className:"d-md-none",children:e.jsxDEV(l.SzHelper,{type:"floating-btn",cancelPulse:!0,className:"helper-mobile",btnStyles:{position:"relative"},label:s("know_more"),children:e.jsxDEV(sr,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/index.jsx",lineNumber:21,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/index.jsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/index.jsx",lineNumber:11,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/helperMobile/PaymentHelper/index.jsx",lineNumber:9,columnNumber:5},void 0)},wo=()=>(z(),e.jsxDEV("div",{className:"stepper-helper bg-white d-flex justify-content-around align-items-center",children:e.jsxDEV(l.SzStepper.SzHeader,{className:"bg-white py-1 moveinStepper"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/MeterHelper/index.jsx",lineNumber:9,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/MeterHelper/index.jsx",lineNumber:8,columnNumber:5},void 0)),bo=()=>e.jsxDEV("div",{className:"stepper-helper bg-white d-flex justify-content-around align-items-center",children:e.jsxDEV(l.SzStepper.SzHeader,{className:"bg-white py-1 moveinStepper"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/RecapHelper/index.jsx",lineNumber:7,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/RecapHelper/index.jsx",lineNumber:6,columnNumber:5},void 0),ho=({step:s})=>{switch(s){case 0:return e.jsxDEV(wo,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/index.jsx",lineNumber:22,columnNumber:14},void 0);case 1:return e.jsxDEV(co,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/index.jsx",lineNumber:24,columnNumber:14},void 0);case 2:return e.jsxDEV(po,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/index.jsx",lineNumber:26,columnNumber:14},void 0);case 3:return e.jsxDEV(vo,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/index.jsx",lineNumber:28,columnNumber:14},void 0);case 4:return e.jsxDEV(fo,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/index.jsx",lineNumber:30,columnNumber:14},void 0);case 5:return e.jsxDEV(No,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/index.jsx",lineNumber:32,columnNumber:14},void 0);case 6:return e.jsxDEV(bo,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/helperMobile/index.jsx",lineNumber:34,columnNumber:14},void 0);default:return null}},jo=ho;function xo(){var u,c,d,v;const{t:s}=z(),{initParcours:n}=D.useContext(le),{state:t}=n,r=[{title:s("moveIn.stepper.header.step_1"),icon:{name:"single-neutral-id-card-3",variant:"bold"}},s("moveIn.stepper.header.step_2"),s("moveIn.stepper.header.step_3"),s("moveIn.stepper.header.step_4"),s("moveIn.stepper.header.step_5"),s("moveIn.stepper.header.step_6"),s("moveIn.stepper.header.step_7")],a=Object.entries({meter:0,"startParcours.inventory":1,"startParcours.dateSelection":2,"startParcours.counter":3,"startParcours.billingInfo":4,"startParcours.mandate":5,"startParcours.payment":5,"startParcours.confirmationPage":6,"startParcours.summary":6}).find(([N])=>t.matches(N)),o=a?a[1]:0,m=t.matches("startParcours.mandate");return e.jsxDEV(l.SzStepper,{variant:"rounded",activeStep:o,header:r,children:[(Array.from(Array(6).keys()).includes(o)||t.matches("startParcours.summary"))&&e.jsxDEV(jo,{step:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:56,columnNumber:9},this),e.jsxDEV("div",{className:"container",children:[o!==6&&!t.matches("meter.init")&&!t.matches("meter.summaryMeter")&&!t.matches("startParcours.confirmationPage")&&((c=(u=t==null?void 0:t.context)==null?void 0:u.identityData)==null?void 0:c.addressSite1)&&e.jsxDEV(la,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:65,columnNumber:13},this),e.jsxDEV(l.SzStepper.SzStep,{className:"bg-transparent p-0",index:0,children:o===0&&e.jsxDEV(oa,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:69,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:68,columnNumber:9},this),e.jsxDEV(l.SzStepper.SzStep,{className:"bg-transparent p-0",index:1,children:o===1&&e.jsxDEV(Ma,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:72,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:71,columnNumber:9},this),e.jsxDEV(l.SzStepper.SzStep,{className:"bg-transparent p-0",index:2,children:o===2&&e.jsxDEV(va,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:75,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:74,columnNumber:9},this),e.jsxDEV(l.SzStepper.SzStep,{className:"bg-transparent p-0",index:3,children:o===3&&e.jsxDEV(ja,{contextPath:le},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:78,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:77,columnNumber:9},this),e.jsxDEV(l.SzStepper.SzStep,{className:"bg-transparent p-0",index:4,children:o===4&&e.jsxDEV(Ha,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:81,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:80,columnNumber:9},this),e.jsxDEV(l.SzStepper.SzStep,{className:"bg-transparent p-0",index:5,children:o===5&&e.jsxDEV(Za,{showModal:m},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:84,columnNumber:32},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:83,columnNumber:9},this),e.jsxDEV(l.SzStepper.SzStep,{className:"bg-transparent p-0",index:6,children:[t.matches("startParcours.summary")&&e.jsxDEV(oo,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:87,columnNumber:66},this),t.matches("startParcours.confirmationPage")&&e.jsxDEV(uo,{message:(v=(d=t.context)==null?void 0:d.validate)==null?void 0:v.message},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:89,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:86,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/index.jsx",lineNumber:53,columnNumber:5},this)}function go(){const s=os(),{t:n}=z(),[t,r]=D.useState(!1),[i,a]=D.useState(!1),o=()=>{r(!0)},m=()=>{a(!0)};return e.jsxDEV("div",{className:"container py-5",children:e.jsxDEV(l.SzCard,{className:Fe("bg-white shadow-none",{"px-5":s}),children:e.jsxDEV("div",{className:"row align-items-center",children:[e.jsxDEV("div",{className:"col-12 col-md-8",children:[e.jsxDEV(l.SzTypographie,{variant:"huge",weight:"medium",children:n("moveIn.inventory.waterOffFinal.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:33,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{weight:"bold",children:n("moveIn.inventory.waterOffFinal.needUrgentWaterTitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:36,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{children:n("moveIn.inventory.waterOffFinal.needUrgentWaterBody")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:39,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{children:n("moveIn.inventory.waterOffFinal.needUrgentWaterBody2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:42,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{weight:"bold",children:n("moveIn.inventory.waterOffFinal.needWaterTitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:45,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{children:n("moveIn.inventory.waterOffFinal.needWaterBody")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:48,columnNumber:13},this),e.jsxDEV(l.SzTypographie,{children:n("moveIn.inventory.waterOffFinal.needWaterBody2")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:51,columnNumber:13},this),e.jsxDEV("div",{className:"col-12 col-md-4 d-block d-sm-none",children:e.jsxDEV("img",{src:fs,alt:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:55,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:54,columnNumber:13},this),e.jsxDEV("div",{className:"row mt-5",children:[e.jsxDEV("div",{className:"col-12 col-md-6",children:e.jsxDEV(Ze,{to:se.HOME,variant:"contained",className:"col-12 col-md-11 mr-md-4 mb-3 mb-md-0",onClick:m,loader:i,children:n("moveIn.inventory.waterOffFinal.contactBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:59,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:58,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-md-6",children:e.jsxDEV(Ze,{to:wn,className:"col-12 col-md-11 mr-md-4 mb-3 mb-md-0",variant:"text",icon:"logout-2",onClick:o,loader:t,children:n("moveIn.inventory.waterOffFinal.cancelSubs")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:70,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:57,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:32,columnNumber:11},this),e.jsxDEV("div",{className:"col-12 col-md-4 d-none d-md-block",children:e.jsxDEV("div",{children:e.jsxDEV("img",{src:fs,alt:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:85,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:84,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:31,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:30,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/Stepper/Inventory/WaterOffFinal.jsx",lineNumber:29,columnNumber:5},this)}var Ds={};const So=[{title:"landingMoveIn.info.meter.title",text:"landingMoveIn.info.meter.text"},{title:"landingMoveIn.info.subscriptionDate.title",text:"landingMoveIn.info.subscriptionDate.text"},{title:"landingMoveIn.info.index.title",text:"landingMoveIn.info.index.text"},{title:"landingMoveIn.info.rib.title"}];function Il(){const s={identityData:{},callReenter:!0,meterData:{email:"",isConnected:!1},haveCel:!1,createNewCel:!1,brand:"",inventory:{},statements:[],summary:{},currentDateResiliation:new Date,isDifferentStartingDate:!1,billingInfos:{},payment:{},isCounterFetching:!1,codeInsee:"",codeBanco:""};let n;Ds!=null&&Ds.isNodeJS&&(n=fr());const t=Hs.useRouterMachine({config:Kn,options:Yn,initialContext:s,history:n}),{state:r}=t,i=!1,{t:a}=z(),{pathname:o}=rn.useLocation(),{setRoutes:m}=D.useContext(jr),u=Sn({behavior:"auto"});Ri();const d=["/souscrire/session-expiree/non-initie","/souscrire/session-expiree/initie"].includes(o),N=gr({initParcoursState:r,eligibleArray:["contractAlreadyInitiated","noWater","startParcours.confirmationPage"],displayExpiredSession:d});return D.useEffect(()=>{r.value!=="edito"&&m(h=>{const j=[...h],y=h.findIndex(E=>rn.matchPath(o,E));return j[y]={...j[y],title:a("routeTitle.subscribeFull"),labelClose:a("leave"),isRedesign:!1,showBreadcrumb:!1,isLinkExternal:!1},j}),u(0)},[r.value]),e.jsxDEV(_r,{initParcours:t,children:r.matches("edito")?e.jsxDEV(Mr,{checklist:So,moveIn:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:131,columnNumber:9},this):e.jsxDEV(Vr,{background:zi,fullscreen:!0,className:"container-movein p-0",showBackground:N,tag:"main",children:[i,(r.matches("meter")||r.matches("startParcours"))&&e.jsxDEV(xo,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:142,columnNumber:60},this),r.matches("noWater")&&e.jsxDEV(go,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:143,columnNumber:52},this),r.matches("contractNotEligible")&&e.jsxDEV(ts,{typeError:"notEligible"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:145,columnNumber:13},this),r.matches("contractNotSelectionable")&&e.jsxDEV(ts,{typeError:"notSelectionable"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:148,columnNumber:13},this),r.matches("contractAlreadyInitiated")&&e.jsxDEV(ts,{typeError:"alreadyInitiated"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:151,columnNumber:13},this),r.matches("errorSessionExpiredInitated")&&e.jsxDEV(ts,{typeError:"errorSessionExpiredInitated"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:154,columnNumber:13},this),r.matches("errorSessionExpiredUninitiated")&&e.jsxDEV(ts,{typeError:"errorSessionExpiredUninitiated"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:133,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/move-in/index.jsx",lineNumber:129,columnNumber:5},this)}export{Il as default};

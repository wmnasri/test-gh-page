import{j as e,b as a,a as W}from"./index-BzhTyqaY.js";import{d as U,T as te,c as ae,O as oe,L as Qe,b as Se,R as Ve,C as Ze,v as We}from"./react-spring-web.esm-DsMzZgQq.js";import{a as ye}from"./useResponsive-DQBhMvnf.js";import{R as j,aA as Ie,aB as Ae,aC as ke,aD as _e,aE as Pe,aF as Xe,aG as ce,aH as de,aI as Je}from"./main-BbuvrTKi.js";import{M as es,C as ss}from"./index-Mu_Ozrib.js";import{u as Fe}from"./useQuery-DDRZMcvI.js";import{a as Y,A as Q,g as D,C as ns,u as Oe,c as os,R as as}from"./AxiosInstance-BZZbXQ8a.js";import{b as ts,U as q,c as rs,d as is,e as ls,f as ds,g as us,u as ms}from"./usePostCustomerAdditionalInfos-BV3X2XWS.js";import{S as $}from"./index-R4VhrMC6.js";import{r as V,R as cs}from"./index-0X8QCd_i.js";import{c as ze}from"./emotion-css.esm-Clv7IYTo.js";import{A as fs}from"./index-CenKVISr.js";import{M as we}from"./Tips-j9k3pi84.js";import{u as y}from"./useTranslation-BYGhmYBG.js";import{w as R,g as ps}from"./index-BBUdod_g.js";import{u as Ns,O as ws}from"./OnConnectCoachContent-CZWjTvpl.js";import{u as L}from"./useQueryObserver-BYynaL_B.js";import{u as re,F as X,S as B,O as Te}from"./formik.esm-DgjVmEdT.js";import{F as H}from"./index-BsXj3zEC.js";import{M as K}from"./index-E8Xemi00.js";import{u as J}from"./useInterweave-MFQvh887.js";import{F}from"./FormError-BtpZASc0.js";import{u as be}from"./useMutation-DnofRurj.js";import{c as bs,m as hs,P as vs}from"./PasswordRules-B5XjeTS1.js";import"./index-m5SwaE3w.js";/* empty css              *//* empty css                         */import{C as gs}from"./ContractSummary-C2MvU0wS.js";import{a as xs,u as Cs}from"./useGetConsentQuery-BHaQcDt9.js";import{u as js,C as Es}from"./useValidateConsent-BWtaaZRo.js";import{C as Ds}from"./index-DZ4XKZZd.js";import"./index-BoI371yk.js";import"./index-4p5aklhB.js";import"./throttle-C5YRRb_b.js";import"./_baseIsEqual-DwR-aJgz.js";import"./recaptcha-wrapper-CLWKokWK.js";import"./nonIterableRest-CnCppAvF.js";import"./iframe-CrganuSH.js";import"../sb-preview/runtime.js";import"./useScrollTo-VXXfg99K.js";import"./index-D1YCTWBN.js";import"./cross-circle-D-gJHWvz.js";import"./light-bulb-shine-BN5xHApG.js";const Ss=""+new URL("tap-glass-C5DMzS6e.png",import.meta.url).href;function Vs(n){return Fe("getCustomerInfos",()=>Y.get(Q.PERSONAL_INFOS.CUSTOMER_INFOS),{})}function ys(){return e.jsxDEV("div",{className:"row align-items-center",children:[e.jsxDEV("div",{className:"col-3",children:e.jsxDEV($,{count:4,height:32,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/PersonalInfos/index.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/PersonalInfos/index.tsx",lineNumber:7,columnNumber:7},this),e.jsxDEV("div",{className:"col-9",children:[e.jsxDEV($,{height:180,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/PersonalInfos/index.tsx",lineNumber:11,columnNumber:9},this),e.jsxDEV($,{height:220,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/PersonalInfos/index.tsx",lineNumber:12,columnNumber:9},this),e.jsxDEV($,{height:300,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/PersonalInfos/index.tsx",lineNumber:13,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Skeleton/PersonalInfos/index.tsx",lineNumber:10,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Skeleton/PersonalInfos/index.tsx",lineNumber:6,columnNumber:5},this)}const Le="data:image/svg+xml,%3csvg%20width='24'%20height='18'%20viewBox='0%200%2024%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.75%200.75H2.25C1.42157%200.75%200.75%201.42157%200.75%202.25V15.75C0.75%2016.5784%201.42157%2017.25%202.25%2017.25H21.75C22.5784%2017.25%2023.25%2016.5784%2023.25%2015.75V2.25C23.25%201.42157%2022.5784%200.75%2021.75%200.75Z'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M0.75%205.25H23.25'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.25%209.75H13.5'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.25%2012.75H10.5'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Me="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.0699%2020.75C14.0699%2020.75%2015.2899%2023.25%2017.3399%2023.06C21.4999%2022.68%2021.2199%2017.15%2022.7399%2015.2C21.4529%2014.56%2020.0326%2014.2336%2018.5953%2014.2475C17.158%2014.2614%2015.7443%2014.6152%2014.4699%2015.28C12.3199%2016.49%2012.1699%2018.55%2014.0699%2020.75Z'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.9999%2018.22C16.9999%2018.22%2014.2999%2018.55%2012.3799%2023.22'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.51001%2021.75H10.26'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.51001%2023.25V21.75'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.26001%2012L9.51001%2014.25V18.75'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.51001%2014.25L11.76%2012'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.45%2011.2501C17.6551%2010.5177%2017.7594%209.7607%2017.76%209.0001C17.7591%207.49913%2017.3488%206.02685%2016.5732%204.7418C15.7976%203.45676%2014.6861%202.40766%2013.3585%201.70749C12.0308%201.00733%2010.5373%200.682622%209.03879%200.768354C7.54028%200.854086%206.09354%201.347%204.85441%202.19402C3.61528%203.04104%202.63069%204.21006%202.00671%205.57517C1.38272%206.94029%201.14298%208.44976%201.3133%209.94103C1.48362%2011.4323%202.05754%2012.8489%202.97327%2014.0381C3.88899%2015.2274%205.1118%2016.1443%206.51001%2016.6901V18.7501H9.51001'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",me="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.75%2021.75C21.75%2022.1478%2021.592%2022.5294%2021.3107%2022.8107C21.0294%2023.092%2020.6478%2023.25%2020.25%2023.25H3.75C3.35218%2023.25%202.97064%2023.092%202.68934%2022.8107C2.40804%2022.5294%202.25%2022.1478%202.25%2021.75V2.25C2.25%201.85218%202.40804%201.47064%202.68934%201.18934C2.97064%200.908035%203.35218%200.75%203.75%200.75H14.379C14.7765%200.750085%2015.1578%200.907982%2015.439%201.189L21.311%207.061C21.592%207.3422%2021.7499%207.72345%2021.75%208.121V21.75Z'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M21.75%208.25H15.75C15.3522%208.25%2014.9706%208.09196%2014.6893%207.81066C14.408%207.52936%2014.25%207.14782%2014.25%206.75V0.75'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.48596%2012.5C8.53871%2012.4308%207.65276%2012.0056%207.0061%2011.31C6.35945%2010.6144%206%209.69978%206%208.75C6%207.80022%206.35945%206.88564%207.0061%206.19C7.65276%205.49437%208.53871%205.06922%209.48596%205'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5%208H9'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5%2010H9'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2015H18'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.75%2019.5H18'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Re="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.25%209C5.25%2010.1935%205.72411%2011.3381%206.56802%2012.182C7.41193%2013.0259%208.55653%2013.5%209.75%2013.5C10.9435%2013.5%2012.0881%2013.0259%2012.932%2012.182C13.7759%2011.3381%2014.25%2010.1935%2014.25%209C14.25%207.80653%2013.7759%206.66193%2012.932%205.81802C12.0881%204.97411%2010.9435%204.5%209.75%204.5C8.55653%204.5%207.41193%204.97411%206.56802%205.81802C5.72411%206.66193%205.25%207.80653%205.25%209V9Z'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.25%204.756V0.75H11.25V4.757'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.25%200.75H14.25'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.25%200.75H8.25'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M22.031%2021.094C22.031%2021.6658%2021.8038%2022.2142%2021.3995%2022.6185C20.9952%2023.0229%2020.4468%2023.25%2019.875%2023.25C19.3032%2023.25%2018.7548%2023.0229%2018.3505%2022.6185C17.9461%2022.2142%2017.719%2021.6658%2017.719%2021.094C17.719%2019.903%2019.156%2017.5%2019.875%2017.5C20.594%2017.5%2022.031%2019.9%2022.031%2021.094Z'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.647%206.75H17.247C18.4404%206.75%2019.585%207.22411%2020.429%208.06802C21.2729%208.91193%2021.747%2010.0565%2021.747%2011.25V14.25H18V12.75C18%2012.3522%2017.8419%2011.9706%2017.5606%2011.6893C17.2793%2011.408%2016.8978%2011.25%2016.5%2011.25H13.648'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.853%206.75H0.75V11.25H5.853'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M0.75%200.75V17.25'%20stroke='%233D466C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Is={mensu:Le,onConnectCoach:Me,overConsumptionAlert:me,EFacture:me,leakAlert:Re};function Ne({label:n,value:s,border:o,showInfo:l=!1,showButton:i=!0,handleInfoHide:t,handleInfoShow:r,context:d="edit",className:m,service:c,to:u,onClick:p}){const{t:f}=y(),N=ye(),w=W("table-item py-2 border-top border-1",m,{"border-bottom":o}),h=ze({marginLeft:N?0:4,".btn-text, .sz-icon-line":{padding:0,height:"1rem",fontSize:"1rem",lineHeight:1,color:"var(--gray-600)"}});return e.jsxDEV("div",{className:w,children:[e.jsxDEV("div",{className:"d-flex align-items-center",children:[c&&e.jsxDEV("img",{src:Is[c],className:"services-item-icon mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:87,columnNumber:11},this),e.jsxDEV(a.SzTypographie,{variant:"caption",size:"M",weight:"regular",className:"text-dark mb-0",children:n},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:92,columnNumber:9},this),l&&e.jsxDEV(a.SzButton,{className:h,variant:"text",icon:"information-circle",onMouseEnter:r,onMouseLeave:t,onFocus:r,onBlur:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:85,columnNumber:7},this),e.jsxDEV(a.SzTypographie,{variant:"body",size:"S",weight:"medium",className:"mb-0",children:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:112,columnNumber:7},this),i&&u&&e.jsxDEV(ae,{className:"px-0 ml-lg-auto",to:u,onClick:p,children:e.jsxDEV(a.SzTypographie,{variant:"caption",size:"M",weight:"regular",children:f("personalInfos.button",{context:d})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:117,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:84,columnNumber:5},this)}const ue=({type:n,subtitle:s,content:o,hideButton:l})=>{const{t:i}=y(),{track:t}=U();if(n==="login"){const[c,u]=V.useState(!1),p=()=>{u(!0)},f=()=>{u(!1)},N=()=>t("PERSONAL_INFO_1",{champ_infos_perso:"email"}),w=()=>t("PERSONAL_INFO_1",{champ_infos_perso:"mot de passe"});return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ne,{label:i("personalInfos.labels.login"),value:o,showInfo:!0,showButton:!l,handleInfoHide:f,handleInfoShow:p,to:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"email"}),onClick:N},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:152,columnNumber:9},void 0),e.jsxDEV(Ne,{label:i("personalInfos.labels.password"),value:"**************",showButton:!l,border:!0,to:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"password"}),onClick:w},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:164,columnNumber:9},void 0),e.jsxDEV(As,{show:c},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:174,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:151,columnNumber:7},void 0)}const{monthlyPaymentCode:r}=o,d=j.PAYMENT.MY_PAYMENT_METHOD+"?payment_mode=mensualisation",m=Object.entries(o);return e.jsxDEV(e.Fragment,{children:[s&&e.jsxDEV(a.SzTypographie,{variant:"H5",size:"L",weight:"bold",className:"text-uppercase mb-3",children:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:187,columnNumber:9},void 0),n==="contact"&&r==="ELIGIBLE"&&e.jsxDEV("div",{className:"full-width-item",children:e.jsxDEV(we,{isGoodToKnow:!1,borderRadius:"rounded-1",smallIconContainer:!0,iconSize:21,fullWidth:!0,children:i("personalInfos.mensuInfo",{url:d})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:199,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:198,columnNumber:9},void 0),m.map(([c,u],p)=>{const f=["phone","billingAddress"].includes(c),N=p===m.length-1,w=W({"mb-3 mb-lg-4":f&&N}),b=["mobilePhone","phone","billingAddress","ibanHolder","iban"].includes(c)&&u==="KO",x=c==="mobilePhone"&&u===null,v=u&&u!==null,S=()=>b?i("personalInfos.labels.koData"):v?c==="reference"&&u!==i("personalInfos.labels.koData")?(u==null?void 0:u.slice(0,2))+"-"+(u==null?void 0:u.slice(2)):u:i(`personalInfos.labels.${c}`,{context:"no_value"}),C={phone:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"phone"}),mobilePhone:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"mobilePhone"}),name:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"contract"}),holder:null,servedAddress:null,reference:null,billingAddress:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"adresse"}),ibanHolder:j.ACCOUNT_IBAN,iban:j.ACCOUNT_IBAN},A={phone:"téléphone fixe",mobilePhone:"téléphone mobile",name:"nom du contrat",billingAddress:"adresse de facturation"};if(c!=="monthlyPaymentCode"&&c!=="roleIbanStatus"){let k=()=>{};return c in A&&(k=()=>{t("PERSONAL_INFO_1",{champ_infos_perso:A[c]})}),e.jsxDEV(V.Fragment,{children:[e.jsxDEV(Ne,{label:i(`personalInfos.labels.${c}`),value:S(),showButton:l?!l:b?!1:!!C[c],className:w,border:N,context:u?"edit":"add",to:C[c],onClick:k},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:290,columnNumber:15},void 0),x&&e.jsxDEV("div",{className:"full-width-item",children:e.jsxDEV(fs,{variant:"warning",fontSize:"S",children:i("personalInfos.mobilePhoneWarning")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:304,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:303,columnNumber:17},void 0)]},`table-item-${p}`,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:289,columnNumber:13},void 0)}else return!1})]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:185,columnNumber:5},void 0)};function As({show:n=!1}){return n?e.jsxDEV("div",{className:"full-width-item",children:e.jsxDEV(a.SzTypographie,{variant:"caption",weight:"regular",size:"M",className:"text-dark",children:e.jsxDEV(te,{i18nKey:"personalInfos.emailInfo",components:{ul:e.jsxDEV(a.SzTypographie,{tag:"ul"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:335,columnNumber:17},this),li:e.jsxDEV(a.SzTypographie,{tag:"li"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:336,columnNumber:17},this)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:332,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:326,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/DefaultCardContent.tsx",lineNumber:325,columnNumber:5},this):null}function Be(n){if(n.isFrenchAddress==="KO")return"KO";if(n.isFrenchAddress===null)return null;if(n.isFrenchAddress==="true"){const{streetAddress:s,additionalAddress:o,zipCode:l,city:i}=n;return R({elem:s,comma:!0})+R({elem:o,comma:!0})+R({elem:l})+i}if(n.isFrenchAddress==="false"){const{streetName:s,additionalAddress:o,foreignAdditionalAddress:l,country:i}=n;return[s,o,l,i].join(", ").replace(/(, ){2,}/g,", ")}return""}function ks({hideButton:n,...s}){const{t:o}=y(),l=Be(s),i={mobilePhone:s.mobilePhone,phone:s.phone},t={billingAddress:l},r={monthlyPaymentCode:s.monthlyPaymentCode,roleIbanStatus:s.roleIbanStatus};return r.roleIbanStatus&&(r.ibanHolder=s.ibanHolder,r.iban=s.iban),e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ue,{type:"contact",subtitle:o("personalInfos.section.subtitle.phone"),content:i,hideButton:n},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ContactDetailsContent.tsx",lineNumber:39,columnNumber:7},this),e.jsxDEV(ue,{type:"contact",subtitle:o("personalInfos.section.subtitle.billing"),content:t,hideButton:n},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ContactDetailsContent.tsx",lineNumber:45,columnNumber:7},this),(r.monthlyPaymentCode==="ELIGIBLE"||r.roleIbanStatus===!0)&&e.jsxDEV(ue,{type:"contact",subtitle:o("personalInfos.section.subtitle.bankInfos"),content:r,hideButton:n},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ContactDetailsContent.tsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ContactDetailsContent.tsx",lineNumber:38,columnNumber:5},this)}const Ue=n=>({mensu:Le,smartcoach:Me,alerte_conso:me,efacture:me,alerte_fuite:Re})[n]||void 0,_s=({label:n,className:s})=>{const{t:o}=y(),i={[Ie]:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"on-connect"}),[Ae]:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"e-facture"}),[ke]:D(j.MY_ALERTS),[_e]:D(j.MY_ALERTS),[Pe]:D(j.TIMELINE_AND_OPERATIONS)}[n],{mutate:t,isLoading:r}=Ns({shouldRedirect:!0,withToken:!1});return e.jsxDEV("div",{className:s,children:[e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV("img",{src:Ue(n),className:"services-item-icon mr-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:57,columnNumber:9},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",size:"M",weight:"bold",className:"mb-0",children:o(`personalInfos.labels.${n}`)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:61,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:56,columnNumber:7},void 0),n==="smartcoach"?e.jsxDEV(ae,{variant:"text",className:"ml-lg-auto px-0",onClick:()=>t(),loader:r,alignIcon:"right",children:e.jsxDEV(a.SzTypographie,{variant:"caption",size:"M",weight:"regular",children:o("personalInfos.button",{context:"parameter"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:74,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:67,columnNumber:9},void 0):e.jsxDEV(ae,{to:i,className:"ml-lg-auto px-0",children:e.jsxDEV(a.SzTypographie,{variant:"caption",size:"M",weight:"regular",children:o("personalInfos.button",{context:"know_more"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:82,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:81,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:55,columnNumber:5},void 0)},Ps=({label:n,className:s})=>{const{t:o}=y(),i={[Ie]:D(j.ACCOUNT_CONSUMPTION_TR),[Ae]:D(j.ACCOUNT_INVOICES,{modal:"modale-e-facture"}),[ke]:D(j.ALERT_PARAMS),[_e]:D(j.ALERT_PARAMS),[Pe]:D(j.PAYMENT.MY_PAYMENT_METHOD+"?payment_mode=mensualisation")}[n];return e.jsxDEV("div",{className:s,children:e.jsxDEV("div",{className:"d-flex flex-column flex-lg-row align-items-lg-center rounded-2 bg-gray-100 p-3 py-lg-3 px-lg-4",children:[e.jsxDEV("div",{className:"col-12 px-0 col-lg-10 d-flex flex-column align-items-start",children:[e.jsxDEV("div",{className:"d-flex flex-column flex-lg-row align-items-lg-center mb-2",children:[e.jsxDEV("img",{alt:"",src:Ue(n),className:"services-item-icon mr-lg-3 mb-2 mb-lg-0"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:114,columnNumber:13},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",size:"M",weight:"bold",className:"mb-0",children:o(`personalInfos.labels.${n}`)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:119,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:113,columnNumber:11},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",size:"M",weight:"regular",className:"text-dark",children:e.jsxDEV(te,{i18nKey:`personalInfos.promo.${n}`,components:{bold:e.jsxDEV(a.SzTypographie,{weight:"bold",tag:"span"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:137,columnNumber:23},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:134,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:128,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:112,columnNumber:9},void 0),e.jsxDEV("div",{className:"px-0 ml-lg-auto",children:e.jsxDEV(ae,{variant:"contained",className:"rounded-1",to:i,children:o("personalInfos.button_subscribe")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:143,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:142,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:111,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:110,columnNumber:5},void 0)},Fs=n=>{const{t:s}=y(),o=[],l=[];for(const[t,r]of Object.entries(n))r==="SOUSCRIT"?o.push(t):r==="ELIGIBLE"&&l.push(t);const i=o.length>0?"":"only";return e.jsxDEV(e.Fragment,{children:[o.length>0&&e.jsxDEV(a.SzTypographie,{variant:"body",size:"L",weight:"regular",children:s("personalInfos.subscribedServices")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:169,columnNumber:9},void 0),o.map((t,r)=>{const d=W("service-item py-2 border-top border-1 d-flex flex-column flex-lg-row align-items-baseline align-items-lg-center",{"border-bottom":r===o.length-1});return e.jsxDEV(_s,{label:t,className:d},r,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:181,columnNumber:11},void 0)}),l.length>0&&e.jsxDEV(a.SzTypographie,{variant:"body",size:"L",weight:"regular",className:"mt-4",children:s("personalInfos.unsubscribedServices",{context:i})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:189,columnNumber:9},void 0),l.map((t,r)=>{const d=W({"mb-3":r<l.length-1});return e.jsxDEV(Ps,{label:t,className:d},r,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:206,columnNumber:11},void 0)})]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/ServicesContent.tsx",lineNumber:167,columnNumber:5},void 0)};function Os(){var P,E;const{t:n}=y(),{track:s}=U(),o=n("personalInfos.labels.koData"),l={login:o,contract:{name:o,holder:o,servedAddress:o,reference:o},contact:{billingAddress:null,isFrenchAddress:"KO",mobilePhone:o,phone:o,monthlyPaymentCode:"NON_ELIGIBLE",roleIbanStatus:!0,ibanHolder:o,iban:o}},{data:i,isLoading:t,isError:r}=Vs();let{content:d={}}=(i==null?void 0:i.data)||{};const{data:m,isLoading:c,isError:u}=ts(),{content:p={}}=(m==null?void 0:m.data)||{},{isLoading:f,isError:N,data:w}=L("getInfosPersoConsentQuery"),h={mensu:((P=d==null?void 0:d.contact)==null?void 0:P.monthlyPaymentCode)??null,efacture:null,smartcoach:null,alerte_conso:null,alerte_fuite:null};if(Object.keys(p).length>0)for(const[g,I]of Object.entries(p))h[g]=I;const b=((E=w==null?void 0:w.data)==null?void 0:E.message)===Xe,x=!N&&!b,v=g=>g[1]==="SOUSCRIT"||g[1]==="ELIGIBLE",S=Object.entries(h).some(v),C={...d},A=[n("personalInfos.section.title.login"),n("personalInfos.section.title.contract"),n("personalInfos.section.title.contact")],k=Object.keys(d).map(g=>n(`personalInfos.section.title.${g}`));S&&(C.services=h,k.push(n("personalInfos.section.title.services"))),x&&(C.consents={},k.push(n("personalInfos.section.title.consents")));const O=D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"consents"});return e.jsxDEV(es,{links:i?k:A,isLoading:t||c||f,Skeleton:ys,children:Object.entries(r?l:C).map(([g,I],_,T)=>{const M=`heading-${_}`,z=g==="consents",ee=_===T.length-1,fe=W("info-card",{"d-flex flex-column flex-lg-row align-items-baseline justify-content-between":z}),ie=W({"mb-0":z,"mb-3 mb-lg-4":!z}),le=e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:ie,children:i?k[_]:A[_]},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:129,columnNumber:13},this),pe=()=>s("PERSONAL_INFO_1",{champ_infos_perso:"préférences de communication"});return e.jsxDEV(ss,{id:M,className:fe,isLastElement:ee,children:[le,(g==="login"||g==="contract")&&e.jsxDEV(ue,{type:g,content:I,hideButton:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:153,columnNumber:17},this),g==="contact"&&e.jsxDEV(ks,{hideButton:r,...I},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:160,columnNumber:17},this),g==="services"&&!u&&e.jsxDEV(Fs,{...I},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:164,columnNumber:17},this),z&&x&&e.jsxDEV("div",{children:e.jsxDEV(ae,{className:"px-0 ml-lg-auto",to:O,onClick:pe,children:e.jsxDEV(a.SzTypographie,{variant:"caption",size:"M",weight:"regular",children:n("personalInfos.button_edit")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:173,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:168,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:167,columnNumber:17},this)]},M,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:145,columnNumber:13},this)})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/sections/index.tsx",lineNumber:107,columnNumber:5},this)}const zs="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_10282_82700)'%3e%3cpath%20d='M9.5%2011H9C8.73478%2011%208.48043%2010.8946%208.29289%2010.7071C8.10536%2010.5196%208%2010.2652%208%2010V7.5C8%207.36739%207.94732%207.24022%207.85355%207.14645C7.75978%207.05268%207.63261%207%207.5%207H7'%20stroke='%236C757D'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.75%204.5C7.70055%204.5%207.65222%204.51466%207.61111%204.54213C7.57%204.5696%207.53795%204.60865%207.51903%204.65433C7.50011%204.70001%207.49516%204.75028%207.5048%204.79877C7.51445%204.84727%207.53826%204.89181%207.57322%204.92678C7.60819%204.96174%207.65273%204.98555%207.70123%204.9952C7.74972%205.00484%207.79999%204.99989%207.84567%204.98097C7.89135%204.96205%207.9304%204.93%207.95787%204.88889C7.98534%204.84778%208%204.79945%208%204.75C8%204.6837%207.97366%204.62011%207.92678%204.57322C7.87989%204.52634%207.8163%204.5%207.75%204.5Z'%20stroke='%236C757D'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M0.5%208C0.5%209.98912%201.29018%2011.8968%202.6967%2013.3033C4.10322%2014.7098%206.01088%2015.5%208%2015.5C9.98912%2015.5%2011.8968%2014.7098%2013.3033%2013.3033C14.7098%2011.8968%2015.5%209.98912%2015.5%208C15.5%206.01088%2014.7098%204.10322%2013.3033%202.6967C11.8968%201.29018%209.98912%200.5%208%200.5C6.01088%200.5%204.10322%201.29018%202.6967%202.6967C1.29018%204.10322%200.5%206.01088%200.5%208V8Z'%20stroke='%236C757D'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_10282_82700'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function Ts(){const{t:n}=y(),{handleBlur:s,handleChange:o,values:l,touched:i,errors:t}=re();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV(a.SzInput,{variant:"outlined",name:"email",id:"email",autocomplete:"off",onChange:o,onBlur:s,value:l.email,label:n("personalInfos.form.email.label_email"),onPaste:oe,"aria-required":"true",placeholder:n("personalInfos.form.email.placeholder")},void 0,!1,{fileName:"/usr/var/www/assets/js/form/EmailFields.tsx",lineNumber:16,columnNumber:9},this),e.jsxDEV(F,{field:"email",customDisplay:!!(i.email&&t.email)},void 0,!1,{fileName:"/usr/var/www/assets/js/form/EmailFields.tsx",lineNumber:29,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/form/EmailFields.tsx",lineNumber:15,columnNumber:7},this),e.jsxDEV(a.SzInput,{variant:"outlined",name:"repeated_email",id:"repeated_email",autocomplete:"off",onChange:o,onBlur:s,value:l.repeated_email,label:n("personalInfos.form.email.label_repeated"),onPaste:oe,"aria-required":"true",placeholder:n("personalInfos.form.email.placeholder")},void 0,!1,{fileName:"/usr/var/www/assets/js/form/EmailFields.tsx",lineNumber:34,columnNumber:7},this),e.jsxDEV(F,{field:"repeated_email",customDisplay:!!(i.repeated_email&&t.repeated_email)},void 0,!1,{fileName:"/usr/var/www/assets/js/form/EmailFields.tsx",lineNumber:47,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/form/EmailFields.tsx",lineNumber:14,columnNumber:5},this)}function he(){const{refetch:n}=L("getCustomerInfos");return be(s=>Y.post(Q.PERSONAL_INFOS.USER_INFOS,s),{onSuccess:()=>{n()}})}const Ls=({handleClose:n})=>{const{t:s}=y(),{track:o}=U(),{transform:l}=J(),{data:i}=L("getCustomerInfos"),t=he(),{isLoading:r,isSuccess:d,isError:m,variables:c,mutate:u}=t,{login:p=""}=(i==null?void 0:i.data.content)||{},{isIntranet:f}=window.tsme_data,N={label:s("save"),align:"right",loader:r,disabled:f||r},w={enabled:!0,label:s("cancel"),align:"left",onClick:n},h={email:"",repeated_email:""},b=v=>{u(v)},x=d?c==null?void 0:c.email:"";if(d||m){const v=()=>o("PERSONAL_INFO_2",{champ_infos_perso:"email"}),S=()=>o("PERSONAL_INFO_5",{champ_infos_perso:"email"});return e.jsxDEV(q,{type:"email",updatedValue:x,success:d,trackingSuccess:v,trackingError:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:61,columnNumber:7},void 0)}return e.jsxDEV("div",{children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s("personalInfos.form.email.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:73,columnNumber:7},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",className:"text-dark mb-3 mb-lg-4",children:e.jsxDEV(K,{content:s("personalInfos.form.email.reminder",{login:p}),transform:l},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:81,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:76,columnNumber:7},void 0),e.jsxDEV(X,{initialValues:h,onSubmit:b,validationSchema:rs,validateOnChange:!1,children:({handleSubmit:v})=>e.jsxDEV("form",{onSubmit:v,autoComplete:"off","data-cy":"email-form",className:"personal-info-email-form",children:[e.jsxDEV("div",{className:"border-bottom border-1",children:e.jsxDEV("div",{className:"col-12 col-lg-7 px-0 mb-4",children:e.jsxDEV(Ts,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:104,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:103,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:102,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV(a.SzTypographie,{variant:"caption",size:"M",weight:"light",className:"text-dark",children:s("personalInfos.form.email.info_first")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:108,columnNumber:17},void 0),e.jsxDEV(a.SzTypographie,{variant:"caption",size:"M",weight:"light",className:"text-dark",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV("img",{src:zs,alt:"",className:"info-icon"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:123,columnNumber:21},void 0),e.jsxDEV(te,{i18nKey:"personalInfos.form.email.info",components:{ul:e.jsxDEV(a.SzTypographie,{tag:"ul",className:"mb-0"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:127,columnNumber:29},void 0),li:e.jsxDEV(a.SzTypographie,{tag:"li"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:128,columnNumber:29},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:124,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:122,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:107,columnNumber:15},void 0),e.jsxDEV(H,{next:N,previous:w},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:134,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:96,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:88,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EmailContent.tsx",lineNumber:72,columnNumber:5},void 0)},Ms=({handleClose:n})=>{const{t:s}=y(),{track:o}=U(),{transform:l}=J(),[i,t]=V.useState(!1),{data:r}=L("getCustomerInfos"),d=he(),{isLoading:m,isSuccess:c,isError:u,mutate:p}=d,{login:f=""}=(r==null?void 0:r.data.content)||{},N=V.useRef(null),w={showPasswordLabel:s("global.form.password",{context:"show"}),hidePasswordLabel:s("global.form.password",{context:"hide"})},{isIntranet:h}=window.tsme_data,b={loader:m,label:s("save"),align:"right",disabled:h||m},x={enabled:!0,label:s("cancel"),align:"left",onClick:n},v={old_password:"",password:"",repeated_password:""},S=C=>{p(C)};if(c||u){const C=()=>o("PERSONAL_INFO_2",{champ_infos_perso:"mot de passe"}),A=()=>o("PERSONAL_INFO_5",{champ_infos_perso:"mot de passe"});return e.jsxDEV(q,{type:"password",success:c,trackingSuccess:C,trackingError:A},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:70,columnNumber:12},void 0)}return e.jsxDEV("div",{children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s("personalInfos.form.password.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:75,columnNumber:7},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",className:"text-dark mb-3 mb-lg-4",children:e.jsxDEV(K,{content:s("personalInfos.form.password.reminder",{login:f}),transform:l},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:83,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:78,columnNumber:7},void 0),e.jsxDEV(X,{initialValues:v,onSubmit:S,validationSchema:is,validateOnChange:!1,children:({values:C,errors:A,touched:k,handleChange:O,handleBlur:P,handleSubmit:E})=>{const g=bs(C.password),I=Object.values(g).every(z=>z),_=hs(g),T=()=>{I||t(!0)},M=z=>{t(!1),P(z)};return V.useEffect(()=>{I?t(!1):document.activeElement===N.current&&t(!0)},[g]),e.jsxDEV("form",{onSubmit:E,autoComplete:"off","data-cy":"password-form",children:[e.jsxDEV("div",{className:"col-12 col-lg-7 px-0 mb-4",children:[e.jsxDEV(a.SzInput,{variant:"outlined",name:"old_password",id:"old_password",autocomplete:"off",type:"password",onBlur:P,onChange:O,value:C.old_password,label:s("personalInfos.form.password.label_old_password"),showPassword:!0,onPaste:oe,aria:w,placeholder:s("personalInfos.form.password.placeholder")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:138,columnNumber:17},void 0),e.jsxDEV(F,{field:"old_password",customDisplay:k.old_password&&A.old_password},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:153,columnNumber:17},void 0),e.jsxDEV("div",{className:"position-relative",children:[e.jsxDEV(a.SzInput,{ref:N,variant:"outlined",name:"password",id:"password",autocomplete:"new-password",type:"password",onChange:O,onBlur:M,onFocus:T,value:C.password,label:s("personalInfos.form.password.label_password"),showPassword:!0,onPaste:oe,"aria-describedby":"password-rules","aria-required":"true",aria:w,placeholder:s("personalInfos.form.password.placeholder")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:158,columnNumber:19},void 0),e.jsxDEV(vs,{password:C.password,className:"position-absolute bg-blue-03 rounded-2",show:i},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:177,columnNumber:19},void 0),e.jsxDEV(F,{field:"password",messageAccess:_,customDisplay:k.password&&A.password},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:182,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:157,columnNumber:17},void 0),e.jsxDEV(a.SzInput,{variant:"outlined",name:"repeated_password",id:"repeated_password",autocomplete:"off",type:"password",onBlur:P,onChange:O,value:C.repeated_password,label:s("personalInfos.form.password.label_repeated_password"),showPassword:!0,onPaste:oe,aria:w,placeholder:s("personalInfos.form.password.placeholder")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:188,columnNumber:17},void 0),e.jsxDEV(F,{field:"repeated_password",customDisplay:k.repeated_password&&A.repeated_password},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:205,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:137,columnNumber:15},void 0),e.jsxDEV(H,{next:b,previous:x},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:212,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:132,columnNumber:13},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:90,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PasswordContent.tsx",lineNumber:74,columnNumber:5},void 0)},Rs=({handleClose:n})=>{var P;const{t:s}=y(),{track:o}=U(),{transform:l}=J(),{isIntranet:i}=window.tsme_data,{data:t}=L("getCustomerInfos"),r=he(),{isLoading:d,isSuccess:m,isError:c,mutate:u,variables:p}=r,{name:f,holder:N,servedAddress:w,reference:h}=((P=t==null?void 0:t.data)==null?void 0:P.content.contract)||{},b=f===null,x=b?"add":"edit",v={name:f,contractOwner:N,siteAddress:w,fullReference:h},S={label:s("save"),align:"right",loader:d,disabled:i||d},C={enabled:!0,label:s("cancel"),align:"left",onClick:n},A={contract_name:""},k=E=>{u(E)},O=m?p==null?void 0:p.contract_name:"";if(m||c){const E=()=>o("PERSONAL_INFO_2",{champ_infos_perso:"nom du contrat"}),g=()=>o("PERSONAL_INFO_5",{champ_infos_perso:"nom du contrat"});return e.jsxDEV(q,{type:"contract",updatedValue:O,success:m,context:x,trackingSuccess:E,trackingError:g},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:74,columnNumber:7},void 0)}return e.jsxDEV("div",{children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s("personalInfos.form.contract.title",{context:x})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:87,columnNumber:7},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",className:"text-dark mb-3 mb-lg-4",children:!b&&e.jsxDEV(K,{content:s("personalInfos.form.contract.reminder",{name:f}),transform:l},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:96,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:90,columnNumber:7},void 0),e.jsxDEV(X,{initialValues:A,onSubmit:k,validationSchema:ls,validateOnChange:!1,children:({values:E,errors:g,touched:I,handleChange:_,handleBlur:T,handleSubmit:M})=>e.jsxDEV("form",{onSubmit:M,autoComplete:"off","data-cy":"contract-form",children:[e.jsxDEV("div",{className:"col-12 col-lg-7 px-0 mb-4",children:[e.jsxDEV(a.SzInput,{variant:"outlined",name:"contract_name",id:"contract_name",autocomplete:"off",onChange:_,onBlur:T,value:E.contract_name,label:s("personalInfos.form.contract.label"),"aria-required":"true",placeholder:s("personalInfos.form.contract.placeholder")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:125,columnNumber:17},void 0),e.jsxDEV(F,{field:"contract_name",customDisplay:I.contract_name&&g.contract_name},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:137,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:124,columnNumber:15},void 0),e.jsxDEV("div",{className:"col-12 col-lg-7 px-0",children:e.jsxDEV(gs,{contractBlockInfos:v},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:143,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:142,columnNumber:15},void 0),e.jsxDEV(H,{next:S,previous:C},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:145,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:119,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:104,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/ContractContent.tsx",lineNumber:86,columnNumber:5},void 0)};function He(){const{refetch:n}=L("getCustomerInfos");return be(s=>Y.post(Q.PERSONAL_INFOS.CONTRACT_INFOS,s),{onSuccess:()=>{n()}})}const Bs="REMOVED",De=({handleClose:n})=>{var ge,xe,Ce,je;const{t:s}=y(),{track:o}=U(),{transform:l}=J(),{pathname:i}=window.location,t=i.split("/").pop(),r=t==="mobilePhone",[d,m]=V.useState(!1),[c,u]=V.useState(!1),[p,f]=V.useState(!1),{data:N}=L("getCustomerInfos"),{mobilePhone:w,phone:h}=((ge=N==null?void 0:N.data)==null?void 0:ge.content.contact)||{},b=He(),{isLoading:x,isSuccess:v,isError:S,variables:C,mutate:A}=b,{link:k}=(je=(Ce=(xe=window.tsme_data)==null?void 0:xe.footer)==null?void 0:Ce.links_bottom)==null?void 0:je.privacy_policy,O=r?w===null:h===null,P=O?"add":"edit",{isIntranet:E}=window.tsme_data,g={loader:x,label:s("save"),align:"right",disabled:E||x},I=()=>{A({phone:Bs,mobile_phone:void 0,reference:void 0}),u(!1),f(!0)},_={loader:x,label:s("confirm"),align:"right",disabled:E||x,onClick:I},T={enabled:!0,label:s("cancel"),align:"left",onClick:n},M={enabled:!0,label:s("cancel"),align:"left",onClick:()=>{u(!1)}},z={[r?"mobile_phone":"phone"]:""},ee=r?ds:us,fe=G=>{var se,ne;const Z={...G,mobile_phone:(se=G.mobile_phone)==null?void 0:se.replace(/\s+/g,""),phone:(ne=G.phone)==null?void 0:ne.replace(/\s+/g,"")};A(Z)},ie=()=>{m(!1)},le=ze({marginLeft:4,".btn-text, .sz-icon-line":{padding:0,height:"1rem",fontSize:"1.5rem",lineHeight:1}}),pe=r?C==null?void 0:C.mobile_phone:C==null?void 0:C.phone,$e=()=>{u(!0)};if(c)return e.jsxDEV("div",{children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s(`personalInfos.form.${t}.validation.title_edit`)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:140,columnNumber:9},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",className:"text-dark mb-3 mb-lg-4",children:s(`personalInfos.form.${t}.validation.body_erase`)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:143,columnNumber:9},void 0),e.jsxDEV(H,{next:_,previous:M},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:150,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:139,columnNumber:7},void 0);if(v||S){const G=()=>o("PERSONAL_INFO_2",{champ_infos_perso:r?"téléphone mobile":"téléphone fixe"}),Z=()=>o("PERSONAL_INFO_5",{champ_infos_perso:r?"téléphone mobile":"téléphone fixe"});return e.jsxDEV(q,{type:"phone",context:p&&v?"erase_ok":P,updatedValue:pe,success:v,trackingSuccess:G,trackingError:Z},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:166,columnNumber:7},void 0)}return e.jsxDEV("div",{children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s(`personalInfos.form.${t}.title`,{context:P})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:178,columnNumber:7},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",className:"text-dark mb-3 mb-lg-4",children:e.jsxDEV(K,{content:s(`personalInfos.form.${t}.reminder`,{context:P,mobilePhone:w??"",phone:h??""}),transform:l},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:188,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:183,columnNumber:7},void 0),e.jsxDEV(X,{initialValues:z,onSubmit:fe,validationSchema:ee,validateOnChange:!1,children:({values:G,errors:Z,touched:se,handleChange:ne,handleBlur:Ee,handleSubmit:Ye})=>e.jsxDEV("form",{onSubmit:Ye,autoComplete:"off","data-cy":"phone-form",children:[r?e.jsxDEV("div",{className:"col-12 col-lg-7 mb-3 px-0 input-info",children:[e.jsxDEV("div",{className:"d-flex align-items-end",children:[e.jsxDEV(a.SzInput,{id:"mobile_phone",name:"mobile_phone",label:s("personalInfos.form.mobilePhone.label"),placeholder:s("personalInfos.form.mobilePhone.placeholder"),variant:"outlined",value:G.mobile_phone,onChange:ne,onBlur:Ee},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:220,columnNumber:21},void 0),!O&&e.jsxDEV(a.SzButton,{className:le,variant:"text",icon:"information-circle",onBlur:ie,onClick:()=>m(!d)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:233,columnNumber:23},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:219,columnNumber:19},void 0),e.jsxDEV(F,{field:"mobile_phone",customDisplay:se.mobile_phone&&Z.mobile_phone,className:"mt-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:242,columnNumber:19},void 0),d&&e.jsxDEV(a.SzTypographie,{variant:"caption",weight:"regular",size:"M",className:"text-dark mt-2",children:e.jsxDEV(K,{content:s("personalInfos.form.mobilePhone.info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:254,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:248,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:218,columnNumber:17},void 0):e.jsxDEV("div",{className:"col-12 col-lg-7 mb-3 px-0 input-info",children:[e.jsxDEV("div",{className:"d-flex align-items-end",children:[e.jsxDEV(a.SzInput,{id:"phone",name:"phone",label:s("personalInfos.form.phone.label"),placeholder:s("personalInfos.form.phone.placeholder"),variant:"outlined",value:G.phone,onChange:ne,onBlur:Ee},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:263,columnNumber:21},void 0),e.jsxDEV(a.SzButton,{className:le,variant:"text",icon:"information-circle",onBlur:ie,onClick:()=>m(!d)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:273,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:262,columnNumber:19},void 0),e.jsxDEV(F,{field:"phone",customDisplay:se.phone&&Z.phone,className:"mt-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:281,columnNumber:19},void 0),d&&e.jsxDEV(a.SzTypographie,{variant:"caption",weight:"regular",size:"M",className:"text-dark mt-2",children:e.jsxDEV(K,{content:s("personalInfos.form.phone.info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:293,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:287,columnNumber:21},void 0),h&&e.jsxDEV("div",{children:e.jsxDEV(a.SzButton,{variant:"text",className:"pl-0",onClick:$e,children:e.jsxDEV(a.SzTypographie,{variant:"caption",weight:"regular",size:"M",className:"text-dark",children:s("personalInfos.form.phone.erase_phone")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:299,columnNumber:25},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:298,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:297,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:261,columnNumber:17},void 0),e.jsxDEV(a.SzTypographie,{variant:"caption",weight:"regular",size:"M",children:e.jsxDEV(te,{i18nKey:"loginReset.login.step4.form.mobilePhone.privacy_policy",components:{redirect:e.jsxDEV(Qe,{className:"font-family-medium",decorate:!0,target:"_blank",to:k},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:319,columnNumber:23},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:313,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:312,columnNumber:15},void 0),r&&O&&e.jsxDEV("div",{className:"mt-4",children:e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",className:"text-expert-blue",tag:"span",children:e.jsxDEV(we,{isGoodToKnow:!1,borderRadius:"rounded-1",smallIconContainer:!0,iconSize:21,fullWidth:!0,smallPadding:!0,children:s("personalInfos.form.mobilePhone.info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:337,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:331,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:330,columnNumber:17},void 0),e.jsxDEV(H,{next:g,previous:T},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:350,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:212,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:197,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/PhoneContent.tsx",lineNumber:177,columnNumber:5},void 0)},ve=cs.createContext({});function Us(){const[n,s]=V.useState({}),[o,l]=V.useState({});return e.jsxDEV(ve.Provider,{value:{city:n,setCity:s,street:o,setStreet:l},children:[e.jsxDEV(Hs,{},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:19,columnNumber:7},this),e.jsxDEV(Gs,{},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:20,columnNumber:7},this),e.jsxDEV(Ks,{},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:21,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:18,columnNumber:5},this)}function Hs(){const{t:n}=y(),{setCity:s,city:o,setStreet:l}=V.useContext(ve),[i,t]=V.useState(!1),[r,d]=V.useState(!1),{values:m,errors:c,setFieldValue:u,setValues:p,setFieldError:f,setFieldTouched:N,touched:w}=re();V.useEffect(()=>{i&&w.city&&m.city.length===0&&(N("city",!0,!0),f("city","mandatory_field"))},[w.city,m.city]);const h=v=>{const{locality:S,zipcode:C}=v;s(v),l({}),d(!1),p({...m,city:S,zipCode:C},!0),t(!1),f("streetName","")},b=({target:v})=>{2<v.value.length&&!r&&d(!0),t(!0),s({text:v.value}),f("streetName",""),l({text:""})},x=()=>{i&&(u("city","",!0),s({text:""}),N("city",!0,!0),f("city","mandatory_field")),d(!1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("label",{className:"mb-2",htmlFor:"searchInput-town",children:e.jsxDEV(a.SzTypographie,{weight:"regular",className:"text-primary-dark",tag:"span",children:n("billingInfo.address.addressCap.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:82,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:81,columnNumber:7},this),e.jsxDEV(Se,{type:"town",name:"city",value:o.text,placeholder:n("diagAss.step.step6.edit.city.placeholder"),onChange:b,onClick:h,onClickAway:x,isSearching:r,onBlur:()=>N("city")},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:90,columnNumber:7},this),e.jsxDEV(F,{field:"city",customDisplay:w.city&&(!!c.city||!!c.zipCode)},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:101,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:80,columnNumber:5},this)}function Gs(){const{t:n}=y(),[s,o]=V.useState(!1),[l,i]=V.useState(!1),{city:t,street:r,setStreet:d}=V.useContext(ve),{values:m,errors:c,touched:u,setFieldError:p,setFieldTouched:f,setValues:N,setFieldValue:w}=re(),h={locality:t==null?void 0:t.locality,localityId:t==null?void 0:t.inseecode,postalCode:t==null?void 0:t.zipcode};V.useEffect(()=>{l&&u.streetName&&m.streetName.length===0&&p("streetName","mandatory_field")},[u.streetName,m.streetName]);const b=S=>{d(S),N({...m,...ps(S)},!0),i(!1),o(!1)},x=({target:S})=>{p("streetName",""),S.value.length>2&&!s&&o(!0),i(!0),d({text:S.value})},v=()=>{l&&(w("streetName","",!0),d({text:""}),p("streetName","mandatory_field")),o(!1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("label",{className:"mb-2",htmlFor:"searchInput-town",children:e.jsxDEV(a.SzTypographie,{weight:"regular",className:"text-primary-dark",tag:"span",children:n("diagAss.step.step6.edit.address.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:174,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:173,columnNumber:7},this),e.jsxDEV(Se,{type:"street",name:"address",value:r.text,placeholder:n("diagAss.step.step6.edit.address.placeholder"),onChange:x,onClick:b,onClickAway:v,isSearching:s,address:h,disabled:!m.city.length,onBlur:()=>f("streetName")},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:182,columnNumber:7},this),e.jsxDEV(F,{field:"streetName",customDisplay:m.city.length>0&&u.streetName&&!!c.streetName},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:195,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:172,columnNumber:5},this)}function Ks(){const{t:n}=y(),{values:s,errors:o,setFieldValue:l,handleBlur:i}=re(),t=({target:r})=>{const d=Ve(r.value);l(r.name,d)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(a.SzInput,{id:"additionalAddress",name:"additionalAddress",label:n("diagAss.step.step6.edit.additional_address.label"),placeholder:n("diagAss.step.step6.edit.additional_address.placeholder"),variant:"outlined",value:s.additionalAddress,onChange:t,onBlur:i,disabled:!s.city.length},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:216,columnNumber:7},this),e.jsxDEV(F,{field:"additionalAddress",customDisplay:!!o.additionalAddress},void 0,!1,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:229,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/form/CapAddressField.tsx",lineNumber:215,columnNumber:5},this)}function qs(){const{t:n}=y(),s=re(),{values:o,errors:l,touched:i,handleBlur:t,setFieldTouched:r,setFieldValue:d}=s,{isLoading:m,data:c}=Fe("countries",()=>Y.get(Q.GET_COUNTRIES));if(m)return e.jsxDEV(e.Fragment,{children:Array.from({length:5},(b,x)=>e.jsxDEV("div",{className:"col-12 col-lg-8 mb-3",children:[e.jsxDEV($,{height:20,width:100,className:"mb-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:38,columnNumber:13},this),e.jsxDEV($,{height:48},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:39,columnNumber:13},this)]},x,!0,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:37,columnNumber:11},this))},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:35,columnNumber:7},this);const u=()=>{r("country",!0,!0)},p=()=>{r("zipCode",!0,!0)},f=b=>{d("country",b.label,!0)},N=({target:b})=>{const x=Ve(b.value);d(b.name,x)},w=(m?[]:c.data).map(({id:b,fr:x})=>({label:x,value:b})),h=w.find(({value:b})=>b===o.country);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("label",{className:"mb-2",htmlFor:"country",children:e.jsxDEV(a.SzTypographie,{weight:"regular",className:"text-primary-dark",tag:"span",children:n("diagAss.step.step6.edit.country.label")},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:76,columnNumber:7},this),e.jsxDEV(a.SzSelect,{name:"country",id:"country",placeholder:n("diagAss.step.step6.edit.country.placeholder"),options:w,value:o.country,defaultValue:h,onBlur:u,onChange:f,className:"mb-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:85,columnNumber:7},this),e.jsxDEV(F,{field:"country",customDisplay:i.country&&!!l.country},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:96,columnNumber:7},this),e.jsxDEV(a.SzInput,{id:"city",name:"city",label:n("diagAss.step.step6.edit.city.label"),placeholder:n("diagAss.step.step6.edit.city.placeholder",{context:"foreign"}),variant:"outlined",value:o.city,onChange:N,onBlur:t},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:100,columnNumber:7},this),e.jsxDEV(F,{field:"city",customDisplay:i.city&&!!l.city},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:112,columnNumber:7},this),e.jsxDEV(a.SzInput,{id:"zipCode",name:"zipCode",label:n("diagAss.step.step6.edit.zip.label"),placeholder:n("diagAss.step.step6.edit.zip.placeholder"),variant:"outlined",value:o.zipCode,onChange:N,onBlur:p},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:113,columnNumber:7},this),e.jsxDEV(F,{field:"zipCode",customDisplay:i.zipCode&&!!l.zipCode},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:123,columnNumber:7},this),e.jsxDEV(a.SzInput,{id:"address",name:"address",label:n("diagAss.step.step6.edit.address.label"),placeholder:n("diagAss.step.step6.edit.address.placeholder"),variant:"outlined",value:o.address,onChange:N,onBlur:t},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:124,columnNumber:7},this),e.jsxDEV(F,{field:"address",customDisplay:i.address&&!!l.address},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:134,columnNumber:7},this),e.jsxDEV(a.SzInput,{id:"additionalAddress",name:"additionalAddress",label:n("diagAss.step.step6.edit.additional_address.label"),placeholder:n("diagAss.step.step6.edit.additional_address.placeholder"),variant:"outlined",value:o.additionalAddress,onChange:N,onBlur:t},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:138,columnNumber:7},this),e.jsxDEV(F,{field:"additionalAddress",customDisplay:i.additionalAddress&&!!l.additionalAddress},void 0,!1,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:150,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/form/ForeignAddressField.tsx",lineNumber:75,columnNumber:5},this)}const Ge=B().required("mandatory_field").matches(ce.city,"personalInfos.form.adresse.error.city"),Ke=B().required("mandatory_field").matches(ce.zipCode,"personalInfos.form.adresse.error.zip"),qe=B().matches(ce.additionalAddress,"personalInfos.form.adresse.error.additional_address"),$s=Te({insee:B().required("mandatory_field"),hexavia:B().required("mandatory_field"),streetNumber:B(),streetName:B().required("mandatory_field"),streetExt:B(),city:Ge,zipCode:Ke,additionalAddress:qe,isFrenchAddress:B().matches("yes")}),Ys=Te({country:B().required("mandatory_field"),city:Ge,zipCode:Ke,address:B().required("mandatory_field").matches(ce.adress,"personalInfos.form.adresse.error.address"),additionalAddress:qe}),Qs=({handleClose:n})=>{var P;const{t:s}=y(),{track:o}=U(),{transform:l}=J(),[i,t]=V.useState(null),[r,d]=V.useState(de),m=de===r,{isIntranet:c}=window.tsme_data,{data:u}=L("getCustomerInfos"),{isLoading:p,isSuccess:f,isError:N,mutate:w}=He(),h=Be(((P=u==null?void 0:u.data)==null?void 0:P.content.contact)||{}),b={label:s("save"),align:"right",loader:p,disabled:c||p},x={enabled:!0,label:s("cancel"),align:"left",onClick:n},v={isFrenchAddress:"yes",insee:"",hexavia:"",streetNumber:"",streetName:"",streetExt:"",city:"",zipCode:"",additionalAddress:""},S={isFrenchAddress:"no",country:"",city:"",zipCode:"",address:"",additionalAddress:""},C=m?v:S,A=m?$s:Ys,k=E=>{let g="";if(E.isFrenchAddress==="no"){const{country:I,city:_,zipCode:T,address:M,additionalAddress:z}=E;g=R({elem:M,comma:!0})+R({elem:z,comma:!0})+R({elem:T})+R({elem:_,comma:!0})+I}else{const{streetNumber:I,streetExt:_,streetName:T,additionalAddress:M,city:z,zipCode:ee}=E;g=R({elem:I})+R({elem:_})+R({elem:T,comma:!0})+R({elem:M,comma:!0})+R({elem:ee})+z}w(E),t(g)},O=h?"edit":"add";if(f||N){const E=()=>o("PERSONAL_INFO_2",{champ_infos_perso:"adresse de facturation"}),g=()=>o("PERSONAL_INFO_5",{champ_infos_perso:"adresse de facturation"});return e.jsxDEV(q,{type:"adresse",updatedValue:i,success:f,context:O,trackingSuccess:E,trackingError:g},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:121,columnNumber:7},void 0)}return e.jsxDEV("div",{children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s("personalInfos.form.adresse.title",{context:O})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:134,columnNumber:7},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",className:"text-dark mb-3 mb-lg-4",children:h&&e.jsxDEV(K,{content:s("personalInfos.form.adresse.reminder",{billingAddress:h}),transform:l},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:143,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:137,columnNumber:7},void 0),e.jsxDEV(X,{initialValues:C,onSubmit:k,validationSchema:A,validateOnChange:!1,children:({handleSubmit:E,resetForm:g})=>{const I=_=>{d(_.target.value);const T=_.target.value===de;g({values:T?v:S,errors:{}})};return e.jsxDEV("form",{"data-cy":"address-form",onSubmit:E,children:[e.jsxDEV("div",{className:"col-12 col-lg-8 px-0",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"mb-2",children:e.jsxDEV(a.SzTypographie,{weight:"regular",className:"text-primary-dark",tag:"span",children:s("diagAss.step.step6.edit.country_form.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:176,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:175,columnNumber:19},void 0),e.jsxDEV("div",{className:"d-flex",children:[e.jsxDEV(a.SzRadio,{id:"countryFormFrance",name:"countryForm",label:s("diagAss.step.step6.edit.country_form.france"),value:de,checked:m,onChange:I},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:185,columnNumber:21},void 0),e.jsxDEV(a.SzRadio,{className:"ml-3",id:"countryFormForeign",name:"countryForm",label:s("diagAss.step.step6.edit.country_form.foreign"),value:Je,checked:!m,onChange:I},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:193,columnNumber:21},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:184,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:174,columnNumber:17},void 0),m?e.jsxDEV(Us,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:204,columnNumber:32},void 0):e.jsxDEV(qs,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:204,columnNumber:54},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:173,columnNumber:15},void 0),e.jsxDEV(H,{previous:x,next:b},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:206,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:172,columnNumber:13},void 0)}},m?"fr":"foreign",!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:151,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/BillingAddressContent.tsx",lineNumber:133,columnNumber:5},void 0)};function Zs(n){return be(()=>Y.post(Q.PERSONAL_INFOS.EINVOICE),n)}const Ws=({handleClose:n})=>{var v;const{t:s}=y(),{track:o}=U(),{transform:l}=J(),[i,t]=V.useState(!1),{refetch:r}=L("getServicesStatus"),{isLoading:d,isSuccess:m,isError:c,data:u,mutate:p}=Zs({onSuccess:()=>{r(),t(!1)},onError:()=>{t(!1)}}),f=ns.OK===((v=u==null?void 0:u.data)==null?void 0:v.message),{isIntranet:N}=window.tsme_data,w={label:s("close"),align:"right",onClick:n,type:"button"},h={label:s("confirm"),align:"right",loader:d,disabled:N||d,onClick:()=>{o("PERSONAL_INFO_6"),p()}},b={enabled:!0,label:s("cancel"),align:"left",arrow:"true",onClick:()=>{t(!1)}},x=()=>{t(!0)};return i?e.jsxDEV("div",{"data-cy":"efacture-unsubscribe",children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s("personalInfos.form.e-facture.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:72,columnNumber:9},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",size:"L",weight:"regular",className:"text-dark mb-3 mb-lg-4",children:s("personalInfos.form.e-facture.unsubscribe.reminder")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV(H,{previous:b,next:h},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:83,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:71,columnNumber:7},void 0):m||c?e.jsxDEV(q,{type:"e-facture",success:m&&f},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:92,columnNumber:12},void 0):e.jsxDEV("div",{"data-cy":"efacture-initial",children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s("personalInfos.form.e-facture.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:97,columnNumber:7},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",size:"L",weight:"regular",className:"text-dark mb-3 mb-lg-4",children:e.jsxDEV(K,{content:s("personalInfos.form.e-facture.description"),transform:l},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:106,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:100,columnNumber:7},void 0),e.jsxDEV("div",{className:"mt-4",children:e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",className:"text-expert-blue new-line",tag:"span",children:e.jsxDEV(we,{isGoodToKnow:!1,borderRadius:"rounded-1",smallIconContainer:!0,iconSize:21,fullWidth:!0,smallPadding:!0,children:s("personalInfos.form.e-facture.info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:118,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:112,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:111,columnNumber:7},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",weight:"regular",size:"M",className:"text-dark mt-3 d-flex align-items-baseline",children:e.jsxDEV(te,{i18nKey:"personalInfos.form.e-facture.unsubscribe.description",components:{redirect:e.jsxDEV(a.SzButton,{variant:"text",className:"text-dark sz-typo-body pl-1 pr-0",onClick:x},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:140,columnNumber:15},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:136,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:130,columnNumber:7},void 0),e.jsxDEV(H,{next:w},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:149,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/EFactureContent.tsx",lineNumber:96,columnNumber:5},void 0)},Xs=({handleClose:n})=>{const{t:s}=y(),o=Oe(),{refetch:l}=L("getServicesStatus"),{mutate:i,isLoading:t,isError:r,isSuccess:d}=ms("postSmartCoachAddInfoInfoPerso"),m=()=>{i({peopleCount:"",housingType:"",useCommunityHotWater:"",consentGiven:!1},{onSuccess:()=>{l(),o.push(D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"on-connect-desactivation",result:"succes"}))},onError:()=>{o.push(D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"on-connect-desactivation",result:"erreur"}))}})},c={label:s("cancel"),align:"left",prevArrow:!1,enabled:!0,variant:"outlined",onClick:()=>o.push(D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:"on-connect"})),className:"pl-3"},u={label:s("confirm"),align:"right",loader:t};return d||r?e.jsxDEV(q,{type:"on-connect-desactivation",sourceType:"infoPerso",success:d,toRedirect:D(j.ACCOUNT_PERSONAL_INFORMATIONS)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/OnConnectUnsubscribeContent.tsx",lineNumber:71,columnNumber:7},void 0):e.jsxDEV(X,{initialValues:{consentGiven:!1},onSubmit:m,children:({handleSubmit:p})=>e.jsxDEV("form",{onSubmit:p,"data-cy":"unsubscribe-form",children:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(a.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:s("personalInfos.form.on-connect.unsubscribe.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/OnConnectUnsubscribeContent.tsx",lineNumber:86,columnNumber:15},void 0),e.jsxDEV(a.SzTypographie,{variant:"body",size:"L",weight:"regular",className:"text-dark",children:s("personalInfos.form.on-connect.unsubscribe.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/OnConnectUnsubscribeContent.tsx",lineNumber:89,columnNumber:15},void 0),e.jsxDEV(H,{previous:c,next:u},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/OnConnectUnsubscribeContent.tsx",lineNumber:97,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/OnConnectUnsubscribeContent.tsx",lineNumber:85,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/OnConnectUnsubscribeContent.tsx",lineNumber:84,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/OnConnectUnsubscribeContent.tsx",lineNumber:81,columnNumber:5},void 0)};function Js(){const{t:n}=y(),{track:s}=U(),o="infosPerso",{isLoading:l,isIdle:i,...t}=L("getInfosPersoConsentQuery",{queryFn:async()=>await Y.get(Q.GET_CONSENT,{params:{codeParcours:o}})}),r=js(),{isLoading:d,isSuccess:m,isError:c}=r,u=p=>{var h,b;const f=xs({params:p,codeParcours:o}),N=((h=Object.keys(f))==null?void 0:h.length)>0,w=((b=f==null?void 0:f.codeUsages)==null?void 0:b.length)>0;N&&w&&r.mutate(f,{onSuccess:()=>{t.refetch()}})};if(m||c){const p=()=>s("PERSONAL_INFO_2",{champ_infos_perso:"préférences de communication"}),f=()=>s("PERSONAL_INFO_5",{champ_infos_perso:"préférences de communication"});return e.jsxDEV(q,{type:"consents",success:m,trackingSuccess:p,trackingError:f},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consent/PersonalInfosConsentForm.tsx",lineNumber:56,columnNumber:12},this)}return l?e.jsxDEV($,{width:"100%",height:"100%",className:"mt-5"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consent/PersonalInfosConsentForm.tsx",lineNumber:60,columnNumber:12},this):e.jsxDEV(Es,{type:"page",onSubmit:u,modalTitle:n("consent.modal.title_edit"),isLoading:d,codeParcours:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consent/PersonalInfosConsentForm.tsx",lineNumber:64,columnNumber:5},this)}const en={email:Ls,password:Ms,contract:Rs,mobilePhone:De,phone:De,adresse:Qs,"e-facture":Ws,"on-connect":ws,"on-connect-desactivation":Xs,consents:Js};function sn(){const{modal:n}=os(),s=Oe(),o="infosPerso",{isLoading:l}=L("getCustomerInfos"),{isLoading:i}=L("getInfosPersoConsentQuery",{queryFn:async()=>await Y.get(Q.GET_CONSENT,{params:o})}),t=()=>{s.push(D(j.ACCOUNT_PERSONAL_INFORMATIONS))};return e.jsxDEV(a.SzModal,{size:"lg",show:!!n,handleClose:t,backdrop:!0,centered:!0,scrollable:!0,border:"smooth",fullscreen:"md",title:"",id:`modal-${n}`,children:Object.entries(en).map(([r,d])=>e.jsxDEV(as,{path:D(j.ACCOUNT_PERSONAL_INFORMATIONS,{modal:r}),children:l||i?e.jsxDEV(Ds,{type:"modal"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/index.tsx",lineNumber:76,columnNumber:13},this):e.jsxDEV(d,{handleClose:t},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/index.tsx",lineNumber:78,columnNumber:13},this)},r,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/index.tsx",lineNumber:69,columnNumber:9},this))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/modals/index.tsx",lineNumber:56,columnNumber:5},this)}function qn(){const{t:n}=y(),{track:s}=U(),o=ye(),l=()=>{s("PERSONAL_INFO_3"),window.location.href=j.ACCOUNT_DELETE};return Cs({params:{codeParcours:"infosPerso"},queryName:"getInfosPersoConsentQuery"}),e.jsxDEV(Ze,{fullscreen:!0,className:"p-0",id:"personal-infos",children:[e.jsxDEV(We,{ellipseImg:Ss,children:[e.jsxDEV("div",{className:"row pt-3 pt-lg-0","data-cy":"personal-infos-title",children:e.jsxDEV("div",{className:"col-12 mt-5",children:e.jsxDEV(a.SzTypographie,{variant:"H1",size:o?"XL":"L",color:"light",className:"text-uppercase mb-4 mb-lg-6",weight:"black",children:n("personalInfos.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:38,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:37,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:36,columnNumber:9},this),e.jsxDEV(Os,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:35,columnNumber:7},this),e.jsxDEV("div",{className:"w-100 bg-white mt-3 mt-lg-4",children:e.jsxDEV("div",{className:"tsme-container d-flex",children:e.jsxDEV(a.SzButton,{variant:"contained",className:"rounded-1 mx-auto delete-account-btn",onClick:l,children:e.jsxDEV(a.SzTypographie,{variant:"body",weight:"medium",size:o?"M":"S",className:"mb-0",children:n("personalInfos.button_deleteCEL")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:58,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:53,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:52,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:51,columnNumber:7},this),e.jsxDEV(sn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:69,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/personal-infos/index.tsx",lineNumber:34,columnNumber:5},this)}export{qn as default};

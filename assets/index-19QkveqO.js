import{j as e,b as s}from"./index-BAjkLHRS.js";import"./index-Djf8kdDz.js";import{$ as C,B as w,t as N,S as d,aq as I,u as O,h as z,W as T,C as y,ar as A,Y as _,as as h,at as D,U as g,k as E,A as R}from"./react-spring-web.esm-BXduOQz-.js";import{G as P}from"./index-B1FFCuch.js";import{u as m}from"./useTranslation-Cclpl_OC.js";import"./index-BcQ2dhrg.js";import"./index-CCqWUn_M.js";import"./throttle-BPCfK1uX.js";import"./_baseIsEqual-8OBVMFu7.js";import"./iframe-fNLlJobk.js";import"../sb-preview/runtime.js";/* empty css              *//* empty css                         */function H(o=[],n,a){const r=o.filter(({role:i,reason_code:t})=>n.includes(i));return r.length?r[0]:{enabled:null,reason_code:null}}function M({contractName:o,onClick:n}){const{t:a}=m();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3",children:a("proofOfResidence.subscribProofTitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:17,columnNumber:7},this),e.jsxDEV(s.SzAlert,{variant:"success",className:"py-2 mb-4",children:e.jsxDEV(s.SzTypographie,{className:"my-3",children:e.jsxDEV(C,{i18nKey:"proofOfResidence.downloadSuccess",values:{contractName:o},components:[e.jsxDEV(s.SzButton,{className:"download-link m-0 p-0 h-auto","data-cy":"download-link",variant:"text",onClick:n},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:26,columnNumber:15},this)]},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:22,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:21,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:20,columnNumber:7},this),e.jsxDEV(w,{className:"pl-0",icon:"keyboard-arrow-left",to:N.DASHBOARD,children:a("proofOfResidence.dashboardBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:36,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:16,columnNumber:5},this)}function F({contractName:o,reason_code:n}){const{t:a}=m();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3",children:a("proofOfResidence.subscribProofTitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:52,columnNumber:7},this),e.jsxDEV(s.SzAlert,{className:"py-3 mb-4",children:e.jsxDEV("div",{children:e.jsxDEV(s.SzTypographie,{className:"mb-0",children:a("proofOfResidence.downloadError",{context:n,contractName:o})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:57,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:56,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:55,columnNumber:7},this),e.jsxDEV(w,{className:"pl-0",icon:"keyboard-arrow-left",to:N.DASHBOARD,children:a("proofOfResidence.dashboardBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:65,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:51,columnNumber:5},this)}function U({isLoading:o,data:n}){const{t:a}=m(),{name:r,company_name:i,served_address:t,reference:l}=n;return e.jsxDEV("div",{className:"position-relative",children:[e.jsxDEV("div",{className:"bg-white d-flex align-items-center position-absolute",style:{top:"-20px",left:"1.5rem"},children:[e.jsxDEV(s.SzIcon,{icon:"business-contract-handshake-sign",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:17,columnNumber:9},this),o?e.jsxDEV(d,{className:"mx-2",width:100,height:20},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:19,columnNumber:11},this):e.jsxDEV(s.SzTypographie,{weight:"bold",className:"ml-2 mb-0 text-uppercase",children:r},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:21,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:13,columnNumber:7},this),e.jsxDEV("div",{className:"row no-gutters justify-content-lg-between border rounded-1 mb-4 mb-lg-5 p-4 ",children:[e.jsxDEV(s.SzData,{className:"mb-3 mb-md-0",children:[e.jsxDEV(s.SzTypographie,{variant:"caption",size:"M",color:"disabled",children:a("proofOfResidence.contractOwner")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:28,columnNumber:11},this),o?e.jsxDEV(d,{width:150,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:32,columnNumber:13},this):e.jsxDEV(s.SzData.Title,{children:i},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:34,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:27,columnNumber:9},this),e.jsxDEV(s.SzData,{className:"mb-3 mb-md-0",children:[e.jsxDEV(s.SzTypographie,{variant:"caption",size:"M",color:"disabled",children:a("proofOfResidence.contractAddress")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:38,columnNumber:11},this),o?e.jsxDEV(d,{width:150,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:42,columnNumber:13},this):e.jsxDEV(s.SzData.Title,{children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:44,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV(s.SzData,{className:"mb-3 mb-md-0",children:[e.jsxDEV(s.SzTypographie,{variant:"caption",size:"M",color:"disabled",children:a("proofOfResidence.contractRefClient")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:48,columnNumber:11},this),o?e.jsxDEV(d,{width:150,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:52,columnNumber:13},this):e.jsxDEV(s.SzData.Title,{children:I(l)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:26,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:12,columnNumber:5},this)}function L({isLoading:o,data:n,onClick:a,btnLoading:r}){var t,l;const{t:i}=m();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-5",children:i("proofOfResidence.subscribeProofForContract")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/ContractInfos.jsx",lineNumber:16,columnNumber:7},this),e.jsxDEV(U,{data:((l=(t=n==null?void 0:n.data)==null?void 0:t.content)==null?void 0:l.contracts[0])||{},isLoading:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/ContractInfos.jsx",lineNumber:19,columnNumber:7},this),!o&&e.jsxDEV(s.SzButton,{"data-cy":"download-btn",variant:"contained",border:"soft",onClick:a,loader:r,children:i("proofOfResidence.downloadBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/ContractInfos.jsx",lineNumber:24,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/ContractInfos.jsx",lineNumber:15,columnNumber:5},this)}function ae(){var j,v;const{t:o}=m(),n=O(),a=z("getUserPro",()=>E.get(R.GET_USER_PRO)),{isSuccess:r,isError:i,isLoading:t,data:l=A({contracts:{roles:[]}})}=a,{roles:V,name:p}=((v=(j=l.data)==null?void 0:j.content)==null?void 0:v.contracts[0])||{},{enabled:b,reason_code:S}=H(V,_.ATTESTATION_ABO),c=T(()=>E.get(R.CERTIFICATE_SUBSCRIPTION),{onSuccess:({data:u})=>{const{rawData:f,filename:B}=u.content;h.fromBase64(f,B,D)}}),x=()=>{if(c.isSuccess){const{rawData:u,filename:f}=c.data.data.content;h.fromBase64(u,f,D)}else c.mutate()},k=()=>e.jsxDEV(e.Fragment,{children:[(t||r&&b)&&e.jsxDEV(L,{...a,onClick:x,btnLoading:c.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:62,columnNumber:11},this),!t&&b===!1&&e.jsxDEV(F,{contractName:p,reason_code:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:69,columnNumber:11},this),i&&e.jsxDEV(P,{context:"proofOfResidence",children:e.jsxDEV(w,{variant:"contained",border:"soft",to:N.DASHBOARD,children:o("proofOfResidence.dashboardBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:60,columnNumber:7},this);return e.jsxDEV(y,{tag:"main",className:"px-0 bg-brand-dark proof-of-residence overflow-hidden",fullscreen:!0,children:e.jsxDEV("div",{className:"container pb-5 position-relative",children:[e.jsxDEV(G,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:89,columnNumber:9},this),e.jsxDEV(s.SzTypographie,{variant:"H1",weight:"black",size:n?"L":"XL",align:"center",color:"white",className:"mt-lg-3 mb-4 text-uppercase",children:o("proofOfResidence.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:90,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-3 position-relative mx-auto px-3 px-lg-6 py-4 py-lg-5 mb-6 mb-lg-0",style:{maxWidth:750},"data-cy":"por-content",children:c.isSuccess?e.jsxDEV(M,{contractName:p,onClick:x},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:106,columnNumber:13},this):e.jsxDEV(k,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:108,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:100,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:88,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:83,columnNumber:5},this)}const G=()=>{const o=O(),{logo_background:n}=window.tsme_data.header;return e.jsxDEV("div",{className:"background",children:[e.jsxDEV(g,{color:"dark",size:o?"sm":"md",position:"31"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:122,columnNumber:7},void 0),e.jsxDEV(g,{color:"green",size:o?"sm":"md",position:"32"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:123,columnNumber:7},void 0),e.jsxDEV("div",{className:"rounded-img-1"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:124,columnNumber:7},void 0),e.jsxDEV("div",{className:"rounded-img-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:125,columnNumber:7},void 0),n&&e.jsxDEV("div",{className:"s-suez",style:{backgroundImage:`url(${n})`}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:127,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:121,columnNumber:5},void 0)};export{G as ProofOfResidenceBackground,ae as default};

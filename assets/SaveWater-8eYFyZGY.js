import{j as e}from"./index-BzhTyqaY.js";import{r as w}from"./index-0X8QCd_i.js";import{C as r}from"./react-spring-web.esm-DsMzZgQq.js";import{M as O}from"./MasonryEcoGeste-DtI8s5FT.js";import{E as G}from"./EcoWaterLame-Dyi6MAVA.js";import{a as N,A as f,g as E}from"./AxiosInstance-BZZbXQ8a.js";import{T as i,B as S}from"./main-BbuvrTKi.js";import{u as v}from"./useQuery-DDRZMcvI.js";import{S as s}from"./index-R4VhrMC6.js";import{u as H}from"./useTranslation-BYGhmYBG.js";import"./index-BoI371yk.js";import"./index-4p5aklhB.js";import"./throttle-C5YRRb_b.js";import"./_baseIsEqual-DwR-aJgz.js";import"./formik.esm-DgjVmEdT.js";import"./index-m5SwaE3w.js";import"./recaptcha-wrapper-CLWKokWK.js";import"./useResponsive-DQBhMvnf.js";import"./index-E8Xemi00.js";/* empty css              */import"./useMutation-DnofRurj.js";/* empty css                         */import"./nonIterableRest-CnCppAvF.js";import"./MasonryFilter-i_kV2Ha2.js";import"./MasonrySort-UnBt5NhJ.js";import"./index-Cj_2uQx9.js";import"./useScrollTo-VXXfg99K.js";import"./check-circle-1-CH6VNuLl.js";import"./MasonryCard-BMCWWMKz.js";/* empty css                */import"./WaterDropIcon-aBwi1Rhw.js";import"./useToRedirect-BsmConZ5.js";import"./MasonryInfo-C2OrrevG.js";import"./MasonryInfoFront-BcPFiyA-.js";import"./ShapeSvg-DDPMsLI1.js";import"./MasonryInfoBack-D88wpNb9.js";import"./useInterweave-MFQvh887.js";import"./EcoWaterCard-C4IYkjJF.js";import"./iframe-CrganuSH.js";import"../sb-preview/runtime.js";const m=()=>e.jsxDEV("div",{className:"skeleton-card",children:[e.jsxDEV(s,{height:150},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:6,columnNumber:5},void 0),e.jsxDEV("div",{style:{padding:"10px"},children:[e.jsxDEV(s,{height:20,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:8,columnNumber:7},void 0),e.jsxDEV(s,{height:15,width:"60%",style:{marginTop:"10px"}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:9,columnNumber:7},void 0),e.jsxDEV(s,{height:40,width:"100%",style:{marginTop:"15px"}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:10,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:7,columnNumber:5},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:5,columnNumber:3},void 0),$=()=>e.jsxDEV("div",{className:"d-flex",children:[e.jsxDEV(s,{height:30,width:"90px",className:"mr-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:17,columnNumber:5},void 0),e.jsxDEV(s,{height:30,width:"90px",className:"mr-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:18,columnNumber:5},void 0),e.jsxDEV(s,{height:30,width:"90px",className:"mr-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:16,columnNumber:3},void 0),P=()=>e.jsxDEV("div",{className:"position-relative m-2",children:e.jsxDEV("div",{className:"bg-transparent",children:[e.jsxDEV("div",{className:"d-flex flex-column flex-wrap align-items-center justify-content-center text-center",children:e.jsxDEV(s,{height:15,width:"300px"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:28,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:27,columnNumber:9},void 0),e.jsxDEV("div",{className:"my-3",children:e.jsxDEV($,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:31,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:30,columnNumber:9},void 0),e.jsxDEV("div",{className:"d-flex",children:[e.jsxDEV("div",{className:"masonry-item w-100 ml-2",children:e.jsxDEV(m,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:35,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:34,columnNumber:11},void 0),e.jsxDEV("div",{className:"masonry-item w-100 ml-2",children:e.jsxDEV(m,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:38,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:37,columnNumber:11},void 0),e.jsxDEV("div",{className:"masonry-item w-100 ml-2",children:e.jsxDEV(m,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:41,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:40,columnNumber:11},void 0),e.jsxDEV("div",{className:"masonry-item w-100 ml-2",children:e.jsxDEV(m,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:44,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:33,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:26,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:25,columnNumber:5},void 0),B=P,y=()=>e.jsxDEV("div",{className:"skeleton-card",children:[e.jsxDEV(s,{height:150},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:6,columnNumber:5},void 0),e.jsxDEV("div",{style:{padding:"10px"},children:[e.jsxDEV(s,{height:20,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:8,columnNumber:7},void 0),e.jsxDEV(s,{height:15,width:"60%",style:{marginTop:"10px"}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:9,columnNumber:7},void 0),e.jsxDEV(s,{height:2,width:"100%",style:{marginTop:"10px"}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:10,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:7,columnNumber:5},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:5,columnNumber:3},void 0),F=()=>e.jsxDEV("div",{className:"row no-gutters",children:[e.jsxDEV("div",{className:"col-12 col-sm-4 pr-3 pr-sm-0 pt-3",children:[e.jsxDEV(s,{height:25,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:19,columnNumber:9},void 0),e.jsxDEV(s,{height:25,width:"40%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:20,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(s,{height:10,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:22,columnNumber:11},void 0),e.jsxDEV(s,{height:10,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:23,columnNumber:11},void 0),e.jsxDEV(s,{height:10,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:24,columnNumber:11},void 0),e.jsxDEV(s,{height:10,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:25,columnNumber:11},void 0),e.jsxDEV(s,{height:10,width:"40%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:26,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:21,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:18,columnNumber:7},void 0),e.jsxDEV("div",{className:"col-12 col-sm-8",children:e.jsxDEV("div",{className:"d-flex",children:[e.jsxDEV("div",{className:"w-50 ml-4",children:e.jsxDEV(y,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:31,columnNumber:38},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:31,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-50  ml-4",children:e.jsxDEV(y,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:32,columnNumber:39},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:32,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:30,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:29,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:17,columnNumber:5},void 0),R=F;function Me(){var h,j;const[p,g]=w.useState(!1),{lameContents:D,listEdito:W,waterInfo:k,brand:n}=window.tsme_data||{},{t:l}=H(),{data:u,isLoading:V,isError:L}=v("lameContent",()=>N.get(f.HOMEPAGE_LAMES),{initialData:{data:{lameContents:D}}}),{data:c,isLoading:M}=v("waterInfoContent",()=>N.get(E(f.WATER_INFO,{brandCode:(n==null?void 0:n.code)??S})),{initialData:{data:{content:k}}}),{data:d,isLoading:_,isError:C}=v("saveWaterContent",()=>N.get(`${E(f.EDITO_LIST,{brandCode:(n==null?void 0:n.code)??S})}?type=${i.ECOGESTE},${i.ECOPLANETE}`),{initialData:{data:{content:W}}}),T=w.useMemo(()=>{const{content:o,message:a}=d.data||[];if(a==="KO_EDITO"||d.data.content.length<=0){g(!0);return}return o.filter(t=>[i.ECOGESTE,i.ECOPLANETE].includes(t.type)).map(t=>({image:t.image,title:t.title,context:t.type,scale:t.scale,categories:t.categories,date:t.publication_date,link:`/edito/${t.slug}`}))},[d]),A=w.useMemo(()=>{const{content:o}=c.data||[];if(!(c.data.length<=0))return o.map(a=>{const t=Math.random()>.5?{firstAnswer:{answer:a.choice_ok,status:!0},secondAnswer:{answer:a.choice_ko,status:!1}}:{firstAnswer:{answer:a.choice_ko,status:!1},secondAnswer:{answer:a.choice_ok,status:!0}};return{title:a.question,response:[{title:a.answer_ok_title,description:a.response,status:!0},{title:a.answer_ko_title,description:a.response,status:!1}],...t}}).sort(()=>Math.random()-.5)},[c]),{fields:x,tile:b}=((j=(h=u==null?void 0:u.data)==null?void 0:h.lameContents)==null?void 0:j.lame_home_eco_geste)||{},I=!L&&b.length>0;return V||_||M?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r,{fullscreen:!0,className:"bg-white p-0",minHeight:"50vh",children:e.jsxDEV(r,{minHeight:"50vh",children:e.jsxDEV(R,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:121,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:119,columnNumber:9},this),e.jsxDEV(r,{fullscreen:!0,className:"gabarit-edito p-0",tag:"main",children:e.jsxDEV(r,{minHeight:"75vh",children:e.jsxDEV(B,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:125,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:118,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:[I&&e.jsxDEV(r,{fullscreen:!0,className:"bg-white p-0",minHeight:p?"initial":"10vh",id:"eco-water-lame",children:e.jsxDEV(r,{minHeight:"10vh",children:e.jsxDEV(G,{title:x.title,description:x.description,cards:b.map(o=>({...o.fields}))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:143,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:142,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:136,columnNumber:9},this),!p&&e.jsxDEV(r,{fullscreen:!0,className:"gabarit-edito p-0",tag:"main",id:"eco-water-masonry",children:e.jsxDEV(r,{minHeight:"10vh",children:e.jsxDEV(O,{title:l("ecoGeste.title_masonry"),filterBy:"categories",dataCard:T,dataWaterInfo:A,isError:C,sortBy:[{key:"date",label:l("ecoGeste.sortDateDesc")},{key:"scale",label:l("ecoGeste.sortScale")}]},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:159,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:158,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:152,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:134,columnNumber:5},this)}export{Me as default};

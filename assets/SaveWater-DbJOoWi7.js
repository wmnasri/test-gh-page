import{j as e}from"./index-BAjkLHRS.js";import{r as w}from"./index-Djf8kdDz.js";import{S as s,h as N,T as i,C as n,k as f,A as v,y as E,a2 as S}from"./react-spring-web.esm-BXduOQz-.js";import{M as O}from"./MasonryEcoGeste-OHi4kNUG.js";import{E as G}from"./EcoWaterLame-DibJT4Mh.js";import{u as H}from"./useTranslation-Cclpl_OC.js";import"./index-BcQ2dhrg.js";import"./index-CCqWUn_M.js";import"./throttle-BPCfK1uX.js";import"./_baseIsEqual-8OBVMFu7.js";import"./iframe-fNLlJobk.js";import"../sb-preview/runtime.js";/* empty css              *//* empty css                         */import"./MasonryFilter-CeXoYWle.js";import"./MasonrySort-DFy8PcIX.js";import"./index-BxUKmwkz.js";import"./useScrollTo-VXXfg99K.js";import"./check-circle-1-CH6VNuLl.js";import"./MasonryCard-BUabWdVf.js";/* empty css                */import"./WaterDropIcon-DCBjAe98.js";import"./useToRedirect-CT6jxEtz.js";import"./MasonryInfo-Dd2VTqlg.js";import"./MasonryInfoFront-DU7Ds5uO.js";import"./ShapeSvg-Cn_66R2N.js";import"./MasonryInfoBack-CLoIcSui.js";import"./useInterweave-CyiDgcKg.js";import"./EcoWaterCard-gENYlceX.js";const m=()=>e.jsxDEV("div",{className:"skeleton-card",children:[e.jsxDEV(s,{height:150},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:6,columnNumber:5},void 0),e.jsxDEV("div",{style:{padding:"10px"},children:[e.jsxDEV(s,{height:20,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:8,columnNumber:7},void 0),e.jsxDEV(s,{height:15,width:"60%",style:{marginTop:"10px"}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:9,columnNumber:7},void 0),e.jsxDEV(s,{height:40,width:"100%",style:{marginTop:"15px"}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:10,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:7,columnNumber:5},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:5,columnNumber:3},void 0),$=()=>e.jsxDEV("div",{className:"d-flex",children:[e.jsxDEV(s,{height:30,width:"90px",className:"mr-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:17,columnNumber:5},void 0),e.jsxDEV(s,{height:30,width:"90px",className:"mr-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:18,columnNumber:5},void 0),e.jsxDEV(s,{height:30,width:"90px",className:"mr-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:16,columnNumber:3},void 0),P=()=>e.jsxDEV("div",{className:"position-relative m-2",children:e.jsxDEV("div",{className:"bg-transparent",children:[e.jsxDEV("div",{className:"d-flex flex-column flex-wrap align-items-center justify-content-center text-center",children:e.jsxDEV(s,{height:15,width:"300px"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:28,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:27,columnNumber:9},void 0),e.jsxDEV("div",{className:"my-3",children:e.jsxDEV($,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:31,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:30,columnNumber:9},void 0),e.jsxDEV("div",{className:"d-flex",children:[e.jsxDEV("div",{className:"masonry-item w-100 ml-2",children:e.jsxDEV(m,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:35,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:34,columnNumber:11},void 0),e.jsxDEV("div",{className:"masonry-item w-100 ml-2",children:e.jsxDEV(m,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:38,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:37,columnNumber:11},void 0),e.jsxDEV("div",{className:"masonry-item w-100 ml-2",children:e.jsxDEV(m,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:41,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:40,columnNumber:11},void 0),e.jsxDEV("div",{className:"masonry-item w-100 ml-2",children:e.jsxDEV(m,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:44,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:33,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:26,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/masonry/MasonrySkeleton.tsx",lineNumber:25,columnNumber:5},void 0),F=P,y=()=>e.jsxDEV("div",{className:"skeleton-card",children:[e.jsxDEV(s,{height:150},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:6,columnNumber:5},void 0),e.jsxDEV("div",{style:{padding:"10px"},children:[e.jsxDEV(s,{height:20,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:8,columnNumber:7},void 0),e.jsxDEV(s,{height:15,width:"60%",style:{marginTop:"10px"}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:9,columnNumber:7},void 0),e.jsxDEV(s,{height:2,width:"100%",style:{marginTop:"10px"}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:10,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:7,columnNumber:5},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:5,columnNumber:3},void 0),B=()=>e.jsxDEV("div",{className:"row no-gutters",children:[e.jsxDEV("div",{className:"col-12 col-sm-4 pr-3 pr-sm-0 pt-3",children:[e.jsxDEV(s,{height:25,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:19,columnNumber:9},void 0),e.jsxDEV(s,{height:25,width:"40%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:20,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(s,{height:10,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:22,columnNumber:11},void 0),e.jsxDEV(s,{height:10,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:23,columnNumber:11},void 0),e.jsxDEV(s,{height:10,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:24,columnNumber:11},void 0),e.jsxDEV(s,{height:10,width:"80%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:25,columnNumber:11},void 0),e.jsxDEV(s,{height:10,width:"40%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:26,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:21,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:18,columnNumber:7},void 0),e.jsxDEV("div",{className:"col-12 col-sm-8",children:e.jsxDEV("div",{className:"d-flex",children:[e.jsxDEV("div",{className:"w-50 ml-4",children:e.jsxDEV(y,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:31,columnNumber:38},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:31,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-50  ml-4",children:e.jsxDEV(y,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:32,columnNumber:39},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:32,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:30,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:29,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLameSkeleton.tsx",lineNumber:17,columnNumber:5},void 0),R=B;function he(){var h,j;const[x,g]=w.useState(!1),{lameContents:D,listEdito:W,waterInfo:k,brand:r}=window.tsme_data||{},{t:l}=H(),{data:u,isLoading:V,isError:L}=N("lameContent",()=>f.get(v.HOMEPAGE_LAMES),{initialData:{data:{lameContents:D}}}),{data:c,isLoading:M}=N("waterInfoContent",()=>f.get(E(v.WATER_INFO,{brandCode:(r==null?void 0:r.code)??S})),{initialData:{data:{content:k}}}),{data:d,isLoading:_,isError:C}=N("saveWaterContent",()=>f.get(`${E(v.EDITO_LIST,{brandCode:(r==null?void 0:r.code)??S})}?type=${i.ECOGESTE},${i.ECOPLANETE}`),{initialData:{data:{content:W}}}),T=w.useMemo(()=>{const{content:o,message:a}=d.data||[];if(a==="KO_EDITO"||d.data.content.length<=0){g(!0);return}return o.filter(t=>[i.ECOGESTE,i.ECOPLANETE].includes(t.type)).map(t=>({image:t.image,title:t.title,context:t.type,scale:t.scale,categories:t.categories,date:t.publication_date,link:`/edito/${t.slug}`}))},[d]),A=w.useMemo(()=>{const{content:o}=c.data||[];if(!(c.data.length<=0))return o.map(a=>{const t=Math.random()>.5?{firstAnswer:{answer:a.choice_ok,status:!0},secondAnswer:{answer:a.choice_ko,status:!1}}:{firstAnswer:{answer:a.choice_ko,status:!1},secondAnswer:{answer:a.choice_ok,status:!0}};return{title:a.question,response:[{title:a.answer_ok_title,description:a.response,status:!0},{title:a.answer_ko_title,description:a.response,status:!1}],...t}}).sort(()=>Math.random()-.5)},[c]),{fields:p,tile:b}=((j=(h=u==null?void 0:u.data)==null?void 0:h.lameContents)==null?void 0:j.lame_home_eco_geste)||{},I=!L&&b.length>0;return V||_||M?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(n,{fullscreen:!0,className:"bg-white p-0",minHeight:"50vh",children:e.jsxDEV(n,{minHeight:"50vh",children:e.jsxDEV(R,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:121,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:119,columnNumber:9},this),e.jsxDEV(n,{fullscreen:!0,className:"gabarit-edito p-0",tag:"main",children:e.jsxDEV(n,{minHeight:"75vh",children:e.jsxDEV(F,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:125,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:118,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:[I&&e.jsxDEV(n,{fullscreen:!0,className:"bg-white p-0",minHeight:x?"initial":"10vh",id:"eco-water-lame",children:e.jsxDEV(n,{minHeight:"10vh",children:e.jsxDEV(G,{title:p.title,description:p.description,cards:b.map(o=>({...o.fields}))},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:143,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:142,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:136,columnNumber:9},this),!x&&e.jsxDEV(n,{fullscreen:!0,className:"gabarit-edito p-0",tag:"main",id:"eco-water-masonry",children:e.jsxDEV(n,{minHeight:"10vh",children:e.jsxDEV(O,{title:l("ecoGeste.title_masonry"),filterBy:"categories",dataCard:T,dataWaterInfo:A,isError:C,sortBy:[{key:"date",label:l("ecoGeste.sortDateDesc")},{key:"scale",label:l("ecoGeste.sortScale")}]},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:159,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:158,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:152,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/save-water/SaveWater.tsx",lineNumber:134,columnNumber:5},this)}export{he as default};

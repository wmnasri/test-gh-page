var Do=Object.defineProperty;var ko=(r,s,x)=>s in r?Do(r,s,{enumerable:!0,configurable:!0,writable:!0,value:x}):r[s]=x;var nt=(r,s,x)=>(ko(r,typeof s!="symbol"?s+"":s,x),x);import{B as To,C as _o,D as Po,F as Lo,G as Oo,I as Ro,J as Vo,K as Io,L as Bo,M as Os,N as _t,o as Rs,O as it,c as Bt,P as Ho,Q as zo,j,b as $,a as be,R as Yo,H as He,d as Ht,e as Vs,S as zt,i as dt,U as Uo,V as Fo}from"./index-BAjkLHRS.js";import{R as Fe,r as B,a as vt,c as Xo}from"./index-Djf8kdDz.js";import{J as bt,K as lt,cM as Go,Q as Wo,g as Pt,cN as vs,cO as qo,cP as Ko,f as yt,j as ze,o as Yt,h as st,W as xt,m as fe,k as Le,A as Oe,a as qe,q as Qe,y as Ee,$ as Ze,S as We,L as Lt,t as he,cQ as $o,aw as Ot,u as Re,cR as bs,cS as Zo,B as Is,cT as Se,cU as rt,cV as Xe,M as Qo,V as Bs,Z as Hs,l as zs,O as Jo,cW as en,e as ys,d as xs,C as Ys,av as Us,cX as At,v as tn}from"./react-spring-web.esm-BXduOQz-.js";/* empty css              *//* empty css                         */import{P as sn,B as on,M as nn}from"./index-B2jJIgGW.js";import{O as rn}from"./OnConnectCoachContent-BvLCsyMd.js";import{u as Be}from"./useQueryObserver-JDa9NgZY.js";import{u as De}from"./useTranslation-Cclpl_OC.js";import{u as an,a as ln,b as Rt,c as ws,d as cn,e as un,F as Fs}from"./useWaitForDOMRef-kdEpDSq_.js";import{c as Xs,u as Ut,b as Gs,d as Ws,s as Vt}from"./createWithBsPrefix-OZLcO0Cc.js";import{R as hn}from"./index-CCqWUn_M.js";import{p as Pe}from"./index-BcQ2dhrg.js";import{S as dn}from"./index-BxUKmwkz.js";import{B as pn}from"./index-GH-OyLMD.js";import{u as mn}from"./useToRedirect-CT6jxEtz.js";import{p as fn}from"./index-DiRmYu4I.js";import{c as jt}from"./index-BBUdod_g.js";import{s as Cs}from"./index-DYhus6MJ.js";import{F as Ft}from"./index-CMwthcxG.js";import{u as gn}from"./useInterweave-CyiDgcKg.js";import{A as vn,a as bn,d as yn}from"./index-CzMjzDBE.js";import{F as pt}from"./FormError-B1L9786s.js";import{d as Ns,f as Ss}from"./index-CnVkoL_H.js";import{b as xn}from"./usePostCustomerAdditionalInfos-D8Abe1De.js";function wn(r,s){bt(2,arguments);var x=lt(r),f=lt(s),i=x.getTime()-f.getTime();return i<0?-1:i>0?1:i}function Cn(r){bt(1,arguments);var s=lt(r),x=s.getMonth();return s.setFullYear(s.getFullYear(),x+1,0),s.setHours(23,59,59,999),s}function Es(r){bt(1,arguments);var s=lt(r);return s.setDate(1),s.setHours(0,0,0,0),s}function Nn(r){bt(1,arguments);var s=lt(r),x=s.getFullYear(),f=s.getMonth(),i=new Date(0);return i.setFullYear(x,f+1,0),i.setHours(0,0,0,0),i.getDate()}var Sn=function(r){Go(s,r);function s(f,i){var n;return n=r.call(this)||this,n.client=f,n.queries=[],n.result=[],n.observers=[],n.observersMap={},i&&n.setQueries(i),n}var x=s.prototype;return x.onSubscribe=function(){var i=this;this.listeners.length===1&&this.observers.forEach(function(n){n.subscribe(function(a){i.onUpdate(n,a)})})},x.onUnsubscribe=function(){this.listeners.length||this.destroy()},x.destroy=function(){this.listeners=[],this.observers.forEach(function(i){i.destroy()})},x.setQueries=function(i,n){this.queries=i,this.updateObservers(n)},x.getCurrentResult=function(){return this.result},x.getOptimisticResult=function(i){return this.findMatchingObservers(i).map(function(n){return n.observer.getOptimisticResult(n.defaultedQueryOptions)})},x.findMatchingObservers=function(i){var n=this,a=this.observers,h=i.map(function(c){return n.client.defaultQueryObserverOptions(c)}),E=h.flatMap(function(c){var d=a.find(function(m){return m.options.queryHash===c.queryHash});return d!=null?[{defaultedQueryOptions:c,observer:d}]:[]}),p=E.map(function(c){return c.defaultedQueryOptions.queryHash}),v=h.filter(function(c){return!p.includes(c.queryHash)}),N=a.filter(function(c){return!E.some(function(d){return d.observer===c})}),g=v.map(function(c,d){if(c.keepPreviousData){var m=N[d];if(m!==void 0)return{defaultedQueryOptions:c,observer:m}}return{defaultedQueryOptions:c,observer:n.getObserver(c)}}),o=function(d,m){return h.indexOf(d.defaultedQueryOptions)-h.indexOf(m.defaultedQueryOptions)};return E.concat(g).sort(o)},x.getObserver=function(i){var n=this.client.defaultQueryObserverOptions(i),a=this.observersMap[n.queryHash];return a??new Wo(this.client,n)},x.updateObservers=function(i){var n=this;Pt.batch(function(){var a=n.observers,h=n.findMatchingObservers(n.queries);h.forEach(function(g){return g.observer.setOptions(g.defaultedQueryOptions,i)});var E=h.map(function(g){return g.observer}),p=Object.fromEntries(E.map(function(g){return[g.options.queryHash,g]})),v=E.map(function(g){return g.getCurrentResult()}),N=E.some(function(g,o){return g!==a[o]});a.length===E.length&&!N||(n.observers=E,n.observersMap=p,n.result=v,n.hasListeners()&&(vs(a,E).forEach(function(g){g.destroy()}),vs(E,a).forEach(function(g){g.subscribe(function(o){n.onUpdate(g,o)})}),n.notify()))})},x.onUpdate=function(i,n){var a=this.observers.indexOf(i);a!==-1&&(this.result=qo(this.result,a,n),this.notify())},x.notify=function(){var i=this;Pt.batch(function(){i.listeners.forEach(function(n){n(i.result)})})},s}(Ko);function En(r){var s=Fe.useRef(!1),x=Fe.useState(0),f=x[1],i=yt(),n=B.useMemo(function(){return r.map(function(p){var v=i.defaultQueryObserverOptions(p);return v.optimisticResults=!0,v})},[r,i]),a=Fe.useState(function(){return new Sn(i,n)}),h=a[0],E=h.getOptimisticResult(n);return Fe.useEffect(function(){s.current=!0;var p=h.subscribe(Pt.batchCalls(function(){s.current&&f(function(v){return v+1})}));return function(){s.current=!1,p()}},[h]),Fe.useEffect(function(){h.setQueries(n,{listeners:!1})},[n,h]),E}function Ms(){return B.useState(null)}function Mn(){var r=B.useRef(!0),s=B.useRef(function(){return r.current});return B.useEffect(function(){return r.current=!0,function(){r.current=!1}},[]),s.current}var It=Math.pow(2,31)-1;function qs(r,s,x){var f=x-Date.now();r.current=f<=It?setTimeout(s,f):setTimeout(function(){return qs(r,s,x)},It)}function An(){var r=Mn(),s=B.useRef();return an(function(){return clearTimeout(s.current)}),B.useMemo(function(){var x=function(){return clearTimeout(s.current)};function f(i,n){n===void 0&&(n=0),r()&&(x(),n<=It?s.current=setTimeout(i,n):qs(s,i,Date.now()+n))}return{set:f,clear:x}},[])}var As=Object.prototype.hasOwnProperty;function js(r,s,x){for(x of r.keys())if(at(x,s))return x}function at(r,s){var x,f,i;if(r===s)return!0;if(r&&s&&(x=r.constructor)===s.constructor){if(x===Date)return r.getTime()===s.getTime();if(x===RegExp)return r.toString()===s.toString();if(x===Array){if((f=r.length)===s.length)for(;f--&&at(r[f],s[f]););return f===-1}if(x===Set){if(r.size!==s.size)return!1;for(f of r)if(i=f,i&&typeof i=="object"&&(i=js(s,i),!i)||!s.has(i))return!1;return!0}if(x===Map){if(r.size!==s.size)return!1;for(f of r)if(i=f[0],i&&typeof i=="object"&&(i=js(s,i),!i)||!at(f[1],s.get(i)))return!1;return!0}if(x===ArrayBuffer)r=new Uint8Array(r),s=new Uint8Array(s);else if(x===DataView){if((f=r.byteLength)===s.byteLength)for(;f--&&r.getInt8(f)===s.getInt8(f););return f===-1}if(ArrayBuffer.isView(r)){if((f=r.byteLength)===s.byteLength)for(;f--&&r[f]===s[f];);return f===-1}if(!x||typeof r=="object"){f=0;for(x in r)if(As.call(r,x)&&++f&&!As.call(s,x)||!(x in s)||!at(r[x],s[x]))return!1;return Object.keys(s).length===f}}return r!==r&&s!==s}function jn(r){var s=ln();return[r[0],B.useCallback(function(x){if(s())return r[1](x)},[s,r[1]])]}const Dn=To({defaultModifiers:[_o,Po,Lo,Oo,Ro,Vo,Io,Bo]}),kn=["enabled","placement","strategy","modifiers"];function Tn(r,s){if(r==null)return{};var x={},f=Object.keys(r),i,n;for(n=0;n<f.length;n++)i=f[n],!(s.indexOf(i)>=0)&&(x[i]=r[i]);return x}const _n={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Pn={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:r})=>()=>{const{reference:s,popper:x}=r.elements;if("removeAttribute"in s){const f=(s.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==x.id);f.length?s.setAttribute("aria-describedby",f.join(",")):s.removeAttribute("aria-describedby")}},fn:({state:r})=>{var s;const{popper:x,reference:f}=r.elements,i=(s=x.getAttribute("role"))==null?void 0:s.toLowerCase();if(x.id&&i==="tooltip"&&"setAttribute"in f){const n=f.getAttribute("aria-describedby");if(n&&n.split(",").indexOf(x.id)!==-1)return;f.setAttribute("aria-describedby",n?`${n},${x.id}`:x.id)}}},Ln=[];function On(r,s,x={}){let{enabled:f=!0,placement:i="bottom",strategy:n="absolute",modifiers:a=Ln}=x,h=Tn(x,kn);const E=B.useRef(a),p=B.useRef(),v=B.useCallback(()=>{var m;(m=p.current)==null||m.update()},[]),N=B.useCallback(()=>{var m;(m=p.current)==null||m.forceUpdate()},[]),[g,o]=jn(B.useState({placement:i,update:v,forceUpdate:N,attributes:{},styles:{popper:{},arrow:{}}})),c=B.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:m})=>{const C={},M={};Object.keys(m.elements).forEach(_=>{C[_]=m.styles[_],M[_]=m.attributes[_]}),o({state:m,styles:C,attributes:M,update:v,forceUpdate:N,placement:m.placement})}}),[v,N,o]),d=B.useMemo(()=>(at(E.current,a)||(E.current=a),E.current),[a]);return B.useEffect(()=>{!p.current||!f||p.current.setOptions({placement:i,strategy:n,modifiers:[...d,c,_n]})},[n,i,c,f,d]),B.useEffect(()=>{if(!(!f||r==null||s==null))return p.current=Dn(r,s,Object.assign({},h,{placement:i,strategy:n,modifiers:[...d,Pn,c]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,o(m=>Object.assign({},m,{attributes:{},styles:{popper:{}}})))}},[f,r,s]),g}const Ds=()=>{};function Rn(r){return r.button===0}function Vn(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}const ft=r=>r&&("current"in r?r.current:r),ks={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function In(r,s=Ds,{disabled:x,clickTrigger:f="click"}={}){const i=B.useRef(!1),n=B.useRef(!1),a=B.useCallback(p=>{const v=ft(r);Os(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!v||Vn(p)||!Rn(p)||!!_t(v,p.target)||n.current,n.current=!1},[r]),h=Rt(p=>{const v=ft(r);v&&_t(v,p.target)&&(n.current=!0)}),E=Rt(p=>{i.current||s(p)});B.useEffect(()=>{if(x||r==null)return;const p=Rs(ft(r));let v=(p.defaultView||window).event,N=null;ks[f]&&(N=it(p,ks[f],h,!0));const g=it(p,f,a,!0),o=it(p,f,d=>{if(d===v){v=void 0;return}E(d)});let c=[];return"ontouchstart"in p.documentElement&&(c=[].slice.call(p.body.children).map(d=>it(d,"mousemove",Ds))),()=>{N==null||N(),g(),o(),c.forEach(d=>d())}},[r,x,f,a,h,E])}function Bn(r){const s={};return Array.isArray(r)?(r==null||r.forEach(x=>{s[x.name]=x}),s):r||s}function Hn(r={}){return Array.isArray(r)?r:Object.keys(r).map(s=>(r[s].name=s,r[s]))}function zn({enabled:r,enableEvents:s,placement:x,flip:f,offset:i,fixed:n,containerPadding:a,arrowElement:h,popperConfig:E={}}){var p,v,N,g,o;const c=Bn(E.modifiers);return Object.assign({},E,{placement:x,enabled:r,strategy:n?"fixed":E.strategy,modifiers:Hn(Object.assign({},c,{eventListeners:{enabled:s,options:(p=c.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},c.preventOverflow,{options:a?Object.assign({padding:a},(v=c.preventOverflow)==null?void 0:v.options):(N=c.preventOverflow)==null?void 0:N.options}),offset:{options:Object.assign({offset:i},(g=c.offset)==null?void 0:g.options)},arrow:Object.assign({},c.arrow,{enabled:!!h,options:Object.assign({},(o=c.arrow)==null?void 0:o.options,{element:h})}),flip:Object.assign({enabled:!!f},c.flip)}))})}var Dt={},Yn=typeof Dt<"u"&&Dt.navigator&&Dt.navigator.product==="ReactNative",Un=typeof document<"u";const Fn=Un||Yn?B.useLayoutEffect:B.useEffect;var Ts=function(s){return!s||typeof s=="function"?s:function(x){s.current=x}};function Xn(r,s){var x=Ts(r),f=Ts(s);return function(i){x&&x(i),f&&f(i)}}function Gn(r,s){return B.useMemo(function(){return Xn(r,s)},[r,s])}const Wn=27,qn=()=>{};function Kn(r,s,{disabled:x,clickTrigger:f}={}){const i=s||qn;In(r,i,{disabled:x,clickTrigger:f});const n=Rt(a=>{a.keyCode===Wn&&i(a)});B.useEffect(()=>{if(x||r==null)return;const a=Rs(ft(r));let h=(a.defaultView||window).event;const E=it(a,"keyup",p=>{if(p===h){h=void 0;return}n(p)});return()=>{E()}},[r,x,n])}const Ks=B.forwardRef((r,s)=>{const{flip:x,offset:f,placement:i,containerPadding:n,popperConfig:a={},transition:h}=r,[E,p]=Ms(),[v,N]=Ms(),g=Gn(p,s),o=ws(r.container),c=ws(r.target),[d,m]=B.useState(!r.show),C=On(c,E,zn({placement:i,enableEvents:!!r.show,containerPadding:n||5,flip:x,offset:f,arrowElement:v,popperConfig:a}));r.show?d&&m(!1):!r.transition&&!d&&m(!0);const M=(...y)=>{m(!0),r.onExited&&r.onExited(...y)},_=r.show||h&&!d;if(Kn(E,r.onHide,{disabled:!r.rootClose||r.rootCloseDisabled,clickTrigger:r.rootCloseEvent}),!_)return null;let A=r.children(Object.assign({},C.attributes.popper,{style:C.styles.popper,ref:g}),{popper:C,placement:i,show:!!r.show,arrowProps:Object.assign({},C.attributes.arrow,{style:C.styles.arrow,ref:N})});if(h){const{onExit:y,onExiting:S,onEnter:t,onEntering:e,onEntered:l}=r;A=ze.jsx(h,{in:r.show,appear:!0,onExit:y,onExiting:S,onExited:M,onEnter:t,onEntering:e,onEntered:l,children:A})}return o?hn.createPortal(A,o):null});Ks.displayName="Overlay";const $n=Xs("popover-header"),$s=Xs("popover-body");function Zs(r,s){let x=r;return r==="left"?x=s?"end":"start":r==="right"&&(x=s?"start":"end"),x}const Zn={placement:"right"},Qs=B.forwardRef(({bsPrefix:r,placement:s,className:x,style:f,children:i,body:n,arrowProps:a,popper:h,show:E,...p},v)=>{const N=Ut(r,"popover"),g=Gs(),[o]=(s==null?void 0:s.split("-"))||[],c=Zs(o,g);return ze.jsxs("div",{ref:v,role:"tooltip",style:f,"x-placement":o,className:Bt(x,N,o&&`bs-popover-${c}`),...p,children:[ze.jsx("div",{className:"popover-arrow",...a}),n?ze.jsx($s,{children:i}):i]})});Qs.defaultProps=Zn;const Qn=Object.assign(Qs,{Header:$n,Body:$s,POPPER_OFFSET:[0,8]});function Jn(r){const s=B.useRef(null),x=Ut(void 0,"popover"),f=B.useMemo(()=>({name:"offset",options:{offset:()=>s.current&&Ho(s.current,x)?r||Qn.POPPER_OFFSET:r||[0,0]}}),[r,x]);return[s,[f]]}const ei={transition:Fs,rootClose:!1,show:!1,placement:"top"};function ti(r,s){const{ref:x}=r,{ref:f}=s;r.ref=x.__wrapped||(x.__wrapped=i=>x(Vt(i))),s.ref=f.__wrapped||(f.__wrapped=i=>f(Vt(i)))}const Xt=B.forwardRef(({children:r,transition:s,popperConfig:x={},...f},i)=>{const n=B.useRef({}),[a,h]=cn(),[E,p]=Jn(f.offset),v=Ws(i,E),N=s===!0?Fs:s||void 0,g=un(o=>{h(o),x==null||x.onFirstUpdate==null||x.onFirstUpdate(o)});return Fn(()=>{a&&(n.current.scheduleUpdate==null||n.current.scheduleUpdate())},[a]),ze.jsx(Ks,{...f,ref:v,popperConfig:{...x,modifiers:p.concat(x.modifiers||[]),onFirstUpdate:g},transition:N,children:(o,{arrowProps:c,popper:d,show:m})=>{var C,M;ti(o,c);const _=d==null?void 0:d.placement,A=Object.assign(n.current,{state:d==null?void 0:d.state,scheduleUpdate:d==null?void 0:d.update,placement:_,outOfBoundaries:(d==null||(C=d.state)==null||(M=C.modifiersData.hide)==null?void 0:M.isReferenceHidden)||!1});return typeof r=="function"?r({...o,placement:_,show:m,...!s&&m&&{className:"show"},popper:A,arrowProps:c}):B.cloneElement(r,{...o,placement:_,arrowProps:c,popper:A,className:Bt(r.props.className,!s&&m&&"show"),style:{...r.props.style,...o.style}})}})});Xt.displayName="Overlay";Xt.defaultProps=ei;function si(r){return r&&typeof r=="object"?r:{show:r,hide:r}}function _s(r,s,x){const[f]=s,i=f.currentTarget,n=f.relatedTarget||f.nativeEvent[x];(!n||n!==i)&&!_t(i,n)&&r(...s)}const oi={defaultShow:!1,trigger:["hover","focus"]};function Js({trigger:r,overlay:s,children:x,popperConfig:f={},show:i,defaultShow:n=!1,onToggle:a,delay:h,placement:E,flip:p=E&&E.indexOf("auto")!==-1,...v}){const N=B.useRef(null),g=Ws(N,x.ref),o=An(),c=B.useRef(""),[d,m]=zo(i,n,a),C=si(h),{onFocus:M,onBlur:_,onClick:A}=typeof x!="function"?B.Children.only(x).props:{},y=k=>{g(Vt(k))},S=B.useCallback(()=>{if(o.clear(),c.current="show",!C.show){m(!0);return}o.set(()=>{c.current==="show"&&m(!0)},C.show)},[C.show,m,o]),t=B.useCallback(()=>{if(o.clear(),c.current="hide",!C.hide){m(!1);return}o.set(()=>{c.current==="hide"&&m(!1)},C.hide)},[C.hide,m,o]),e=B.useCallback((...k)=>{S(),M==null||M(...k)},[S,M]),l=B.useCallback((...k)=>{t(),_==null||_(...k)},[t,_]),u=B.useCallback((...k)=>{m(!d),A==null||A(...k)},[A,m,d]),w=B.useCallback((...k)=>{_s(S,k,"fromElement")},[S]),b=B.useCallback((...k)=>{_s(t,k,"toElement")},[t]),D=r==null?[]:[].concat(r),T={ref:y};return D.indexOf("click")!==-1&&(T.onClick=u),D.indexOf("focus")!==-1&&(T.onFocus=e,T.onBlur=l),D.indexOf("hover")!==-1&&(Os(D.length>1,'[react-bootstrap] Specifying only the `"hover"` trigger limits the visibility of the overlay to just mouse users. Consider also including the `"focus"` trigger so that touch and keyboard only users can see the overlay as well.'),T.onMouseOver=w,T.onMouseOut=b),ze.jsxs(ze.Fragment,{children:[typeof x=="function"?x(T):B.cloneElement(x,T),ze.jsx(Xt,{...v,show:d,onHide:t,flip:p,placement:E,popperConfig:f,target:N.current,children:s})]})}Js.defaultProps=oi;const ni={placement:"right"},Gt=B.forwardRef(({bsPrefix:r,placement:s,className:x,style:f,children:i,arrowProps:n,popper:a,show:h,...E},p)=>{r=Ut(r,"tooltip");const v=Gs(),[N]=(s==null?void 0:s.split("-"))||[],g=Zs(N,v);return ze.jsxs("div",{ref:p,style:f,role:"tooltip","x-placement":N,className:Bt(x,r,`bs-tooltip-${g}`),...E,children:[ze.jsx("div",{className:"tooltip-arrow",...n}),ze.jsx("div",{className:`${r}-inner`,children:i})]})});Gt.defaultProps=ni;Gt.displayName="Tooltip";const ii=({style:r,data:s})=>{const x=Yt(),{title:f,description:i,cta:n,img_desktop:a,img_mobile:h}=s,{src:E,alt:p}=x?a:h,{toRedirect:v}=mn(),N=()=>{v(n.url)};return j.jsxDEV("div",{className:r,onClick:N,"data-cy":"push-item",children:[j.jsxDEV("div",{className:"push-img",children:j.jsxDEV("img",{src:E,alt:p,className:"h-100"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:23,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:22,columnNumber:7},void 0),j.jsxDEV("div",{className:"push-desc d-flex flex-column justify-content-between align-items-start p-2 p-lg-3",children:[j.jsxDEV($.SzTypographie,{variant:"H4",weight:"medium",size:"L",children:f},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:26,columnNumber:9},void 0),x&&j.jsxDEV($.SzTypographie,{variant:"body",weight:"regular",className:"text-dark mb-2",tag:"span",children:i},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:30,columnNumber:11},void 0),j.jsxDEV("div",{className:"d-flex align-items-center",children:[j.jsxDEV($.SzTypographie,{variant:"body",size:"M",weight:"medium",className:"mb-0",children:n.label},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:40,columnNumber:11},void 0),j.jsxDEV($.SzIcon,{icon:"keyboard-arrow-right",variant:"line",className:"ml-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:48,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:39,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:25,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/PushItem/index.tsx",lineNumber:21,columnNumber:5},void 0)};var eo={exports:{}};(function(r,s){(function(x,f){r.exports=f(B)})(typeof self<"u"?self:Xo,function(x){return function(f){function i(a){if(n[a])return n[a].exports;var h=n[a]={i:a,l:!1,exports:{}};return f[a].call(h.exports,h,h.exports,i),h.l=!0,h.exports}var n={};return i.m=f,i.c=n,i.d=function(a,h,E){i.o(a,h)||Object.defineProperty(a,h,{configurable:!1,enumerable:!0,get:E})},i.n=function(a){var h=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(h,"a",h),h},i.o=function(a,h){return Object.prototype.hasOwnProperty.call(a,h)},i.p="",i(i.s=0)}([function(f,i,n){function a(){return a=Object.assign?Object.assign.bind():function(M){for(var _=1;_<arguments.length;_++){var A=arguments[_];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(M[y]=A[y])}return M},a.apply(this,arguments)}function h(M){return N(M)||v(M)||p(M)||E()}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(M,_){if(M){if(typeof M=="string")return g(M,_);var A=Object.prototype.toString.call(M).slice(8,-1);return A==="Object"&&M.constructor&&(A=M.constructor.name),A==="Map"||A==="Set"?Array.from(M):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?g(M,_):void 0}}function v(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}function N(M){if(Array.isArray(M))return g(M)}function g(M,_){(_==null||_>M.length)&&(_=M.length);for(var A=0,y=new Array(_);A<_;A++)y[A]=M[A];return y}function o(M){"@babel/helpers - typeof";return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(M)}Object.defineProperty(i,"__esModule",{value:!0}),n.d(i,"HighchartsReact",function(){return C});var c=n(1),d=n.n(c),m=typeof window<"u"?c.useLayoutEffect:c.useEffect,C=Object(c.memo)(Object(c.forwardRef)(function(M,_){var A=Object(c.useRef)(),y=Object(c.useRef)(),S=Object(c.useRef)(M.constructorType),t=Object(c.useRef)(M.highcharts);return m(function(){function e(){var u=M.highcharts||(typeof window>"u"?"undefined":o(window))==="object"&&window.Highcharts,w=M.constructorType||"chart";u?u[w]?M.options?y.current=u[w](A.current,M.options,M.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(y.current){if(M.allowChartUpdate!==!1)if(M.constructorType!==S.current||M.highcharts!==t.current)S.current=M.constructorType,t.current=M.highcharts,e();else if(!M.immutable&&y.current){var l;(l=y.current).update.apply(l,[M.options].concat(h(M.updateArgs||[!0,!0])))}else e()}else e()},[M.options,M.allowChartUpdate,M.updateArgs,M.containerProps,M.highcharts,M.constructorType]),m(function(){return function(){y.current&&(y.current.destroy(),y.current=null)}},[]),Object(c.useImperativeHandle)(_,function(){return{get chart(){return y.current},container:A}},[]),d.a.createElement("div",a({},M.containerProps,{ref:A}))}));i.default=C},function(f,i){f.exports=x}])})})(eo);var ri=eo.exports;const to=vt(ri);var so={exports:{}};(function(r){(function(s){r.exports?(s.default=s,r.exports=s):s(typeof Highcharts<"u"?Highcharts:void 0)})(function(s){function x(f,i,n,a){f.hasOwnProperty(i)||(f[i]=a.apply(null,n))}s=s?s._modules:{},x(s,"Extensions/DownloadURL.js",[s["Core/Globals.js"]],function(f){var i=f.isSafari,n=f.win,a=n.document,h=n.URL||n.webkitURL||n,E=f.dataURLtoBlob=function(p){if((p=p.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<p.length&&n.atob&&n.ArrayBuffer&&n.Uint8Array&&n.Blob&&h.createObjectURL){var v=n.atob(p[3]),N=new n.ArrayBuffer(v.length);N=new n.Uint8Array(N);for(var g=0;g<N.length;++g)N[g]=v.charCodeAt(g);return p=new n.Blob([N],{type:p[1]}),h.createObjectURL(p)}};return f=f.downloadURL=function(p,v){var N=n.navigator,g=a.createElement("a");if(typeof p=="string"||p instanceof String||!N.msSaveOrOpenBlob){if(p=""+p,N=/Edge\/\d+/.test(N.userAgent),(i&&typeof p=="string"&&p.indexOf("data:application/pdf")===0||N||2e6<p.length)&&(p=E(p)||"",!p))throw Error("Failed to convert to blob");if(typeof g.download<"u")g.href=p,g.download=v,a.body.appendChild(g),g.click(),a.body.removeChild(g);else try{var o=n.open(p,"chart");if(typeof o>"u"||o===null)throw Error("Failed to open window")}catch{n.location.href=p}}else N.msSaveOrOpenBlob(p,v)},{dataURLtoBlob:E,downloadURL:f}}),x(s,"Extensions/ExportData.js",[s["Core/Axis/Axis.js"],s["Core/Chart/Chart.js"],s["Core/Renderer/HTML/AST.js"],s["Core/Globals.js"],s["Core/DefaultOptions.js"],s["Core/Utilities.js"],s["Extensions/DownloadURL.js"]],function(f,i,n,a,h,E,p){function v(t,e){var l=o.navigator,u=-1<l.userAgent.indexOf("WebKit")&&0>l.userAgent.indexOf("Chrome"),w=o.URL||o.webkitURL||o;try{if(l.msSaveOrOpenBlob&&o.MSBlobBuilder){var b=new o.MSBlobBuilder;return b.append(t),b.getBlob("image/svg+xml")}if(!u)return w.createObjectURL(new o.Blob(["\uFEFF"+t],{type:e}))}catch{}}var N=a.doc,g=a.seriesTypes,o=a.win;a=h.getOptions,h=h.setOptions;var c=E.addEvent,d=E.defined,m=E.extend,C=E.find,M=E.fireEvent,_=E.isNumber,A=E.pick,y=p.downloadURL;h({exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:`
`},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table"}}),c(i,"render",function(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&!this.dataTableDiv&&this.viewData()}),i.prototype.setUpKeyToAxis=function(){g.arearange&&(g.arearange.prototype.keyToAxis={low:"y",high:"y"}),g.gantt&&(g.gantt.prototype.keyToAxis={start:"x",end:"x"})},i.prototype.getDataRows=function(t){var e=this.hasParallelCoordinates,l=this.time,u=this.options.exporting&&this.options.exporting.csv||{},w=this.xAxis,b={},D=[],T=[],k=[],P,O=this.options.lang.exportData,L=O.categoryHeader,I=O.categoryDatetimeHeader,R=function(K,te,ge){if(u.columnHeaderFormatter){var V=u.columnHeaderFormatter(K,te,ge);if(V!==!1)return V}return K?K instanceof f?K.options.title&&K.options.title.text||(K.dateTime?I:L):t?{columnTitle:1<ge?te:K.name,topLevelColumnTitle:K.name}:K.name+(1<ge?" ("+te+")":""):L},z=function(K,te,ge){var V={},U={};return te.forEach(function(F){var Z=(K.keyToAxis&&K.keyToAxis[F]||F)+"Axis";Z=_(ge)?K.chart[Z][ge]:K[Z],V[F]=Z&&Z.categories||[],U[F]=Z&&Z.dateTime}),{categoryMap:V,dateTimeValueAxisMap:U}},J=function(K,te){return K.data.filter(function(ge){return typeof ge.y<"u"&&ge.name}).length&&te&&!te.categories&&!K.keyToAxis?K.pointArrayMap&&K.pointArrayMap.filter(function(ge){return ge==="x"}).length?(K.pointArrayMap.unshift("x"),K.pointArrayMap):["x","y"]:K.pointArrayMap||["y"]},q=[],ee=0;this.setUpKeyToAxis(),this.series.forEach(function(K){var te=K.xAxis,ge=K.options.keys||J(K,te),V=ge.length,U=!K.requireSorting&&{},F=w.indexOf(te),Z=z(K,ge),ne;if(K.options.includeInDataExport!==!1&&!K.options.isInternal&&K.visible!==!1){for(C(q,function(G){return G[0]===F})||q.push([F,ee]),ne=0;ne<V;)P=R(K,ge[ne],ge.length),k.push(P.columnTitle||P),t&&T.push(P.topLevelColumnTitle||P),ne++;var re={chart:K.chart,autoIncrement:K.autoIncrement,options:K.options,pointArrayMap:K.pointArrayMap};K.options.data.forEach(function(G,H){e&&(Z=z(K,ge,H));var W={series:re};K.pointClass.prototype.applyOptions.apply(W,[G]),G=W.x;var Y=K.data[H]&&K.data[H].name;for(ne=0,(!te||K.exportKey==="name"||!e&&te&&te.hasNames&&Y)&&(G=Y),U&&(U[G]&&(G+="|"+H),U[G]=!0),b[G]||(b[G]=[],b[G].xValues=[]),b[G].x=W.x,b[G].name=Y,b[G].xValues[F]=W.x;ne<V;)H=ge[ne],Y=W[H],b[G][ee+ne]=A(Z.categoryMap[H][Y],Z.dateTimeValueAxisMap[H]?l.dateFormat(u.dateFormat,Y):null,Y),ne++}),ee+=ne}});for(ae in b)Object.hasOwnProperty.call(b,ae)&&D.push(b[ae]);var ae=t?[T,k]:[k];for(ee=q.length;ee--;){var de=q[ee][0],ue=q[ee][1],pe=w[de];D.sort(function(K,te){return K.xValues[de]-te.xValues[de]}),O=R(pe),ae[0].splice(ue,0,O),t&&ae[1]&&ae[1].splice(ue,0,O),D.forEach(function(K){var te=K.name;pe&&!d(te)&&(pe.dateTime?(K.x instanceof Date&&(K.x=K.x.getTime()),te=l.dateFormat(u.dateFormat,K.x)):te=pe.categories?A(pe.names[K.x],pe.categories[K.x],K.x):K.x),K.splice(ue,0,te)})}return ae=ae.concat(D),M(this,"exportData",{dataRows:ae}),ae},i.prototype.getCSV=function(t){var e="",l=this.getDataRows(),u=this.options.exporting.csv,w=A(u.decimalPoint,u.itemDelimiter!==","&&t?1.1.toLocaleString()[1]:"."),b=A(u.itemDelimiter,w===","?";":","),D=u.lineDelimiter;return l.forEach(function(T,k){for(var P,O=T.length;O--;)P=T[O],typeof P=="string"&&(P='"'+P+'"'),typeof P=="number"&&w!=="."&&(P=P.toString().replace(".",w)),T[O]=P;e+=T.join(b),k<l.length-1&&(e+=D)}),e},i.prototype.getTable=function(t){var e=function(l){if(!l.tagName||l.tagName==="#text")return l.textContent||"";var u=l.attributes,w="<"+l.tagName;return u&&Object.keys(u).forEach(function(b){w+=" "+b+'="'+u[b]+'"'}),w+=">",w+=l.textContent||"",(l.children||[]).forEach(function(b){w+=e(b)}),w+="</"+l.tagName+">"};return t=this.getTableAST(t),e(t)},i.prototype.getTableAST=function(t){var e=0,l=[],u=this.options,w=t?1.1.toLocaleString()[1]:".",b=A(u.exporting.useMultiLevelHeaders,!0);t=this.getDataRows(b);var D=b?t.shift():null,T=t.shift(),k=function(I,R,z,J){var q=A(J,"");return R="text"+(R?" "+R:""),typeof q=="number"?(q=q.toString(),w===","&&(q=q.replace(".",w)),R="number"):J||(R="empty"),z=m({class:R},z),{tagName:I,attributes:z,textContent:q}};u.exporting.tableCaption!==!1&&l.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:A(u.exporting.tableCaption,u.title.text?u.title.text:"Chart")});for(var P=0,O=t.length;P<O;++P)t[P].length>e&&(e=t[P].length);l.push(function(I,R,z){var J=[],q=0;z=z||R&&R.length;var ee=0,ae;if(ae=b&&I&&R){e:if(ae=I.length,R.length===ae){for(;ae--;)if(I[ae]!==R[ae]){ae=!1;break e}ae=!0}else ae=!1;ae=!ae}if(ae){for(ae=[];q<z;++q){var de=I[q],ue=I[q+1];de===ue?++ee:ee?(ae.push(k("th","highcharts-table-topheading",{scope:"col",colspan:ee+1},de)),ee=0):(de===R[q]?u.exporting.useRowspanHeaders?(ue=2,delete R[q]):(ue=1,R[q]=""):ue=1,de=k("th","highcharts-table-topheading",{scope:"col"},de),1<ue&&de.attributes&&(de.attributes.valign="top",de.attributes.rowspan=ue),ae.push(de))}J.push({tagName:"tr",children:ae})}if(R){for(ae=[],q=0,z=R.length;q<z;++q)typeof R[q]<"u"&&ae.push(k("th",null,{scope:"col"},R[q]));J.push({tagName:"tr",children:ae})}return{tagName:"thead",children:J}}(D,T,Math.max(e,T.length)));var L=[];return t.forEach(function(I){for(var R=[],z=0;z<e;z++)R.push(k(z?"td":"th",null,z?{}:{scope:"row"},I[z]));L.push({tagName:"tr",children:R})}),l.push({tagName:"tbody",children:L}),l={tree:{tagName:"table",id:"highcharts-data-table-"+this.index,children:l}},M(this,"aftergetTableAST",l),l.tree},i.prototype.downloadCSV=function(){var t=this.getCSV(!0);y(v(t,"text/csv")||"data:text/csv,\uFEFF"+encodeURIComponent(t),this.getFilename()+".csv")},i.prototype.downloadXLS=function(){var t='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";y(v(t,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+o.btoa(unescape(encodeURIComponent(t))),this.getFilename()+".xls")},i.prototype.viewData=function(){this.toggleDataTable(!0)},i.prototype.hideData=function(){this.toggleDataTable(!1)},i.prototype.toggleDataTable=function(t){(t=A(t,!this.isDataTableVisible))&&!this.dataTableDiv&&(this.dataTableDiv=N.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv&&(this.dataTableDiv.style.display=t?"block":"none",t&&(this.dataTableDiv.innerHTML=n.emptyHTML,new n([this.getTableAST()]).addToDOM(this.dataTableDiv),M(this,"afterViewData",this.dataTableDiv))),this.isDataTableVisible=t,t=this.exportDivElements;var e=this.options.exporting,l=e&&e.buttons&&e.buttons.contextButton.menuItems;e=this.options.lang,S&&S.menuItemDefinitions&&e&&e.viewData&&e.hideData&&l&&t&&(t=t[l.indexOf("viewData")])&&n.setElementHTML(t,this.isDataTableVisible?e.hideData:e.viewData)};var S=a().exporting;S&&(m(S.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.toggleDataTable()}}}),S.buttons&&S.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),g.map&&(g.map.prototype.exportKey="name"),g.mapbubble&&(g.mapbubble.prototype.exportKey="name"),g.treemap&&(g.treemap.prototype.exportKey="name")}),x(s,"masters/modules/export-data.src.js",[],function(){})})})(so);var ai=so.exports;const li=vt(ai);function ct(){const r="DAY",s="MONTH",x="LITERS",f=yt(),i=async o=>{var c,d,m;try{return await Le.get(Oe.CONSUMPTION.GET_CONSO_TELEMETRY,{params:o})}catch(C){if(((c=C.response)==null?void 0:c.status)===400&&((m=(d=C.response)==null?void 0:d.data)==null?void 0:m.code)==="02")return{content:{measures:[]},code:"00",message:"OK"};throw C}},n=({params:o,options:c,queryName:d="getTelemetryQuery"})=>st(d,()=>i(o),c),a=o=>{var d,m;return(((m=(d=o==null?void 0:o.data)==null?void 0:d.content)==null?void 0:m.measures)||[]).length>0},h=o=>xt(async d=>{const m=await i(d);return f.setQueryData([o],m),m}),E=(o,c,d=null)=>{if(o.length===0)return[];const m=new Date(o[0].date),C=Nn(m),M=o.filter(y=>y.index!==null).map(y=>{const S=new Date(y.date),t=fe(S,"yyyy-MM-dd"),e=y.volume;return{y:c===x?e*1e3:e,m3:e,litre:e*1e3,indexConso:y==null?void 0:y.index,name:t,noData:(y==null?void 0:y.volume)===0,isDisplayData:!0,numberOfDays:(y==null?void 0:y.numberOfDays)??1}}),_=M[M.length-1].name,A=new Date(_).getDate();if(d===r&&C!==M.length){let y=new Date(_),S=C-A;for(let t=1;t<=S;t++){y.setDate(y.getDate()+1);const e=fe(new Date(y),"yyyy-MM-dd");M.push({y:0,m3:0,litre:0,name:e,isDisplayData:!1})}}return M},p=o=>{if(o===r){const c=new Date,d=new Date(c.getFullYear(),c.getMonth(),0),m=c.getDate()-2<1,C=Es(m?d:c),M=m?d:new Date(c.getFullYear(),c.getMonth(),c.getDate()-1);return{startDate:fe(C,"yyyy-MM-dd"),endDate:fe(M,"yyyy-MM-dd")}}if(o===s){const c=new Date,d=c.getDate()-2<1,m=new Date(c.getFullYear(),c.getMonth(),0),C=new Date(c.getFullYear()-2,d?c.getMonth():c.getMonth()+1,c.getDate()),M=new Date(c.getFullYear(),d?c.getMonth()-1:c.getMonth(),d?m.getDate():c.getDate());return{startDate:fe(C,"yyyy-MM-dd"),endDate:fe(M,"yyyy-MM-dd")}}return{startDate:"",endDate:""}},v=(o,c)=>({startDate:fe(o,"yyyy-MM-dd"),endDate:fe(c,"yyyy-MM-dd")}),N=o=>{if((o==null?void 0:o.length)===0)return[];const c=g(o);if(c===void 0)return[];const d=c[(c==null?void 0:c.length)-1];let m=[d],C=[];for(let y=1;y<25;y++){const S=c[c.length-y];if(S===void 0)break;if(y<12){const t=new Date(d==null?void 0:d.name),e=new Date(t.getFullYear(),t.getMonth()-y),l=c.find(u=>{const w=new Date(u==null?void 0:u.name);return w.getMonth()===e.getMonth()&&w.getFullYear()===e.getFullYear()});l?m.unshift(l):m.unshift({y:0,m3:0,litre:0,indexConso:0,name:fe(e,"yyyy-MM-dd"),isDisplayData:!1})}else m.find(e=>{const l=new Date(e==null?void 0:e.name),u=new Date(S==null?void 0:S.name);return l.getMonth()===u.getMonth()&&l.getFullYear()===u.getFullYear()})===void 0&&C.push(S)}const M=[];m.map(y=>{const S=C.find(t=>{const e=new Date(y==null?void 0:y.name),l=new Date(t==null?void 0:t.name);return e.getMonth()===l.getMonth()});if(S)M.push(S);else{const t=new Date(y==null?void 0:y.name),e=new Date(t.getFullYear()-1,t.getMonth());M.push({y:0,m3:0,litre:0,name:fe(e,"yyyy-MM-dd"),isDisplayData:!1})}});const _=m==null?void 0:m.map(y=>({...y,type:"yearConso"}));return{categories:m==null?void 0:m.map(y=>{const S=new Date(y.name);return fe(S,"MMM")}),seriesData:[{name:"Consommation de l'année précèdente",color:"#E9ECEF",data:M},{name:"Consommation de l'année",color:"#49b4f8",data:_}]}},g=(o,c=!0,d=!0)=>{if((o==null?void 0:o.length)===0)return[];if(!d)return o;let m=o;return c||(m=o==null?void 0:o.filter(C=>(C==null?void 0:C.isDisplayData)===!0)),m==null?void 0:m.map(C=>C!=null&&C.isDisplayData?{...C,y:C==null?void 0:C.y}:{...C,y:null})};return{getTelemetry:n,hasDataTelemetry:a,mutationTelemetry:h,initDataTelemetry:E,initDataCompareMonth:N,getStartEndDate:p,getFormatStartEndDate:v,getDataNoEmpty:g}}const oo=""+new URL("back-histoconso-D7OwuM7B.png",import.meta.url).href,ci="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%208C1%209.98912%201.79018%2011.8968%203.1967%2013.3033C4.60322%2014.7098%206.51088%2015.5%208.5%2015.5C10.4891%2015.5%2012.3968%2014.7098%2013.8033%2013.3033C15.2098%2011.8968%2016%209.98912%2016%208C16%206.01088%2015.2098%204.10322%2013.8033%202.6967C12.3968%201.29018%2010.4891%200.5%208.5%200.5C6.51088%200.5%204.60322%201.29018%203.1967%202.6967C1.79018%204.10322%201%206.01088%201%208Z'%20stroke='%233D466C'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.5146%2010.2427L5.33301%2010.2427'%20stroke='%233D466C'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.87891%208.69727L5.33354%2010.2426L6.87891%2011.788'%20stroke='%233D466C'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33301%205.75757L11.5146%205.75757'%20stroke='%233D466C'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.96875%204.2124L11.514%205.75765L9.96875%207.3029'%20stroke='%233D466C'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ui=""+new URL("bathroom-shower-C8DI8gQy.svg",import.meta.url).href,hi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20id='Bathroom-Tub-Towel--Streamline-Streamline--3.0.svg'%20height='24'%20width='24'%3e%3cdesc%3eBathroom%20Tub%20Towel%20Streamline%20Icon:%20https://streamlinehq.com%3c/desc%3e%3cg%3e%3cpath%20d='M23.73%2014.32A1%201%200%200%200%2023%2014h-0.25a0.5%200.5%200%200%201%20-0.5%20-0.5V3A3%203%200%200%200%2020.48%200.27a3%203%200%200%200%20-3.27%200.53l-0.46%200.47a0.49%200.49%200%200%201%20-0.5%200.12%202.9%202.9%200%200%200%20-2.93%200.67l-0.21%200.2a1%201%200%200%200%200%201.42l2.64%202.64a1%201%200%200%200%201.42%200l0.2%20-0.2a2.87%202.87%200%200%200%200.69%20-2.94%200.48%200.48%200%200%201%200.12%20-0.51l0.41%20-0.41a1%201%200%200%201%201.07%20-0.17%201%201%200%200%201%200.59%200.91v10.5a0.5%200.5%200%200%201%20-0.5%200.5h-5.37a0.5%200.5%200%200%201%20-0.48%20-0.35%202%202%200%200%200%20-1.9%20-1.4H7a2%202%200%200%200%20-1.9%201.4%200.5%200.5%200%200%201%20-0.48%200.35H1a1%201%200%200%200%20-0.73%200.32%201%201%200%200%200%20-0.27%200.74A9.51%209.51%200%200%200%209.49%2024h5A9.51%209.51%200%200%200%2024%2015.06a1%201%200%200%200%20-0.27%20-0.74ZM12%2019.75a0.5%200.5%200%200%201%20-0.5%200.5h-4a0.5%200.5%200%200%201%20-0.5%20-0.5v-5a0.5%200.5%200%200%201%200.5%20-0.5h4a0.5%200.5%200%200%201%200.5%200.5Z'%20fill='%2359B9FF'%20stroke-width='1'%3e%3c/path%3e%3cpath%20d='M9%206.09A1.06%201.06%200%200%200%209.42%206l1.82%20-0.84a1%201%200%200%200%20-0.84%20-1.82l-1.82%200.84A1%201%200%200%200%209%206.09Z'%20fill='%2359B9FF'%20stroke-width='1'%3e%3c/path%3e%3cpath%20d='M14.12%2011.51a1.09%201.09%200%200%200%200.39%200.08%201%201%200%200%200%200.92%20-0.61l0.79%20-1.84a1%201%200%201%200%20-1.84%20-0.78l-0.78%201.84a1%201%200%200%200%200.52%201.31Z'%20fill='%2359B9FF'%20stroke-width='1'%3e%3c/path%3e%3cpath%20d='M10.49%209.08a1%201%200%200%200%200.71%200.29%201%201%200%200%200%200.7%20-0.29l1.42%20-1.4a1%201%200%200%200%200%20-1.42%201%201%200%200%200%20-1.41%200l-1.43%201.4a1%201%200%200%200%200.01%201.42Z'%20fill='%2359B9FF'%20stroke-width='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",di="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_3751_35524)'%3e%3cg%20clip-path='url(%23clip1_3751_35524)'%3e%3cpath%20d='M26.4%200H22.4C21.0745%200%2020%201.07452%2020%202.4V30.6C20%2031.9255%2021.0745%2033%2022.4%2033H28.6C29.9255%2033%2031%2031.9255%2031%2030.6V13.1781C31%2011.6352%2030.6202%2010.116%2029.8941%208.7546L29.0824%207.23254C28.897%206.88494%2028.8%206.49706%2028.8%206.10313V2.4C28.8%201.07452%2027.7255%200%2026.4%200Z'%20fill='%2377B7FC'%20stroke='white'%20stroke-width='1.6'/%3e%3cpath%20d='M17.6%200H14.4C13.0745%200%2012%201.07452%2012%202.4V30.6C12%2031.9255%2013.0745%2033%2014.4%2033H19.6C20.9255%2033%2022%2031.9255%2022%2030.6V12.9867C22%2011.5662%2021.678%2010.164%2021.0583%208.88577L20.2404%207.19905C20.0822%206.87268%2020%206.51469%2020%206.15199V2.4C20%201.07452%2018.9255%200%2017.6%200Z'%20fill='%2377B7FC'%20stroke='white'%20stroke-width='1.6'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.00117%200H4.68117C3.35569%200%202.28117%201.07452%202.28117%202.4V6.08862C2.28117%206.46593%202.19221%206.83794%202.0215%207.17443L1.21822%208.75784C0.549614%2010.0758%200.201172%2011.5328%200.201172%2013.0106V30.4004C0.201172%2031.7258%201.27569%2032.8004%202.60117%2032.8004H5.00117H8.20117H10.6012C11.9267%2032.8004%2013.0012%2031.7258%2013.0012%2030.4004V13.0106C13.0012%2011.5328%2012.6527%2010.0758%2011.9841%208.75784L11.1808%207.17443C11.0101%206.83794%2010.9212%206.46593%2010.9212%206.08862V2.4C10.9212%201.07452%209.84665%200%208.52117%200H8.20117H5.00117Z'%20fill='%2377B7FC'/%3e%3cpath%20d='M2.0215%207.17443L1.30806%206.81249L1.30806%206.81249L2.0215%207.17443ZM1.21822%208.75784L0.504774%208.39591L1.21822%208.75784ZM11.9841%208.75784L12.6976%208.39591L11.9841%208.75784ZM11.1808%207.17443L11.8943%206.81249V6.81249L11.1808%207.17443ZM4.68117%200.8H5.00117V-0.8H4.68117V0.8ZM3.08117%202.4C3.08117%201.51634%203.79752%200.8%204.68117%200.8V-0.8C2.91386%20-0.8%201.48117%200.632688%201.48117%202.4H3.08117ZM3.08117%206.08862V2.4H1.48117V6.08862H3.08117ZM2.73494%207.53637C2.96255%207.08771%203.08117%206.59171%203.08117%206.08862H1.48117C1.48117%206.34016%201.42186%206.58816%201.30806%206.81249L2.73494%207.53637ZM1.93166%209.11978L2.73494%207.53637L1.30806%206.81249L0.504774%208.39591L1.93166%209.11978ZM1.00117%2013.0106C1.00117%2011.6586%201.31996%2010.3256%201.93166%209.11978L0.504774%208.39591C-0.220731%209.826%20-0.598828%2011.407%20-0.598828%2013.0106H1.00117ZM1.00117%2030.4004V13.0106H-0.598828V30.4004H1.00117ZM2.60117%2032.0004C1.71752%2032.0004%201.00117%2031.284%201.00117%2030.4004H-0.598828C-0.598828%2032.1677%200.83386%2033.6004%202.60117%2033.6004V32.0004ZM5.00117%2032.0004H2.60117V33.6004H5.00117V32.0004ZM5.00117%2033.6004H8.20117V32.0004H5.00117V33.6004ZM8.20117%2033.6004H10.6012V32.0004H8.20117V33.6004ZM10.6012%2033.6004C12.3685%2033.6004%2013.8012%2032.1677%2013.8012%2030.4004H12.2012C12.2012%2031.284%2011.4848%2032.0004%2010.6012%2032.0004V33.6004ZM13.8012%2030.4004V13.0106H12.2012V30.4004H13.8012ZM13.8012%2013.0106C13.8012%2011.407%2013.4231%209.826%2012.6976%208.39591L11.2707%209.11978C11.8824%2010.3256%2012.2012%2011.6586%2012.2012%2013.0106H13.8012ZM12.6976%208.39591L11.8943%206.81249L10.4674%207.53637L11.2707%209.11978L12.6976%208.39591ZM11.8943%206.81249C11.7805%206.58816%2011.7212%206.34016%2011.7212%206.08862H10.1212C10.1212%206.59171%2010.2398%207.08771%2010.4674%207.53637L11.8943%206.81249ZM11.7212%206.08862V2.4H10.1212V6.08862H11.7212ZM11.7212%202.4C11.7212%200.632688%2010.2885%20-0.8%208.52117%20-0.8V0.8C9.40483%200.8%2010.1212%201.51634%2010.1212%202.4H11.7212ZM8.52117%20-0.8H8.20117V0.8H8.52117V-0.8ZM8.20117%20-0.8H5.00117V0.8H8.20117V-0.8Z'%20fill='white'/%3e%3cpath%20d='M0.599609%2018.126H30.9996'%20stroke='white'%20stroke-width='1.6'/%3e%3cpath%20d='M0.599609%206.9043H30.9996'%20stroke='white'%20stroke-width='1.6'/%3e%3cpath%20d='M0.599609%2022.4419H30.9996'%20stroke='white'%20stroke-width='1.6'/%3e%3cpath%20d='M0.599609%2026.7578H30.9996'%20stroke='white'%20stroke-width='1.6'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_3751_35524'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_3751_35524'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",pi="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%208C18.2091%208%2020%206.20914%2020%204C20%201.79086%2018.2091%200%2016%200C13.7909%200%2012%201.79086%2012%204C12%206.20914%2013.7909%208%2016%208Z'%20fill='%2359B9FF'/%3e%3cpath%20d='M18.9631%2010.6667H13.0372C10.995%2010.6667%209.3335%2012.3756%209.3335%2014.4762V22.8572C9.3335%2023.2069%209.56461%2023.5109%209.89424%2023.5962L12.352%2024.2286L13.0409%2031.3143C13.0787%2031.7029%2013.3972%2032%2013.7779%2032H18.2224C18.6031%2032%2018.9216%2031.7029%2018.9594%2031.3143L19.6483%2024.2286L22.1061%2023.5962C22.4357%2023.5109%2022.6668%2023.2069%2022.6668%2022.8572V14.4762C22.6668%2012.3756%2021.0053%2010.6667%2018.9631%2010.6667Z'%20fill='%2359B9FF'/%3e%3c/svg%3e",mi="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18331_3375)'%3e%3cg%20clip-path='url(%23clip1_18331_3375)'%3e%3cpath%20d='M16%200C12.8355%200%209.74207%200.938384%207.11088%202.69649C4.4797%204.45459%202.42894%206.95345%201.21793%209.87707C0.00693258%2012.8007%20-0.309921%2016.0177%200.307443%2019.1214C0.924806%2022.2251%202.44866%2025.0761%204.6863%2027.3137C6.92394%2029.5514%209.77487%2031.0752%2012.8786%2031.6926C15.9823%2032.3099%2019.1993%2031.9931%2022.1229%2030.7821C25.0466%2029.5711%2027.5454%2027.5203%2029.3035%2024.8891C31.0616%2022.2579%2032%2019.1645%2032%2016C32%2011.7565%2030.3143%207.68687%2027.3137%204.68629C24.3131%201.68571%2020.2435%200%2016%200V0ZM18.6667%2011.1867C19.1087%2011.1867%2019.5326%2011.3623%2019.8452%2011.6748C20.1577%2011.9874%2020.3333%2012.4113%2020.3333%2012.8533C20.3333%2013.2954%2020.1577%2013.7193%2019.8452%2014.0318C19.5326%2014.3444%2019.1087%2014.52%2018.6667%2014.52H12.84C12.7573%2014.5163%2012.6763%2014.5447%2012.6142%2014.5994C12.552%2014.6541%2012.5135%2014.7308%2012.5067%2014.8133C12.4858%2015.2086%2012.4858%2015.6047%2012.5067%2016V16.4667C12.5101%2016.5527%2012.5468%2016.6341%2012.6089%2016.6938C12.671%2016.7535%2012.7539%2016.7867%2012.84%2016.7867H17.08C17.522%2016.7867%2017.946%2016.9623%2018.2585%2017.2748C18.5711%2017.5874%2018.7467%2018.0113%2018.7467%2018.4533C18.7467%2018.8954%2018.5711%2019.3193%2018.2585%2019.6318C17.946%2019.9444%2017.522%2020.12%2017.08%2020.12H13.9867C13.9235%2020.1207%2013.8619%2020.14%2013.8097%2020.1756C13.7575%2020.2112%2013.717%2020.2614%2013.6933%2020.32C13.6584%2020.371%2013.6397%2020.4315%2013.6397%2020.4933C13.6397%2020.5552%2013.6584%2020.6156%2013.6933%2020.6667C15.0267%2022.2933%2017.32%2023%2021%2023C21.442%2023%2021.866%2023.1756%2022.1785%2023.4882C22.4911%2023.8007%2022.6667%2024.2246%2022.6667%2024.6667C22.6667%2025.1087%2022.4911%2025.5326%2022.1785%2025.8452C21.866%2026.1577%2021.442%2026.3333%2021%2026.3333C18.5467%2026.3333%2011.9467%2026.3333%209.78667%2020.3467C9.76488%2020.2821%209.72379%2020.2257%209.66896%2020.1852C9.61412%2020.1446%209.54817%2020.1219%209.48001%2020.12H8.36001C7.91798%2020.12%207.49406%2019.9444%207.1815%2019.6318C6.86894%2019.3193%206.69334%2018.8954%206.69334%2018.4533C6.69334%2018.0113%206.86894%2017.5874%207.1815%2017.2748C7.49406%2016.9623%207.91798%2016.7867%208.36001%2016.7867H8.80001C8.84751%2016.7888%208.89489%2016.7804%208.93871%2016.7619C8.98253%2016.7435%209.02169%2016.7155%209.05334%2016.68C9.08298%2016.648%209.10545%2016.61%209.11924%2016.5686C9.13304%2016.5272%209.13784%2016.4834%209.13334%2016.44C9.13334%2016.2933%209.13334%2016.1467%209.13334%2016C9.13334%2015.6%209.13334%2015.24%209.13334%2014.88C9.1439%2014.8047%209.12477%2014.7282%209.08001%2014.6667C9.04931%2014.6336%209.01221%2014.607%208.97095%2014.5887C8.9297%2014.5704%208.88515%2014.5606%208.84001%2014.56H8.41334C7.97131%2014.56%207.54739%2014.3844%207.23483%2014.0718C6.92227%2013.7593%206.74667%2013.3354%206.74667%2012.8933C6.74667%2012.4513%206.92227%2012.0274%207.23483%2011.7148C7.54739%2011.4023%207.97131%2011.2267%208.41334%2011.2267H9.74667C9.81173%2011.2269%209.87543%2011.2081%209.92992%2011.1725C9.98442%2011.137%2010.0273%2011.0863%2010.0533%2011.0267C12.4267%205.69333%2018.6533%205.69333%2021.0133%205.69333C21.4554%205.69333%2021.8793%205.86893%2022.1919%206.18149C22.5044%206.49405%2022.68%206.91797%2022.68%207.36C22.68%207.80203%2022.5044%208.22595%2022.1919%208.53851C21.8793%208.85107%2021.4554%209.02667%2021.0133%209.02667C17.9467%209.02667%2015.8267%209.50667%2014.4533%2010.6133C14.3971%2010.6553%2014.3562%2010.7145%2014.3369%2010.782C14.3176%2010.8494%2014.3211%2010.9214%2014.3467%2010.9867C14.3685%2011.0513%2014.4096%2011.1077%2014.4644%2011.1482C14.5192%2011.1887%2014.5852%2011.2115%2014.6533%2011.2133L18.6667%2011.1867Z'%20fill='%2359B9FF'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18331_3375'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_18331_3375'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",no=()=>{var q,ee,ae;const r=qe(),[s,x]=B.useState(!1),{pathname:f}=Qe(),[i,n]=B.useState(!1),[a,h]=B.useState(null),{data:E}=Be("getServicesStatus"),{t:p}=De(),{dataEquivalences:v,checkIsTR:N,dataPrice:g}=B.useContext(Ge),{view:o,date:c,value:d,period:m,first_date:C,last_date:M,type:_}=v,A=o==="MONTH"?m:1,y=g?parseFloat(g):0,S=Math.round(d*y/1e3),t=Math.round(d*y*30/1e3/m),l=[{type:"house",count:((de,ue)=>{if(!ue)return 0;const pe=Math.round((de/A-70)/65*2)/2;return pe<=0?0:pe>15?15:pe})(d,m),icon:pi},{type:N?"euro_tr":"euro_non_tr",count:N?S:t,icon:mi}],u=()=>N?o==="MONTH"?"month":"day":_===$o?m&&m>1?"non_tr_estimate":"non_tr_estimate_first_index":m&&m>1?"non_tr":"non_tr_first_index",{data:w,isLoading:b,isError:D}=st("invoiceExplanation",()=>Le.get(Oe.INVOICE_EXPLANATION)),T=((q=w==null?void 0:w.data)==null?void 0:q.content)||{},{pf_card_cmf:k}=T,P=(de,ue)=>{const pe=de.find(K=>{var te;return K.type==="pf_card_cmf"&&((te=K.modalContent)==null?void 0:te.type)===ue});return(pe==null?void 0:pe.modalContent)||{}},O=()=>{x(!1)},L=de=>{const ue=P(k,de);h({title:(ue==null?void 0:ue.title)||"",modalContent:ue}),x(!0)},I=()=>{r.push(Ee(he.ACCOUNT_CONSUMPTION_TR))},R=Ee(he.ACCOUNT_CONSUMPTION_TR,{modal:"activation-on-connect-coach"}),z=((ae=(ee=E==null?void 0:E.data)==null?void 0:ee.content)==null?void 0:ae.smartcoach)||"",J=N&&Ot.ELIGIBLE===z;return j.jsxDEV(j.Fragment,{children:[j.jsxDEV("div",{className:"block-equivalences w-100 bg-gray-100 rounded-2","data-cy":"block-equivalences",children:j.jsxDEV("div",{className:"equivalences-content p-3 p-lg-4 d-flex flex-column justify-content-center",children:[j.jsxDEV($.SzTypographie,{variant:"H4",size:"L",weight:"medium",className:"mb-3 new-line",children:j.jsxDEV(Ze,{i18nKey:`histoConso.equivalence.title_${u()}`,values:{date:c,first_date:C,last_date:M},components:{item:j.jsxDEV($.SzTypographie,{variant:"body",size:"M",weight:"bold",className:"text-blue-electric",tag:"span"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:158,columnNumber:19},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:153,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:147,columnNumber:11},void 0),m&&(d<0?j.jsxDEV("div",{className:"bg-white rounded-2 shadow-sm","data-cy":"block-negative-conso",children:j.jsxDEV("div",{className:"p-3",children:j.jsxDEV($.SzTypographie,{variant:"body",weight:"medium",size:"S",className:"text-gray-600 mb-0",children:j.jsxDEV(Ze,{i18nKey:"histoConso.equivalence.negative_conso",components:{boldText:j.jsxDEV($.SzTypographie,{variant:"body",weight:"bold",size:"M",className:"text-black",tag:"span"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:187,columnNumber:27},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:183,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:177,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:176,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:172,columnNumber:15},void 0):j.jsxDEV(j.Fragment,{children:[j.jsxDEV(fi,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:202,columnNumber:17},void 0),l.map((de,ue)=>j.jsxDEV("div",{className:be("shadow-sm bg-white rounded-2",{"mb-3":ue!==l.length-1}),children:j.jsxDEV(io,{currentEquivalence:de},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:210,columnNumber:21},void 0)},ue,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:204,columnNumber:19},void 0))]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:201,columnNumber:15},void 0)),j.jsxDEV("div",{className:"mt-auto d-flex flex-column",children:[b?j.jsxDEV("div",{className:"col-10 mx-auto py-3",children:j.jsxDEV(We,{count:1,height:18,width:"100%"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:219,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:218,columnNumber:15},void 0):!D&&j.jsxDEV($.SzButton,{id:"histo-conso-open-modal",variant:"text",onClick:()=>L("pf_modale_ma_conso"),children:j.jsxDEV($.SzTypographie,{variant:"caption",weight:"regular",size:"M",tag:"span",children:p("histoConso.equivalence.pedago_link")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:228,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:223,columnNumber:17},void 0),J&&j.jsxDEV(j.Fragment,{children:j.jsxDEV($.SzTypographie,{id:"connectcoach-eligible",variant:"caption",weight:"regular",size:"M",className:"mt-3 pt-2 text-dark border-top border-1 border-gray-200",children:[j.jsxDEV($.SzIcon,{variant:"line",icon:"information-circle",className:" sz-typo-body md text-dark font-family-regular mr-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:248,columnNumber:19},void 0),j.jsxDEV(Ze,{i18nKey:"histoConso.equivalence.on-connect-link",components:{redirect:j.jsxDEV(Lt,{className:"text-dark font-family-regular",decorate:!0,to:he.CONNECT_COACH_LANDING},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:257,columnNumber:25},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:253,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:241,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:240,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:216,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:146,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:142,columnNumber:7},void 0),j.jsxDEV($.SzModal,{show:s,handleClose:O,size:"xl",backdrop:!0,centered:!0,scrollable:!0,border:"smooth",fullscreen:"md",title:"",children:[a&&j.jsxDEV(sn,{title:a.title,modalContent:a.modalContent},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:283,columnNumber:11},void 0),j.jsxDEV("div",{className:"text-center",children:j.jsxDEV($.SzButton,{variant:"contained",border:"soft",onClick:O,id:"close-pedago-modal",children:p("pedagoFacture.board.modal.btn")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:290,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:289,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:271,columnNumber:7},void 0),j.jsxDEV($.SzModal,{show:f===R&&(J||!1),handleClose:I,size:"lg",backdrop:!0,centered:!0,scrollable:!0,border:"smooth",fullscreen:"md",title:"",className:be("modal-consent sds-legacy-layout",{"hide-btn-close":i}),children:j.jsxDEV(rn,{handleClose:I,source:"histoConso",onHideCloseModal:n},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:315,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:301,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:141,columnNumber:5},void 0)},fi=()=>{const[r,s]=B.useState(0),{t:x}=De(),{dataEquivalences:f}=B.useContext(Ge),{value:i,period:n}=f,a=g=>n?g():0,h=()=>a(()=>Math.round(i/n/50*2)/2),E=()=>a(()=>Math.round(i/n/120*2)/2),p=()=>a(()=>Math.round(i/n/9)),v=[{type:"shower",count:h(),icon:ui},{type:"bath",count:E(),icon:hi},{type:"water_pack",count:p(),icon:di}],N=()=>{const g=(r+1)%v.length;s(g)};return j.jsxDEV("div",{className:"shadow-sm bg-white rounded-2 mb-3",children:[j.jsxDEV(io,{currentEquivalence:v[r]},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:360,columnNumber:7},void 0),j.jsxDEV("div",{className:"p-3 border-top border-1 border-gray-100 cursor-pointer",onClick:N,onKeyDown:N,role:"button",tabIndex:0,children:j.jsxDEV("div",{className:"row no-gutters align-items-center justify-content-center",children:j.jsxDEV($.SzTypographie,{variant:"body",size:"S",weight:"medium",className:"mb-0 mr-2",children:[x("histoConso.equivalence.show_other"),j.jsxDEV("img",{src:ci,alt:"",className:"ml-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:376,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:369,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:368,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:361,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:359,columnNumber:5},void 0)},io=({currentEquivalence:r})=>{const{t:s}=De(),{type:x,count:f,icon:i}=r,n=Intl.NumberFormat("fr-FR").format(f),a=x==="house"&&f>15?"+15":n,{dataEquivalences:h}=B.useContext(Ge),{view:E}=h;return j.jsxDEV("div",{className:"p-3 w-100 d-flex flex-row align-items-center",children:[j.jsxDEV("img",{src:i,alt:""},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:398,columnNumber:7},void 0),j.jsxDEV($.SzTypographie,{variant:"body",size:"S",weight:"medium",className:"text-gray-600 pl-3 mb-0",children:j.jsxDEV(Ze,{i18nKey:`histoConso.equivalence.${x}`,values:{count:f===0?1:Math.ceil(f),numberPeople:a,displayCount:n,period:E==="MONTH"?s("histoConso.equivalence.by_day"):""},components:{boldText:j.jsxDEV($.SzTypographie,{weight:"bold",tag:"span",className:"text-expert-blue"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:415,columnNumber:15},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:405,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:399,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/BlockEquivalences/index.tsx",lineNumber:397,columnNumber:5},void 0)},gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALKSURBVHgBrVbNThNRFD7ndqhb3sDRF3BYkBgDWCIoO3gD6Y5oE8rOHe0TWCISd8wjwE6FaBFCSFx0nsBMfIJuZe7M8Tu3gym2M0XkJP2ZmXv+v/OdYSqRWq05nVVtU5ieMrEvIn7+qE9MkRAdWLaHFx8/xEU2eKzhlaafit0noZpew1AE4xEzx+4ajvA/gHIwsCJhwml7nKMRB/MvXjdJeNsZyqjjWW+n2+30aXyGflpNN3FyXaOA5/bp8ftOoYOF540Wzm2LUNcmtn7RLU59xNEUMmaqwWD72+fd1oiDPPK3+ISnR+/qdAtZWGqEYuglZbJ1lYlz4Gqe2R4ij86OdhfpP2R+ufEVP0FSsTPaE6M3U0ldzbUshYrPGmuqPL+ETEukknh1DXsq9fb12mj0aM46kglLa254GooKz0dlDgCIGH3saD8U5saKXdUHyWWyU6aIvoToT6eSTG3RBPEuPWfLVu2mQTZrivNJiHmy/CqQinARZP/Kog+7EWOODPAbCEs0yXiFTY8zmtiDKxHmCAPoa5OnWQYTWiTnR3sRNBTjERRX6SYORGL01Tm4kaAHJ6JN/kdBDzhGiXy6YwFXAZ3UN5oKShTQHQuLBAoeg7S7yoqK2YlaiEjPzq00ao9XNvyiYzpbMmDaAzOM2Un2U8naSL2vaMKk9grPZamzBWY4NA7XYE9gtlkWlYqiyVxWZhRRKWWLRdEP6FscM3h6U/kjrdpezh+lZJcP2gkVZmkdByVJ2na29SuOL/r3H8z+AqY27j+c9X/++H5ItxDsk5CUGYTenH/Z+6T3ri2cuaXGNhtqaclAt/WyXTsswysWW7B1drzbvno2ujKVCgxWpq5A5jAxyU6Roz8vBUSuqYi8hX1yjTS5QBErEDuClcbdoUj5SnJKYQymzk4ORSpbsWMdDDuy90DnGa0xO2P5rGD6lWtguOylQOU3jfZ8j2bPR28AAAAASUVORK5CYII=",vi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACMSURBVHgB7ZLNEUAwEIXfGuOsBI0wTvpw5qADdKAknSiBAhDWDJNB/CVH323z9r1sJgvs8KOkgYIzzTq2kQclR42CKC0EkOMDBJTzWKkIw8xdD7lWGWSNPVwvT6jrqtu6BMWqAFnbPFc33sFe0gkwMoEFTf4AUwHyKj9l9dhiRDE4fTv/6auAAT3YOwGMFTBVmyfXKgAAAABJRU5ErkJggg==";function bi({selectedMonth:r,onChangeDate:s}){const x=r??new Date,f=r?!1:x.getDate()-2<1,i=new Date(x.getFullYear(),x.getMonth(),0),[n,a]=B.useState(f?i:x),[h,E]=B.useState(!1),[p,v]=B.useState(f?i:x),N=(A,y)=>{const S=fe(y,"MMM");return j.jsxDEV($.SzTypographie,{weight:"medium",className:"mb-0",children:S},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CalendarConso.jsx",lineNumber:23,columnNumber:7},this)},g=({date:A,view:y})=>{const S=new Date,t=f?new Date(S.getFullYear(),S.getMonth()-1):new Date,e=new Date(S.getFullYear()-2,S.getMonth()+1);return y==="year"?A<e||A>t:!1},o=()=>{if(h){const A=new Date,y=new Date(A.getFullYear()-2,A.getMonth());return p>y}return!0},c=()=>{const A=new Date;if(h){const t=new Date(A.getFullYear()+1,A.getMonth(),1);return new Date(p.getFullYear()+1,p.getMonth(),1)<t}const y=new Date(A.getFullYear(),A.getMonth()+1,1);return new Date(p.getFullYear(),p.getMonth()+1,1)<y},d=()=>{E(!h),h&&v(n)},m=A=>{s(A)},C=A=>{m(A),E(!1),v(A),a(A)},M=A=>{const{activeStartDate:y,view:S}=A;if(S==="month")C(y);else if(S==="year"){const t=fe(p,"yyyy"),e=fe(y,"yyyy"),l=fe(n,"yyyy");t!==e&&v(l===e?n:y)}else S!=="decade"&&(v(y),a(y))},_=A=>{const{date:y}=A,S=fe(y,"LLLL yyyy"),t=fe(y,"yyyy");return h?t:j.jsxDEV(j.Fragment,{children:[j.jsxDEV($.SzTypographie,{weight:"medium",tag:"span",className:"mb-0 text-expert-blue",children:S.replace(/\b(\w)/,e=>e.toUpperCase())},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CalendarConso.jsx",lineNumber:132,columnNumber:9},this),j.jsxDEV("img",{src:vi,alt:"",className:"ml-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CalendarConso.jsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CalendarConso.jsx",lineNumber:131,columnNumber:7},this)};return j.jsxDEV(Yo,{onClickMonth:A=>{const y=A.getFullYear(),S=A.getMonth(),t=n.getFullYear();y!==t&&S===0&&C(A)},value:n,view:h?"year":"month",className:be("ml-lg-3",{"react-calendar-selected":!h}),activeStartDate:p,tileDisabled:g,formatMonth:N,onDrillUp:d,onActiveStartDateChange:M,navigationLabel:_,prevLabel:j.jsxDEV($.SzIcon,{variant:"line",icon:"arrow-left-1",className:be({disabled:!o()})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CalendarConso.jsx",lineNumber:168,columnNumber:9},this),nextLabel:j.jsxDEV($.SzIcon,{variant:"line",icon:"arrow-right-1",className:be({disabled:!c()})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CalendarConso.jsx",lineNumber:175,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CalendarConso.jsx",lineNumber:146,columnNumber:5},this)}function yi({type:r,chartRef:s,seriesData:x=[],maxRangeData:f,maxRangeDataMobile:i,options:n={},confToolTip:a={},isUpdateToolTip:h=!1,getStartIndex:E,getIndexToolTip:p,initColor:v,formatDataLabel:N,getDataTooltip:g=()=>{}}){const o=Re();return j.jsxDEV(qt,{type:r,chartRef:s,seriesData:x,disabledEventLegend:!0,maxRangeData:f,maxRangeDataMobile:i,showNextPrev:o,options:n,confToolTip:a,isUpdateToolTip:h,getStartIndex:E,getIndexToolTip:p,initColor:v,formatDataLabel:N,getDataTooltip:g},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CompareMonth.jsx",lineNumber:23,columnNumber:5},this)}const xi=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ro=r=>Array.isArray(r)&&r.every(s=>typeof s=="object"&&!(s instanceof Array)),wi=r=>Array.isArray(r)&&r.every(s=>Array.isArray(s)),Ci=r=>Array.from(r.map(s=>Object.keys(s)).reduce((s,x)=>new Set([...s,...x]),[])),Ni=(r,s)=>{s=s||Ci(r);let x=s,f=s;ro(s)&&(x=s.map(n=>n.label),f=s.map(n=>n.key));const i=r.map(n=>f.map(a=>Si(a,n)));return[x,...i]},Si=(r,s)=>{const x=r.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(f,i,n,a){const h=f[i];if(h==null)a.splice(1);else return h},s);return x===void 0?r in s?s[r]:"":x},Ei=r=>typeof r>"u"||r===null?"":r,ao=(r,s=",",x='"')=>r.filter(f=>f).map(f=>f.map(i=>Ei(i)).map(i=>`${x}${i}${x}`).join(s)).join(`
`),Mi=(r,s,x,f)=>ao(s?[s,...r]:r,x,f),Ai=(r,s,x,f)=>ao(Ni(r,s),x,f),ji=(r,s,x,f)=>s?`${s.join(x)}
${r}`:r.replace(/"/g,'""'),lo=(r,s,x,f)=>{if(ro(r))return Ai(r,s,x,f);if(wi(r))return Mi(r,s,x,f);if(typeof r=="string")return ji(r,s,x);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},co=(r,s,x,f,i)=>{const n=lo(r,x,f,i),a=xi()?"application/csv":"text/csv",h=new Blob([s?"\uFEFF":"",n],{type:a}),E=`data:${a};charset=utf-8,${s?"\uFEFF":""}${n}`,p=window.URL||window.webkitURL;return typeof p.createObjectURL>"u"?E:p.createObjectURL(h)},uo={data:Pe.oneOfType([Pe.string,Pe.array,Pe.func]).isRequired,headers:Pe.array,target:Pe.string,separator:Pe.string,filename:Pe.string,uFEFF:Pe.bool,onClick:Pe.func,asyncOnClick:Pe.bool,enclosingCharacter:Pe.string},ho={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},Di={target:"_blank"};class Ps extends Fe.Component{constructor(s){super(s),this.state={}}buildURI(){return co(...arguments)}componentDidMount(){const{data:s,headers:x,separator:f,enclosingCharacter:i,uFEFF:n,target:a,specs:h,replace:E}=this.props;this.state.page=window.open(this.buildURI(s,n,x,f,i),a,h,E)}getWindow(){return this.state.page}render(){return null}}nt(Ps,"defaultProps",Object.assign(ho,Di)),nt(Ps,"propTypes",uo);var mt;let ki=(mt=class extends Fe.Component{constructor(s){super(s),this.buildURI=this.buildURI.bind(this)}buildURI(){return co(...arguments)}handleLegacy(s,x=!1){if(window.navigator.msSaveOrOpenBlob){s.preventDefault();const{data:f,headers:i,separator:n,filename:a,enclosingCharacter:h,uFEFF:E}=this.props,p=x&&typeof f=="function"?f():f;let v=new Blob([E?"\uFEFF":"",lo(p,i,n,h)]);return window.navigator.msSaveBlob(v,a),!1}}handleAsyncClick(s){const x=f=>{if(f===!1){s.preventDefault();return}this.handleLegacy(s,!0)};this.props.onClick(s,x)}handleSyncClick(s){if(this.props.onClick(s)===!1){s.preventDefault();return}this.handleLegacy(s)}handleClick(){return s=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(s):this.handleSyncClick(s);this.handleLegacy(s)}}render(){const{data:s,headers:x,separator:f,filename:i,uFEFF:n,children:a,onClick:h,asyncOnClick:E,enclosingCharacter:p,...v}=this.props,g=typeof window>"u"?"":this.buildURI(s,n,x,f,p);return j.jsxDEV("a",{download:i,...v,ref:o=>this.link=o,target:"_self",href:g,onClick:this.handleClick(),children:a},void 0,!1,{fileName:"/usr/var/www/node_modules/react-csv/src/components/Link.jsx",lineNumber:102,columnNumber:7},this)}},nt(mt,"defaultProps",ho),nt(mt,"propTypes",uo),mt);const Ti=ki;function po({data:r}){const s=[{label:"Date",key:"name"},{label:"Consommation",key:"y"},{label:"Index",key:"indexConso"}];return j.jsxDEV(Ti,{data:r,headers:s,filename:"Extraction_consommation_eau.csv",className:"btn-text text-decoration-none",separator:";",children:j.jsxDEV($.SzIcon,{variant:"line",icon:"download-bottom"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CsvConso.jsx",lineNumber:21,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/CsvConso.jsx",lineNumber:14,columnNumber:5},this)}typeof He=="object"&&(Ht(He),Vs(He));function _i({data:r,idPDS:s,apiDayTelemetry:x}){var G;const f="CUBIC_METER",i="LITERS",n="DAY",a="MONTH",{t:v}=De(),N=Re(),g=Yt(),o=B.useRef(null),c=B.useRef(null),d=yt(),[m,C]=B.useState(r==null?void 0:r.defaultUnit),[M,_]=B.useState(r==null?void 0:r.defaultPeriod),{setDataEquivalences:A,showToolTip:y,setShowToolTip:S}=B.useContext(Ge),[t,e]=B.useState(!1),l={addPlotY:10,addTop:45},u=[{label:v("histoConso.chart.optionsUnit.liter"),value:i},{label:v("histoConso.chart.optionsUnit.meter"),value:f}],w=[{label:v("histoConso.chart.optionsPeriod.day"),value:n},{label:v("histoConso.chart.optionsPeriod.month"),value:a}],b={DAY:r==null?void 0:r.dataDay,MONTH:r==null?void 0:r.dataMonth},{initDataTelemetry:D,getStartEndDate:T,initDataCompareMonth:k,getDataNoEmpty:P}=ct(),O=H=>{if((H??(r==null?void 0:r.defaultPeriod))===n){const{startDate:Y,endDate:se}=T(n),ce={id_PDS:s,mode:"daily",start_date:Y,end_date:se};I({...L,isUpdateToolTip:`loading-${Math.random()}`}),x.mutate(ce)}return b[r==null?void 0:r.defaultPeriod]},[L,I]=B.useState({data:O(),unit:r==null?void 0:r.defaultUnit,period:r==null?void 0:r.defaultPeriod,isUpdateToolTip:!1}),R=()=>{if(N)if(t){const H=k(r==null?void 0:r.dataMonth),W=(H==null?void 0:H.seriesData)||[];if(W.length===0)return 0;const se=W.reduce((ce,ie)=>{const{data:le}=ie;return le.length>ce.length?le:ce},[]).length-4;return se<0?0:se}else{const{data:H}=L||{},Y=P(H,!1).length-6;return Y<0?0:Y}return 0},z=H=>{var W;if(t){const Y=k(r==null?void 0:r.dataMonth),se=(Y==null?void 0:Y.seriesData)||[];if(se.length===0)return 0;const ce=H??((W=se[1])==null?void 0:W.data),ie=P(ce,!0),le=N?3:ie.length-1;return le<0?0:le}else{const Y=H??(L==null?void 0:L.data),se=P(Y,!1);if(N&&se.length>=6)return 5;const ce=se.length-1;return ce<0?0:ce}},J=H=>H===void 0||H.length===0?[]:H==null?void 0:H.map(W=>{const Y={linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#1A7DD2"],[1,"#37DDFF"]]};return t?{...W,color:(W==null?void 0:W.type)==="yearConso"?Y:"#E9ECEF"}:{...W,color:Y}}),q=H=>{if(!H||Object.keys(H).length===0)return null;const{y:W,noData:Y}=H;if(W===null)return;let se=W;Number.isInteger(se)||(se=se.toFixed(2));const ce=new Intl.NumberFormat("fr-FR").format(se),ie=Y?0:ce==null?void 0:ce.toString().replace(".",","),le=L.unit||f;return j.jsxDEV($.SzTypographie,{variant:"H1",size:"XL",className:"mb-0",weight:"bold",children:[ie,le===f&&j.jsxDEV("sup",{className:"text-expo",children:j.jsxDEV("sup",{children:"3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:261,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:260,columnNumber:11},this),le===i&&j.jsxDEV("sup",{className:"ml-2 liter-expo"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:265,columnNumber:33},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:257,columnNumber:7},this)},ee=H=>{var Je;const W=H;if(t)return W;const Y=(Je=o==null?void 0:o.current)==null?void 0:Je.chart,se=(Y==null?void 0:Y.series[0])||[],{data:ce}=se||{},ie=ce==null?void 0:ce.find(et=>et.name===W),{y:le}=ie||{},{period:ye}=L||n,xe={DAY:"dd",MONTH:"MMM yyyy"},ve=fe(new Date(H),xe[ye]),Ce=ve.replace(/\b(\w)/,et=>et.toUpperCase()).replace(" ","<br/>");return le!==null?ye===n?ve:Ce:""},ae={pointWidth:t?20:N?28:16,legend:{enabled:t,symbolRadius:0,itemStyle:{fontSize:"12px",color:"#030F40",fontFamily:"DINPro-Regular "}},xAxis:{crosshair:!1,type:"category",labels:{style:{fontSize:"12px"},formatter:function(H){const W=/^\d{4}-\d{2}-\d{2}$/,{value:Y}=H||"";let se="";return t?se=Y??H:se=W.test(H)?H:this.value,ee(se)}}},plotOptions:{column:{minPointLength:10,dataLabels:{enabled:!0},borderWidth:3,pointWidth:20}},series:[{dataLabels:{enabled:!0,allowOverlap:!0,formatter:function(){return""},style:{fontSize:11}}}]},de=H=>{const W={...L};W==null||W.data.forEach(Y=>{i===H?Y.y=Y.litre:f===H&&(Y.y=Y.m3)}),W.unit=H,W.isUpdateToolTip=`SUCCESS-UPDATE-UNIT-${Math.random()}`,I(W)};B.useEffect(()=>{var Y,se;const{isSuccess:H,data:W}=x;if(H&&W&&M===n){const ce=((se=(Y=W==null?void 0:W.data)==null?void 0:Y.content)==null?void 0:se.measures)||[],{unit:ie}=L||{},le=D(ce,ie,n),ye={...L,data:le,period:n,isUpdateToolTip:`SUCCESS-${Math.random()}`};I(ye)}},[x==null?void 0:x.data]);const ue=H=>{if(n===H)O(n),t&&(I({...L,isUpdateToolTip:`SUCCESS-${Math.random()}`}),e(!1));else if(a===H){const W={data:r==null?void 0:r.dataMonth,unit:L==null?void 0:L.unit,period:a,isUpdateToolTip:`SUCCESS-${Math.random()}`};Z(new Date),r!=null&&r.dataMonth&&(r==null?void 0:r.dataMonth.length)>0?(W==null||W.data.forEach(Y=>{i===(L==null?void 0:L.unit)?Y.y=Y.litre:f===(L==null?void 0:L.unit)&&(Y.y=Y.m3)}),I(W)):(S({...y,TYPE_CHART_HISTO_CONSO:!0}),d.resetQueries("getTelemetryMonthQuery"))}},pe=H=>{const{name:W,litre:Y}=H,se=L.period===n,ce=new Date(W),ie=fe(ce,se?"EEEE d MMMM yyyy":"MMMM yyyy");A({view:L.period,value:Y,date:ie,period:H==null?void 0:H.numberOfDays})},K=({target:H})=>{e(H.checked),H.checked||I({...L,isUpdateToolTip:"RESET"})},te=k(r==null?void 0:r.dataMonth),ge=(te==null?void 0:te.categories)||[],V=(te==null?void 0:te.seriesData)||[];ae.xAxis.categories=t&&ge.length>0?ge:null,B.useEffect(()=>{if(L!=null&&L.data&&(L==null?void 0:L.data)!==(r==null?void 0:r.dataMonth)){const H={...L,data:r==null?void 0:r.dataMonth,unit:r==null?void 0:r.defaultUnit,period:r==null?void 0:r.defaultPeriod,isUpdateToolTip:`SUCCESS-${Math.random()}`};m!==(r==null?void 0:r.defaultUnit)&&C(r==null?void 0:r.defaultUnit),M!==(r==null?void 0:r.defaultPeriod)&&_(r==null?void 0:r.defaultPeriod),I(H)}},[r]);const U=((G=L==null?void 0:L.data)==null?void 0:G.length)>12,[F,Z]=B.useState(),ne=H=>{const W=new Date,Y=new Date(H.getFullYear(),H.getMonth(),1);let se=new Date(H.getFullYear(),H.getMonth()+1,0);W.getMonth()===H.getMonth()&&(se=new Date(W.getFullYear(),W.getMonth(),W.getDate()-1));const ce=fe(Y,"yyyy-MM-dd"),ie=fe(se,"yyyy-MM-dd"),le={id_PDS:s,mode:"daily",start_date:ce,end_date:ie};Z(H),x.mutate(le)};return x.isLoading?j.jsxDEV($.SzCard,{className:"col-12 my-5 px-0 px-lg-4 bg-white align-items-center",children:j.jsxDEV(We,{count:1,width:"100%",height:500},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:541,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:540,columnNumber:7},this):(L==null?void 0:L.data)===null||(L==null?void 0:L.data.length)===0||x.isError&&M===n?j.jsxDEV("div",{className:"row no-gutters control-chart histo-nodata",children:[j.jsxDEV("div",{className:"col-12 col-lg-3","data-cy":"btn-period",children:j.jsxDEV($.SzRadioButton,{value:M,onChange:H=>{_(H),ue(H)},name:"radioPeriod",choices:w,className:"p-1"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:555,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:554,columnNumber:9},this),j.jsxDEV("div",{className:"bg-white col-12 px-0",children:j.jsxDEV($.SzTypographie,{variant:"body",weight:"regular",className:"text-dark mb-0 text-center",children:v("histoConso.empty")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:567,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:566,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:553,columnNumber:7},this):j.jsxDEV(j.Fragment,{children:[j.jsxDEV("div",{className:"col-12 col-lg-8 px-0",children:[j.jsxDEV($.SzTypographie,{variant:"H4",size:"L",weight:"medium",className:"mb-3",children:v("histoConso.subtitle_histoconso")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:582,columnNumber:9},this),j.jsxDEV("div",{className:"row no-gutters control-chart align-items-baseline",children:[j.jsxDEV("div",{className:"col-12 col-lg-3 px-lg-3","data-cy":"btn-unit",children:j.jsxDEV($.SzRadioButton,{value:m,onChange:H=>{C(H),de(H)},name:"radioUnit",choices:u,className:be("p-1 font-14-label",{"button-unit":g})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:587,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:586,columnNumber:11},this),j.jsxDEV("div",{className:"col-12 col-lg-3","data-cy":"btn-period",children:j.jsxDEV($.SzRadioButton,{value:M,onChange:H=>{_(H),ue(H)},name:"radioPeriod",choices:w,className:"p-1 font-14-label"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:601,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:600,columnNumber:11},this),(L==null?void 0:L.period)===n&&j.jsxDEV("div",{className:"col-12 col-lg-5 position-relative",children:j.jsxDEV(bi,{onChangeDate:ne,selectedMonth:F},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:615,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:614,columnNumber:13},this),(L==null?void 0:L.period)===a&&U&&j.jsxDEV("div",{className:"col-10 col-lg-5 pl-lg-4 position-relative",children:[j.jsxDEV($.SzCheckbox,{id:"compareMonth",name:"compareMonth",label:v("histoConso.chart.labelCompareMonth"),type:"checkbox",checked:t,onChange:K,className:"pt-2 inline-block"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:624,columnNumber:15},this),j.jsxDEV(Js,{placement:"top",overlay:j.jsxDEV(Gt,{id:"tooltip-top",children:j.jsxDEV($.SzTypographie,{variant:"caption",size:"M",weight:"light",className:"text-dark",children:v("histoConso.chart.toolTipHelp")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:639,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:638,columnNumber:19},this),children:j.jsxDEV("img",{src:gi,alt:"",className:"ml-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:650,columnNumber:17},this)},"top",!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:634,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:623,columnNumber:13},this),j.jsxDEV("div",{className:be("text-right",{"col-12 col-lg-1":(L==null?void 0:L.period)===n,"col-1 col-lg-1":(L==null?void 0:L.period)===a&&U,"col-12 col-lg-6":M===a&&!U}),children:j.jsxDEV(po,{data:L==null?void 0:L.data},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:664,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:655,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:585,columnNumber:9},this),t?j.jsxDEV(yi,{type:bs,chartRef:c,seriesData:V,maxRangeData:31,maxRangeDataMobile:4,options:ae,confToolTip:l,isUpdateToolTip:L==null?void 0:L.isUpdateToolTip,getStartIndex:R,getIndexToolTip:z,initColor:J,formatDataLabel:q,getDataTooltip:pe},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:669,columnNumber:11},this):j.jsxDEV(qt,{type:bs,chartRef:o,data:L,seriesData:[],disabledEventLegend:t,maxRangeData:31,maxRangeDataMobile:6,showNextPrev:N,options:ae,confToolTip:l,isUpdateToolTip:L==null?void 0:L.isUpdateToolTip,getStartIndex:R,getIndexToolTip:z,initColor:J,formatDataLabel:q,getDataTooltip:pe},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:685,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:581,columnNumber:7},this),j.jsxDEV("div",{className:"col-12 col-lg-4 px-0 px-lg-4 pt-3 pt-lg-0 ml-lg-4 mt-lg-4",children:j.jsxDEV(no,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:707,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:706,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/index.jsx",lineNumber:580,columnNumber:5},this)}typeof He=="object"&&(Ht(He),Vs(He));function Pi({data:r}){const s="CUBIC_METER",x="LITERS",{t:n}=De(),a=Re(),h=B.useRef(null),{setDataEquivalences:E}=B.useContext(Ge),{getDataNoEmpty:p}=ct(),[v,N]=B.useState(r==null?void 0:r.defaultUnit),g={addPlotY:10,addTop:27},o=[{label:n("histoConso.chart.optionsUnit.liter"),value:x},{label:n("histoConso.chart.optionsUnit.meter"),value:s}],c=()=>r==null?void 0:r.data,[d,m]=B.useState({data:c(),unit:r==null?void 0:r.defaultUnit}),C=()=>{const{data:l}=d||{},u=l.length-6;return u<0?0:u},M=l=>{const u=C(),w=l??(d==null?void 0:d.data),b=p(w);if(a&&b.length>=6)return 5;const D=l?b.length-1:b.length-u-1;return D<0?0:D},_=l=>l.length===0?[]:l==null?void 0:l.map(u=>{const w={linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#1A7DD2"],[1,"#37DDFF"]]};return{...u,color:(u==null?void 0:u.type)==="E"?"#E9ECEF":w}}),A=l=>{if(!l||Object.keys(l).length===0)return null;const{y:u,noData:w}=l;let b=u;Number.isInteger(b)||(b=b.toFixed(2));const D=new Intl.NumberFormat("fr-FR").format(b),T=w?0:D==null?void 0:D.toString().replace(".",","),k=d.unit||s;return j.jsxDEV($.SzTypographie,{variant:"H1",size:"XL",className:"mb-0",weight:"bold",children:[T,k===s&&j.jsxDEV("sup",{className:"text-expo",children:j.jsxDEV("sup",{children:"3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:140,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:139,columnNumber:11},this),k===x&&j.jsxDEV("sup",{className:"ml-2 liter-expo"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:144,columnNumber:33},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:136,columnNumber:7},this)},y=l=>{var P;const u=l,w=(P=h==null?void 0:h.current)==null?void 0:P.chart,b=(w==null?void 0:w.series[0])||[],{data:D}=b||{},T=D==null?void 0:D.find(O=>O.name===u),{y:k}=T||{};return k!==null?He.dateFormat("%d/%m<br/>%Y",new Date(l)):""},S={pointWidth:a?28:84,legend:{enabled:!0,symbolRadius:0},xAxis:{crosshair:!1,type:"category",labels:{style:{fontSize:"12px"},formatter:function(l){const w=/^\d{4}-\d{2}-\d{2}$/.test(l)?l:this.value;return y(w)}}},plotOptions:{column:{minPointLength:10,dataLabels:{enabled:!0},borderWidth:3,pointWidth:20}},series:[{name:"",showInLegend:!1,dataLabels:{enabled:!0,allowOverlap:!0,formatter:function(){return""},style:{fontSize:11}}}]},t=l=>{const u={...d};u==null||u.data.forEach(w=>{x===l?w.y=w.litre:s===l&&(w.y=w.m3)}),u.unit=l,u.isUpdateToolTip=`SUCCESS-UPDATE-UNIT-${Math.random()}`,m(u)},e=l=>{const{startDate:u,endDate:w,litre:b,type:D}=l,T=u?new Date(u):0,k=w?new Date(w):0,P=T instanceof Date&&!isNaN(T)?fe(T,"dd/MM/yy"):"0",O=k?fe(k,"dd/MM/yy"):"";E({view:"MONTH",value:b,first_date:P,last_date:O,type:D,period:l==null?void 0:l.numberOfDays})};return B.useEffect(()=>{if(d!=null&&d.data&&(d==null?void 0:d.data)!==(r==null?void 0:r.data)){const l={...d,data:r==null?void 0:r.data,unit:r==null?void 0:r.defaultUnit,isUpdateToolTip:`SUCCESS-${Math.random()}`};v!==(r==null?void 0:r.defaultUnit)&&N(r==null?void 0:r.defaultUnit),m(l)}},[r]),j.jsxDEV(j.Fragment,{children:[j.jsxDEV("div",{className:"col-12 col-lg-8 px-0",children:[j.jsxDEV($.SzTypographie,{variant:"H4",size:"L",weight:"medium",className:"mb-3",children:n("histoConso.subtitle_histoconso")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:275,columnNumber:9},this),j.jsxDEV("div",{className:"row no-gutters histo-conso-no-tr control-chart align-items-baseline",children:[j.jsxDEV("div",{className:"col-12 col-lg-3",children:j.jsxDEV($.SzRadioButton,{value:v,onChange:l=>{N(l),t(l)},name:"radioUnit",choices:o,className:"p-1 font-14-label"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:281,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:280,columnNumber:11},this),j.jsxDEV("div",{className:"col-lg-9 text-right",children:j.jsxDEV(po,{data:d==null?void 0:d.data},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:294,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:293,columnNumber:11},this),j.jsxDEV(qt,{type:Zo,chartRef:h,data:d,seriesData:[],maxRangeData:6,maxRangeDataMobile:6,classNameBtnPagination:be("col-12 px-0"),options:S,confToolTip:g,isUpdateToolTip:d==null?void 0:d.isUpdateToolTip,getStartIndex:C,getIndexToolTip:M,initColor:_,formatDataLabel:A,getDataTooltip:e},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:297,columnNumber:11},this),j.jsxDEV("div",{className:"legend  mt-2 row no-gutters",children:[j.jsxDEV("div",{className:"col-12 col-lg-3 mb-2 mb-lg-0",children:j.jsxDEV("div",{className:"legend-item justify-content-center",children:[j.jsxDEV("span",{className:"box estimated"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:318,columnNumber:17},this),j.jsxDEV($.SzTypographie,{variant:"caption",weight:"regular",size:"lg",children:n("histoConso.chart.noTr.legend1")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:319,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:317,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:316,columnNumber:13},this),j.jsxDEV("div",{className:"col-12 col-lg-3",children:j.jsxDEV("div",{className:"legend-item justify-content-center",children:[j.jsxDEV("span",{className:"box actual"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:326,columnNumber:17},this),j.jsxDEV($.SzTypographie,{variant:"caption",weight:"regular",children:n("histoConso.chart.noTr.legend2")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:328,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:325,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:324,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:315,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:279,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:274,columnNumber:7},this),j.jsxDEV("div",{className:"col-12 col-lg-4 px-0 px-lg-4 pt-3 pt-lg-0 ml-lg-4 mt-lg-4",children:j.jsxDEV(no,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:337,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:336,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ChartHistoConsoNoTr.jsx",lineNumber:273,columnNumber:5},this)}function Li(){return{getNoTelemetry:({params:n,options:a,queryName:h="getNoTelemetryQuery"})=>st(h,()=>Le.get(Oe.CONSUMPTION.GET_CONSO_NO_TELEMETRY,{params:n}),a),hasDataNoTelemetry:n=>{var h,E;return(((E=(h=n==null?void 0:n.data)==null?void 0:h.content)==null?void 0:E.measures)||[]).length>0},mutationNoTelemetry:()=>xt(n=>Le.get(Oe.CONSUMPTION.GET_CONSO_NO_TELEMETRY,{params:n})),initDataNoTelemetry:n=>{let a=[];return n.length===0?[]:(n.sort((h,E)=>{const p=new Date(h.date.split("/").reverse().join("-")),v=new Date(E.date.split("/").reverse().join("-"));return wn(p,v)}),n.forEach(h=>{const{date:E,previousDateMeasure:p}=h,v=E?fe(new Date(E.split("/").reverse().join("-")),"yyyy-MM-dd"):null,N=p?fe(new Date(p.split("/").reverse().join("-")),"yyyy-MM-dd"):null,g=h.volume;let o={y:g,m3:g,valueIndex:h.index,litre:g*1e3,indexConso:h==null?void 0:h.index,startDate:N,endDate:v,name:v,type:h.type,noData:h.volume===0,numberOfDays:h==null?void 0:h.numberOfDays,isDisplayData:!0};h.index!==null&&a.push(o)}),a)},getStartEndDateNoTelemetry:()=>{const n=new Date,a=new Date(n.getFullYear(),0,1);return a.setFullYear(a.getFullYear()-2),{startDate:fe(a,"yyyy-MM-dd"),endDate:fe(n,"yyyy-MM-dd")}}}}function Oi(){const r=qe(),s="CONSULT_CONSO",x="TELERELEVE",f="TR";return{getMeterList:({params:p,options:v,queryName:N="getMeterListQuery"})=>st(N,()=>Le.get(Oe.CONSUMPTION.GET_CONSO_METER_LIST,{params:p}),v),isRoleConso:p=>{var c,d;const v=((d=(c=p==null?void 0:p.data)==null?void 0:c.content)==null?void 0:d.clientCompteursPro)||[];if(v.length===0){r.push(he.DASHBOARD);return}const{roles:N}=v[0];if(N.length===0){r.push(he.DASHBOARD);return}const g=N.find(m=>m.role===s);if(!g||Object.keys(g).length===0){r.push(he.DASHBOARD);return}const{enabled:o}=g;if(!o){r.push(he.DASHBOARD);return}return!0},getMeters:p=>{var o,c;const v=((c=(o=p==null?void 0:p.data)==null?void 0:o.content)==null?void 0:c.clientCompteursPro)||[],{compteursPro:N,nbCompteurTotal:g}=v[0];return g===0&&r.push(he.DASHBOARD),N[0]},getMetersNumber:p=>{var g,o;const v=((o=(g=p==null?void 0:p.data)==null?void 0:g.content)==null?void 0:o.clientCompteursPro)||[],{compteursPro:N}=v[0];return N||[]},isTRMeter:(p,v)=>{var c,d;const N=((d=(c=p==null?void 0:p.data)==null?void 0:c.content)==null?void 0:d.clientCompteursPro)||[];if(N.length===0)return!1;const{roles:g}=N[0],{codeEquipement:o}=v||{};if(o===f){if(g.length===0)return!1;const m=g.find(M=>M.role===x);if(!m||Object.keys(m).length===0)return!1;const{enabled:C}=m;return!!C}return!1}}}const Ls=""+new URL("ConsoUnavailable-B4kGp9Qj.svg",import.meta.url).href,mo="data:image/svg+xml,%3csvg%20width='200'%20height='179'%20viewBox='0%200%20200%20179'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M37.7705%20165.962C20.663%20149.698%2010%20126.734%2010%20101.282C10%2051.973%2050.0216%2012%2099.3908%2012C148.76%2012%20188.782%2051.973%20188.782%20101.282C188.782%20126.754%20178.102%20149.734%20160.971%20166'%20stroke='%23E9ECEF'%20stroke-width='10'%20stroke-linecap='round'/%3e%3cg%20clip-path='url(%23clip0_19289_2094)'%3e%3cpath%20d='M86%2093C86%2096.1826%2087.2643%2099.2348%2089.5147%20101.485C91.7652%20103.736%2094.8174%20105%2098%20105C101.183%20105%20104.235%20103.736%20106.485%20101.485C108.736%2099.2348%20110%2096.1826%20110%2093C110%2089.8174%20108.736%2086.7652%20106.485%2084.5147C104.235%2082.2643%20101.183%2081%2098%2081C94.8174%2081%2091.7652%2082.2643%2089.5147%2084.5147C87.2643%2086.7652%2086%2089.8174%2086%2093V93Z'%20stroke='%23ced4da'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M94%2081.6827V71H102V81.6853'%20stroke='%23ced4da'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M102%2071H110Z'%20fill='%23ced4da'/%3e%3cpath%20d='M102%2071H110'%20stroke='%23ced4da'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M86%2071H94Z'%20fill='%23ced4da'/%3e%3cpath%20d='M86%2071H94'%20stroke='%23ced4da'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M130.749%20125.251C130.749%20126.775%20130.143%20128.238%20129.065%20129.316C127.987%20130.394%20126.524%20131%20124.999%20131C123.475%20131%20122.012%20130.394%20120.934%20129.316C119.856%20128.238%20119.25%20126.775%20119.25%20125.251C119.25%20122.075%20123.082%20115.667%20124.999%20115.667C126.917%20115.667%20130.749%20122.067%20130.749%20125.251Z'%20stroke='%23ced4da'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M108.391%2087H117.991C121.173%2087%20124.225%2088.2643%20126.476%2090.5147C128.726%2092.7652%20129.991%2095.8174%20129.991%2099V107H119.999V103C119.999%20101.939%20119.577%20100.922%20118.827%20100.172C118.077%2099.4214%20117.059%2099%20115.999%2099H108.393'%20stroke='%23ced4da'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M87.608%2087H74V99H87.608'%20stroke='%23ced4da'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M74%2071V115'%20stroke='%23ced4da'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_19289_2094'%3e%3crect%20width='64'%20height='64'%20fill='white'%20transform='translate(72%2069)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function kt({title:r,badgeLabel:s,badgeColor:x,description:f,isEditable:i,onClickEdit:n,editBtnId:a,btnLabel:h,btnId:E="button-card-alert",ctaLabel:p,ctaLink:v,onClickBtn:N,onClickCta:g,errorDescription:o,className:c,dataCy:d,children:m}){return j.jsxDEV("div",{className:be("bg-white rounded-3 d-flex flex-column",c),"data-cy":d,children:[j.jsxDEV("div",{className:"alert-title border-1 border-bottom",children:j.jsxDEV("div",{className:"p-3 px-lg-4 py-lg-3 d-flex align-items-center justify-content-between",children:[j.jsxDEV("div",{className:"d-flex align-items-end w-100",children:[j.jsxDEV($.SzTypographie,{variant:"H4",size:"L",weight:"medium",className:"mb-0",children:r},void 0,!1,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:36,columnNumber:13},this),s&&j.jsxDEV(pn,{className:be("ml-2",{"ml-auto":!i}),color:x,textWeight:"bold",textSize:"S",textVariant:"caption",textClassName:"text-white",children:s},void 0,!1,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:45,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:35,columnNumber:11},this),i&&j.jsxDEV($.SzButton,{variant:"text",icon:"cog",onClick:n,id:a},void 0,!1,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:58,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:34,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:33,columnNumber:7},this),j.jsxDEV("div",{className:"alert-content px-3 px-lg-4 pb-3 pt-3 d-flex flex-column align-items-center justify-content-center",children:[j.jsxDEV("div",{className:"my-2 text-center",children:[m,f&&j.jsxDEV($.SzTypographie,{variant:"body",size:"M",weight:"regular",className:"mb-0",children:f},void 0,!1,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:71,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:68,columnNumber:9},this),j.jsxDEV("div",{className:"mt-auto",children:[o&&j.jsxDEV($.SzTypographie,{variant:"body",size:"M",weight:"medium",className:"mb-2 pb-1",children:o},void 0,!1,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:83,columnNumber:13},this),h&&j.jsxDEV($.SzButton,{variant:"contained",id:E,border:"soft",onClick:N,children:h},void 0,!1,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:93,columnNumber:13},this),p&&j.jsxDEV(Is,{variant:"text",icon:"keyboard-arrow-right",alignIcon:"right",to:v,"data-cy":"cta-card-alert",onClick:g||null,children:p},void 0,!1,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:67,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/CardAlert/index.tsx",lineNumber:29,columnNumber:5},this)}const Ri=({displayAlertCards:r,dataPush:s})=>{var f,i;const x=Re();return j.jsxDEV("div",{className:be("data-push-container d-flex flex-column col-12 ",{"col-lg-4":r,"flex-lg-row col-12":!r}),children:(i=(f=s==null?void 0:s.data)==null?void 0:f.content)==null?void 0:i.dataPush.map((n,a)=>{const h=be("d-flex bg-white rounded-3 cursor-pointer overflow-hidden",{"mb-3 mb-lg-4":r,"w-50 ":!r&&!x,"w-100":!r&&x,"mb-3":x,"mr-4":!r&&!x&&a===0});return j.jsxDEV(ii,{data:n,style:h},a,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/PushHorizontalBlock.tsx",lineNumber:31,columnNumber:16},void 0)})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/PushHorizontalBlock.tsx",lineNumber:14,columnNumber:5},void 0)},Vi="data:image/svg+xml,%3csvg%20width='200'%20height='179'%20viewBox='0%200%20200%20179'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M37.7705%20165.962C20.663%20149.698%2010%20126.734%2010%20101.282C10%2051.973%2050.0216%2012%2099.3908%2012C148.76%2012%20188.782%2051.973%20188.782%20101.282C188.782%20126.754%20178.102%20149.734%20160.971%20166'%20stroke='%23C0F1CC'%20stroke-width='10'%20stroke-linecap='round'/%3e%3cpath%20d='M87%2095C87%2098.1826%2088.2643%20101.235%2090.5147%20103.485C92.7652%20105.736%2095.8174%20107%2099%20107C102.183%20107%20105.235%20105.736%20107.485%20103.485C109.736%20101.235%20111%2098.1826%20111%2095C111%2091.8174%20109.736%2088.7652%20107.485%2086.5147C105.235%2084.2643%20102.183%2083%2099%2083C95.8174%2083%2092.7652%2084.2643%2090.5147%2086.5147C88.2643%2088.7652%2087%2091.8174%2087%2095V95Z'%20stroke='%2330D158'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M95%2083.6827V73H103V83.6853'%20stroke='%2330D158'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M103%2073H111H103Z'%20fill='%2330D158'/%3e%3cpath%20d='M103%2073H111'%20stroke='%2330D158'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M87%2073H95H87Z'%20fill='%2330D158'/%3e%3cpath%20d='M87%2073H95'%20stroke='%2330D158'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M109.391%2089H118.991C122.173%2089%20125.225%2090.2643%20127.476%2092.5147C129.726%2094.7652%20130.991%2097.8174%20130.991%20101V109H120.999V105C120.999%20103.939%20120.577%20102.922%20119.827%20102.172C119.077%20101.421%20118.059%20101%20116.999%20101H109.393'%20stroke='%2330D158'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M88.608%2089H75V101H88.608'%20stroke='%2330D158'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M75%2073V117'%20stroke='%2330D158'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ii="data:image/svg+xml,%3csvg%20width='200'%20height='179'%20viewBox='0%200%20200%20179'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M37.7705%20165.962C20.663%20149.698%2010%20126.734%2010%20101.282C10%2051.973%2050.0216%2012%2099.3908%2012C148.76%2012%20188.782%2051.973%20188.782%20101.282C188.782%20126.754%20178.102%20149.734%20160.971%20166'%20stroke='%23F5C4CC'%20stroke-width='10'%20stroke-linecap='round'/%3e%3cg%20clip-path='url(%23clip0_19289_2094)'%3e%3cpath%20d='M86%2093C86%2096.1826%2087.2643%2099.2348%2089.5147%20101.485C91.7652%20103.736%2094.8174%20105%2098%20105C101.183%20105%20104.235%20103.736%20106.485%20101.485C108.736%2099.2348%20110%2096.1826%20110%2093C110%2089.8174%20108.736%2086.7652%20106.485%2084.5147C104.235%2082.2643%20101.183%2081%2098%2081C94.8174%2081%2091.7652%2082.2643%2089.5147%2084.5147C87.2643%2086.7652%2086%2089.8174%2086%2093V93Z'%20stroke='%23EB4A65'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M94%2081.6827V71H102V81.6853'%20stroke='%23EB4A65'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M102%2071H110Z'%20fill='%23EB4A65'/%3e%3cpath%20d='M102%2071H110'%20stroke='%23EB4A65'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M86%2071H94Z'%20fill='%23EB4A65'/%3e%3cpath%20d='M86%2071H94'%20stroke='%23EB4A65'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M130.749%20125.251C130.749%20126.775%20130.143%20128.238%20129.065%20129.316C127.987%20130.394%20126.524%20131%20124.999%20131C123.475%20131%20122.012%20130.394%20120.934%20129.316C119.856%20128.238%20119.25%20126.775%20119.25%20125.251C119.25%20122.075%20123.082%20115.667%20124.999%20115.667C126.917%20115.667%20130.749%20122.067%20130.749%20125.251Z'%20stroke='%23EB4A65'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M108.391%2087H117.991C121.173%2087%20124.225%2088.2643%20126.476%2090.5147C128.726%2092.7652%20129.991%2095.8174%20129.991%2099V107H119.999V103C119.999%20101.939%20119.577%20100.922%20118.827%20100.172C118.077%2099.4214%20117.059%2099%20115.999%2099H108.393'%20stroke='%23EB4A65'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M87.608%2087H74V99H87.608'%20stroke='%23EB4A65'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M74%2071V115'%20stroke='%23EB4A65'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_19289_2094'%3e%3crect%20width='64'%20height='64'%20fill='white'%20transform='translate(72%2069)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function ut(){const{pathname:r}=Qe();return{getPathModal:(f="",i="")=>{const n={variant:f.length>0?f:void 0,result:i.length>0?i:void 0},a=r.includes(he.MY_ALERTS)?Ee(he.MY_ALERTS_MODAL_CONSUMPTION,n):Ee(he.ACCOUNT_CONSUMPTION_MODAL_CONSUMPTION,n),h=r.includes(he.MY_ALERTS)?Ee(he.MY_ALERTS_MODAL_WATERLEAK,n):Ee(he.ACCOUNT_CONSUMPTION_MODAL_WATERLEAK,n);return{pathModalConso:a,pathModalWaterLeak:h}},isPathConso:()=>r.includes(Ee(he.ACCOUNT_CONSUMPTION_MODAL_CONSUMPTION))||r.includes(Ee(he.MY_ALERTS_MODAL_CONSUMPTION))}}const Bi=({dataWaterleakAlert:r,setIsOpenEditModal:s,setModalContentType:x})=>{const{t:f}=De(),i=qe(),{getPathModal:n}=ut();if(!r)return null;const{subscriptionStatus:a,alertState:h,alertDate:E}=r;if(a===Se.ELIGIBLE)return{dataCy:"waterleak-alert-card-inactive",description:f("histoConso.cardAlert.waterleak.description_inactive"),btnLabel:f("histoConso.cardAlert.btn"),badgeLabel:f("histoConso.cardAlert.badge_inactive"),badgeColor:"gray-01",imgSrc:mo,btnId:"subscribe-waterleak-alert",onClickBtn:()=>{x("subscribe"),s(!0);const{pathModalWaterLeak:p}=n("activer");i.push(p)}};if(a===Se.SUBSCRIBED){if(h===rt.INACTIVE)return{dataCy:"waterleak-alert-card-active-no-alert",description:f("histoConso.cardAlert.waterleak.description_no_alert"),ctaLabel:f("histoConso.cardAlert.waterleak.cta"),ctaLink:Ee(he.EDITO,{slug:"gerer-fuite"}),imgSrc:Vi,isEditable:!0,editBtnId:"edit-waterleak-alert-success",onClickEdit:()=>{x("update"),s(!0);const{pathModalWaterLeak:p}=n("modifier");i.push(p)}};if(h===rt.ACTIVE){const p=E?fn(E,"dd/MM/yyyy",new Date):null;return{dataCy:"waterleak-alert-card-active-alert",badgeLabel:f("histoConso.cardAlert.badge_alert"),badgeColor:"red",description:f("histoConso.cardAlert.waterleak.description_alert",{date:p?fe(p,"dd MMMM yyyy"):""}),ctaLabel:f("histoConso.cardAlert.waterleak.cta"),ctaLink:Ee(he.EDITO,{slug:"gerer-fuite"}),imgSrc:Ii,isEditable:!0,editBtnId:"edit-waterleak-alert",onClickEdit:()=>{x("update"),s(!0);const{pathModalWaterLeak:v}=n("modifier");i.push(v)}}}}return null};var fo={exports:{}};(function(r){(function(s){r.exports?(s.default=s,r.exports=s):s(typeof Highcharts<"u"?Highcharts:void 0)})(function(s){function x(f,i,n,a){f.hasOwnProperty(i)||(f[i]=a.apply(null,n))}s=s?s._modules:{},x(s,"Extensions/Pane.js",[s["Core/Chart/Chart.js"],s["Series/CenteredUtilities.js"],s["Core/Globals.js"],s["Core/Pointer.js"],s["Core/Utilities.js"]],function(f,i,n,a,h){function E(c,d,m){return Math.sqrt(Math.pow(c-m[0],2)+Math.pow(d-m[1],2))<=m[2]/2}var p=h.addEvent,v=h.extend,N=h.merge,g=h.pick,o=h.splat;return f.prototype.collectionsWithUpdate.push("pane"),h=function(){function c(d,m){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(d,m)}return c.prototype.init=function(d,m){this.chart=m,this.background=[],m.pane.push(this),this.setOptions(d)},c.prototype.setOptions=function(d){this.options=N(this.defaultOptions,this.chart.angular?{background:{}}:void 0,d)},c.prototype.render=function(){var d=this.options,m=this.options.background,C=this.chart.renderer;if(this.group||(this.group=C.g("pane-group").attr({zIndex:d.zIndex||0}).add()),this.updateCenter(),m)for(m=o(m),d=Math.max(m.length,this.background.length||0),C=0;C<d;C++)m[C]&&this.axis?this.renderBackground(N(this.defaultBackgroundOptions,m[C]),C):this.background[C]&&(this.background[C]=this.background[C].destroy(),this.background.splice(C,1))},c.prototype.renderBackground=function(d,m){var C="animate",M={class:"highcharts-pane "+(d.className||"")};this.chart.styledMode||v(M,{fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth}),this.background[m]||(this.background[m]=this.chart.renderer.path().add(this.group),C="attr"),this.background[m][C]({d:this.axis.getPlotBandPath(d.from,d.to,d)}).attr(M)},c.prototype.updateCenter=function(d){this.center=(d||this.axis||{}).center=i.getCenter.call(this)},c.prototype.update=function(d,m){N(!0,this.options,d),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(C){C.pane===this&&(C.pane=null,C.update({},m))},this)},c}(),f.prototype.getHoverPane=function(c){var d=this,m;return c&&d.pane.forEach(function(C){var M=c.chartX-d.plotLeft,_=c.chartY-d.plotTop;E(d.inverted?_:M,d.inverted?M:_,C.center)&&(m=C)}),m},p(f,"afterIsInsidePlot",function(c){this.polar&&(c.isInsidePlot=this.pane.some(function(d){return E(c.x,c.y,d.center)}))}),p(a,"beforeGetHoverData",function(c){var d=this.chart;d.polar?(d.hoverPane=d.getHoverPane(c),c.filter=function(m){return m.visible&&!(!c.shared&&m.directTouch)&&g(m.options.enableMouseTracking,!0)&&(!d.hoverPane||m.xAxis.pane===d.hoverPane)}):d.hoverPane=void 0}),p(a,"afterGetHoverData",function(c){var d=this.chart;c.hoverPoint&&c.hoverPoint.plotX&&c.hoverPoint.plotY&&d.hoverPane&&!E(c.hoverPoint.plotX,c.hoverPoint.plotY,d.hoverPane.center)&&(c.hoverPoint=void 0)}),n.Pane=h,n.Pane}),x(s,"Core/Axis/RadialAxis.js",[s["Core/Axis/AxisDefaults.js"],s["Core/DefaultOptions.js"],s["Core/Globals.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=i.defaultOptions,E=n.noop,p=a.addEvent,v=a.correctFloat,N=a.defined,g=a.extend,o=a.fireEvent,c=a.merge,d=a.pick,m=a.relativeLength,C=a.wrap,M;return function(_){function A(){this.autoConnect=this.isCircular&&typeof d(this.userMax,this.options.max)>"u"&&v(this.endAngleRad-this.startAngleRad)===v(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function y(){var V=this;return function(){if(V.isRadial&&V.tickPositions&&V.options.labels&&V.options.labels.allowOverlap!==!0)return V.tickPositions.map(function(U){return V.ticks[U]&&V.ticks[U].label}).filter(function(U){return!!U})}}function S(){return E}function t(V,U,F){var Z=this.pane.center,ne=V.value;if(this.isCircular){if(N(ne))V.point&&(re=V.point.shapeArgs||{},re.start&&(ne=this.chart.inverted?this.translate(V.point.rectPlotY,!0):V.point.x));else{var re=V.chartX||0,G=V.chartY||0;ne=this.translate(Math.atan2(G-F,re-U)-this.startAngleRad,!0)}V=this.getPosition(ne),re=V.x,G=V.y}else N(ne)||(re=V.chartX,G=V.chartY),N(re)&&N(G)&&(F=Z[1]+this.chart.plotTop,ne=this.translate(Math.min(Math.sqrt(Math.pow(re-U,2)+Math.pow(G-F,2)),Z[2]/2)-Z[3]/2,!0));return[ne,re||0,G||0]}function e(V,U,F){V=this.pane.center;var Z=this.chart,ne=this.left||0,re=this.top||0,G=d(U,V[2]/2-this.offset);return typeof F>"u"&&(F=this.horiz?0:this.center&&-this.center[3]/2),F&&(G+=F),this.isCircular||typeof U<"u"?(U=this.chart.renderer.symbols.arc(ne+V[0],re+V[1],G,G,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),U.xBounds=[ne+V[0]],U.yBounds=[re+V[1]-G]):(U=this.postTranslate(this.angleRad,G),U=[["M",this.center[0]+Z.plotLeft,this.center[1]+Z.plotTop],["L",U.x,U.y]]),U}function l(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function u(V,U,F){var Z=this.chart,ne=function(ve){if(typeof ve=="string"){var Ce=parseInt(ve,10);return ce.test(ve)&&(Ce=Ce*H/100),Ce}return ve},re=this.center,G=this.startAngleRad,H=re[2]/2,W=Math.min(this.offset,0),Y=this.left||0,se=this.top||0,ce=/%$/,ie=this.isCircular,le=d(ne(F.outerRadius),H),ye=ne(F.innerRadius);if(ne=d(ne(F.thickness),10),this.options.gridLineInterpolation==="polygon")W=this.getPlotLinePath({value:V}).concat(this.getPlotLinePath({value:U,reverse:!0}));else{if(V=Math.max(V,this.min),U=Math.min(U,this.max),V=this.translate(V),U=this.translate(U),ie||(le=V||0,ye=U||0),F.shape!=="circle"&&ie)F=G+(V||0),G+=U||0;else{F=-Math.PI/2,G=1.5*Math.PI;var xe=!0}le-=W,W=Z.renderer.symbols.arc(Y+re[0],se+re[1],le,le,{start:Math.min(F,G),end:Math.max(F,G),innerR:d(ye,le-(ne-W)),open:xe}),ie&&(ie=(G+F)/2,Y=Y+re[0]+re[2]/2*Math.cos(ie),W.xBounds=ie>-Math.PI/2&&ie<Math.PI/2?[Y,Z.plotWidth]:[0,Y],W.yBounds=[se+re[1]+re[2]/2*Math.sin(ie)],W.yBounds[0]+=ie>-Math.PI&&0>ie||ie>Math.PI?-10:10)}return W}function w(V){var U=this,F=this.pane.center,Z=this.chart,ne=Z.inverted,re=V.reverse,G=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},H=G.innerRadius||"0%",W=G.outerRadius||"100%",Y=F[0]+Z.plotLeft,se=F[1]+Z.plotTop,ce=this.height,ie=V.isCrosshair;G=F[3]/2;var le=V.value,ye,xe=this.getPosition(le),ve=xe.x;if(xe=xe.y,ie&&(xe=this.getCrosshairPosition(V,Y,se),le=xe[0],ve=xe[1],xe=xe[2]),this.isCircular)le=Math.sqrt(Math.pow(ve-Y,2)+Math.pow(xe-se,2)),re=typeof H=="string"?m(H,1):H/le,Z=typeof W=="string"?m(W,1):W/le,F&&G&&(G/=le,re<G&&(re=G),Z<G&&(Z=G)),F=[["M",Y+re*(ve-Y),se-re*(se-xe)],["L",ve-(1-Z)*(ve-Y),xe+(1-Z)*(se-xe)]];else if((le=this.translate(le))&&(0>le||le>ce)&&(le=0),this.options.gridLineInterpolation==="circle")F=this.getLinePath(0,le,G);else if(F=[],Z[ne?"yAxis":"xAxis"].forEach(function(Ce){Ce.pane===U.pane&&(ye=Ce)}),ye)for(Y=ye.tickPositions,ye.autoConnect&&(Y=Y.concat([Y[0]])),re&&(Y=Y.slice().reverse()),le&&(le+=G),se=0;se<Y.length;se++)G=ye.getPosition(Y[se],le),F.push(se?["L",G.x,G.y]:["M",G.x,G.y]);return F}function b(V,U){return V=this.translate(V),this.postTranslate(this.isCircular?V:this.angleRad,d(this.isCircular?U:0>V?0:V,this.center[2]/2)-this.offset)}function D(){var V=this.center,U=this.chart,F=this.options.title;return{x:U.plotLeft+V[0]+(F.x||0),y:U.plotTop+V[1]-{high:.5,middle:.25,low:0}[F.align]*V[2]+(F.y||0)}}function T(V){V.beforeSetTickPositions=A,V.createLabelCollector=y,V.getCrosshairPosition=t,V.getLinePath=e,V.getOffset=l,V.getPlotBandPath=u,V.getPlotLinePath=w,V.getPosition=b,V.getTitlePosition=D,V.postTranslate=J,V.setAxisSize=ee,V.setAxisTranslation=ae,V.setOptions=de}function k(){var V=this.chart,U=this.options,F=this.pane,Z=F&&F.options;V.angular&&this.isXAxis||!F||!V.angular&&!V.polar||(this.angleRad=(U.angle||0)*Math.PI/180,this.startAngleRad=(Z.startAngle-90)*Math.PI/180,this.endAngleRad=(d(Z.endAngle,Z.startAngle+360)-90)*Math.PI/180,this.offset=U.offset||0)}function P(V){this.isRadial&&(V.align=void 0,V.preventDefault())}function O(){if(this.chart&&this.chart.labelCollectors){var V=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=V&&this.chart.labelCollectors.splice(V,1)}}function L(V){var U=this.chart,F=U.inverted,Z=U.angular,ne=U.polar,re=this.isXAxis,G=this.coll,H=Z&&re,W=U.options;V=V.userOptions.pane||0,V=this.pane=U.pane&&U.pane[V];var Y;G==="colorAxis"?this.isRadial=!1:(Z?(H?(this.isHidden=!0,this.createLabelCollector=S,this.getOffset=E,this.render=this.redraw=q,this.setTitle=this.setCategories=this.setScale=E):T(this),(Y=!re)&&(this.defaultPolarOptions=te)):ne&&(T(this),this.defaultPolarOptions=(Y=this.horiz)?K:c(G==="xAxis"?f.defaultXAxisOptions:f.defaultYAxisOptions,ge),F&&G==="yAxis"&&(this.defaultPolarOptions.stackLabels=f.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),Z||ne?(this.isRadial=!0,W.chart.zoomType=null,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&U.labelCollectors.push(this.labelCollector)):this.isRadial=!1,V&&Y&&(V.axis=this),this.isCircular=Y)}function I(){this.isRadial&&this.beforeSetTickPositions()}function R(V){var U=this.label;if(U){var F=this.axis,Z=U.getBBox(),ne=F.options.labels,re=(F.translate(this.pos)+F.startAngleRad+Math.PI/2)/Math.PI*180%360,G=Math.round(re),H=N(ne.y)?0:.3*-Z.height,W=ne.y,Y=20,se=ne.align,ce="end",ie=0>G?G+360:G,le=ie,ye=0,xe=0;if(F.isRadial){var ve=F.getPosition(this.pos,F.center[2]/2+m(d(ne.distance,-25),F.center[2]/2,-F.center[2]/2));ne.rotation==="auto"?U.attr({rotation:re}):N(W)||(W=F.chart.renderer.fontMetrics(U.styles&&U.styles.fontSize).b-Z.height/2),N(se)||(F.isCircular?(Z.width>F.len*F.tickInterval/(F.max-F.min)&&(Y=0),se=re>Y&&re<180-Y?"left":re>180+Y&&re<360-Y?"right":"center"):se="center",U.attr({align:se})),se==="auto"&&F.tickPositions.length===2&&F.isCircular&&(90<ie&&180>ie?ie=180-ie:270<ie&&360>=ie&&(ie=540-ie),180<le&&360>=le&&(le=360-le),(F.pane.options.startAngle===G||F.pane.options.startAngle===G+360||F.pane.options.startAngle===G-360)&&(ce="start"),se=-90<=G&&90>=G||-360<=G&&-270>=G||270<=G&&360>=G?ce==="start"?"right":"left":ce==="start"?"left":"right",70<le&&110>le&&(se="center"),15>ie||180<=ie&&195>ie?ye=.3*Z.height:15<=ie&&35>=ie?ye=ce==="start"?0:.75*Z.height:195<=ie&&215>=ie?ye=ce==="start"?.75*Z.height:0:35<ie&&90>=ie?ye=ce==="start"?.25*-Z.height:Z.height:215<ie&&270>=ie&&(ye=ce==="start"?Z.height:.25*-Z.height),15>le?xe=ce==="start"?.15*-Z.height:.15*Z.height:165<le&&180>=le&&(xe=ce==="start"?.15*Z.height:.15*-Z.height),U.attr({align:se}),U.translate(xe,ye+H)),V.pos.x=ve.x+(ne.x||0),V.pos.y=ve.y+(W||0)}}}function z(V){this.axis.getPosition&&g(V.pos,this.axis.getPosition(this.pos))}function J(V,U){var F=this.chart,Z=this.center;return V=this.startAngleRad+V,{x:F.plotLeft+Z[0]+Math.cos(V)*U,y:F.plotTop+Z[1]+Math.sin(V)*U}}function q(){this.isDirty=!1}function ee(){if(this.constructor.prototype.setAxisSize.call(this),this.isRadial){this.pane.updateCenter(this);var V=this.center=this.pane.center.slice();if(this.isCircular)this.sector=this.endAngleRad-this.startAngleRad;else{var U=this.postTranslate(this.angleRad,V[3]/2);V[0]=U.x-this.chart.plotLeft,V[1]=U.y-this.chart.plotTop}this.len=this.width=this.height=(V[2]-V[3])*d(this.sector,1)/2}}function ae(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function de(V){V=this.options=c(this.constructor.defaultOptions,this.defaultPolarOptions,h[this.coll],V),V.plotBands||(V.plotBands=[]),o(this,"afterSetOptions")}function ue(V,U,F,Z,ne,re,G){var H=this.axis;return H.isRadial?(V=H.getPosition(this.pos,H.center[2]/2+Z),U=["M",U,F,"L",V.x,V.y]):U=V.call(this,U,F,Z,ne,re,G),U}var pe=[],K={gridLineWidth:1,labels:{align:void 0,distance:15,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},te={labels:{align:"center",x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},ge={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};_.compose=function(V,U){return pe.indexOf(V)===-1&&(pe.push(V),p(V,"afterInit",k),p(V,"autoLabelAlign",P),p(V,"destroy",O),p(V,"init",L),p(V,"initialAxisTranslation",I)),pe.indexOf(U)===-1&&(pe.push(U),p(U,"afterGetLabelPosition",R),p(U,"afterGetPosition",z),C(U.prototype,"getMarkPath",ue)),V}}(M||(M={})),M}),x(s,"Series/AreaRange/AreaRangePoint.js",[s["Series/Area/AreaSeries.js"],s["Core/Series/Point.js"],s["Core/Utilities.js"]],function(f,i,n){var a=this&&this.__extends||function(){var v=function(N,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)c.hasOwnProperty(d)&&(o[d]=c[d])},v(N,g)};return function(N,g){function o(){this.constructor=N}v(N,g),N.prototype=g===null?Object.create(g):(o.prototype=g.prototype,new o)}}(),h=i.prototype,E=n.defined,p=n.isNumber;return function(v){function N(){var g=v!==null&&v.apply(this,arguments)||this;return g.high=void 0,g.low=void 0,g.options=void 0,g.plotHigh=void 0,g.plotLow=void 0,g.plotHighX=void 0,g.plotLowX=void 0,g.plotX=void 0,g.series=void 0,g}return a(N,v),N.prototype.setState=function(){var g=this.state,o=this.series,c=o.chart.polar;E(this.plotHigh)||(this.plotHigh=o.yAxis.toPixels(this.high,!0)),E(this.plotLow)||(this.plotLow=this.plotY=o.yAxis.toPixels(this.low,!0)),o.stateMarkerGraphic&&(o.lowerStateMarkerGraphic=o.stateMarkerGraphic,o.stateMarkerGraphic=o.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,c&&(this.plotX=this.plotHighX),h.setState.apply(this,arguments),this.state=g,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,c&&(this.plotX=this.plotLowX),o.stateMarkerGraphic&&(o.upperStateMarkerGraphic=o.stateMarkerGraphic,o.stateMarkerGraphic=o.lowerStateMarkerGraphic,o.lowerStateMarkerGraphic=void 0),h.setState.apply(this,arguments)},N.prototype.haloPath=function(){var g=this.series.chart.polar,o=[];return this.plotY=this.plotLow,g&&(this.plotX=this.plotLowX),this.isInside&&(o=h.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,g&&(this.plotX=this.plotHighX),this.isTopInside&&(o=o.concat(h.haloPath.apply(this,arguments))),o},N.prototype.isValid=function(){return p(this.low)&&p(this.high)},N}(f.prototype.pointClass)}),x(s,"Series/AreaRange/AreaRangeSeries.js",[s["Series/AreaRange/AreaRangePoint.js"],s["Series/Area/AreaSeries.js"],s["Series/Column/ColumnSeries.js"],s["Core/Globals.js"],s["Core/Series/Series.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n,a,h,E,p){var v=this&&this.__extends||function(){var _=function(A,y){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var e in t)t.hasOwnProperty(e)&&(S[e]=t[e])},_(A,y)};return function(A,y){function S(){this.constructor=A}_(A,y),A.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}(),N=i.prototype,g=n.prototype;n=a.noop;var o=h.prototype,c=p.defined,d=p.extend,m=p.isArray,C=p.pick,M=p.merge;return h=function(_){function A(){var y=_!==null&&_.apply(this,arguments)||this;return y.data=void 0,y.options=void 0,y.points=void 0,y.lowerStateMarkerGraphic=void 0,y.xAxis=void 0,y}return v(A,_),A.prototype.toYData=function(y){return[y.low,y.high]},A.prototype.highToXY=function(y){var S=this.chart,t=this.xAxis.postTranslate(y.rectPlotX||0,this.yAxis.len-y.plotHigh);y.plotHighX=t.x-S.plotLeft,y.plotHigh=t.y-S.plotTop,y.plotLowX=y.plotX},A.prototype.translate=function(){var y=this,S=y.yAxis;N.translate.apply(y),y.points.forEach(function(t){var e=t.high,l=t.plotY;t.isNull?t.plotY=null:(t.plotLow=l,t.plotHigh=S.translate(y.dataModify?y.dataModify.modifyValue(e):e,0,1,0,1),y.dataModify&&(t.yBottom=t.plotHigh))}),this.chart.polar&&this.points.forEach(function(t){y.highToXY(t),t.tooltipPos=[(t.plotHighX+t.plotLowX)/2,(t.plotHigh+t.plotLow)/2]})},A.prototype.getGraphPath=function(y){var S=[],t=[],e,l=N.getGraphPath,u=this.options,w=this.chart.polar,b=w&&u.connectEnds!==!1,D=u.connectNulls,T=u.step;for(y=y||this.points,e=y.length;e--;){var k=y[e],P=w?{plotX:k.rectPlotX,plotY:k.yBottom,doCurve:!1}:{plotX:k.plotX,plotY:k.plotY,doCurve:!1};k.isNull||b||D||y[e+1]&&!y[e+1].isNull||t.push(P);var O={polarPlotY:k.polarPlotY,rectPlotX:k.rectPlotX,yBottom:k.yBottom,plotX:C(k.plotHighX,k.plotX),plotY:k.plotHigh,isNull:k.isNull};t.push(O),S.push(O),k.isNull||b||D||y[e-1]&&!y[e-1].isNull||t.push(P)}return y=l.call(this,y),T&&(T===!0&&(T="left"),u.step={left:"right",center:"center",right:"left"}[T]),S=l.call(this,S),t=l.call(this,t),u.step=T,u=[].concat(y,S),!this.chart.polar&&t[0]&&t[0][0]==="M"&&(t[0]=["L",t[0][1],t[0][2]]),this.graphPath=u,this.areaPath=y.concat(t),u.isArea=!0,u.xMap=y.xMap,this.areaPath.xMap=y.xMap,u},A.prototype.drawDataLabels=function(){var y=this.points,S=y.length,t,e=[],l=this.options.dataLabels,u,w=this.chart.inverted;if(l){if(m(l))var b=l[0]||{enabled:!1},D=l[1]||{enabled:!1};else b=d({},l),b.x=l.xHigh,b.y=l.yHigh,D=d({},l),D.x=l.xLow,D.y=l.yLow;if(b.enabled||this._hasPointLabels){for(t=S;t--;)if(u=y[t]){var T=b.inside?u.plotHigh<u.plotLow:u.plotHigh>u.plotLow;u.y=u.high,u._plotY=u.plotY,u.plotY=u.plotHigh,e[t]=u.dataLabel,u.dataLabel=u.dataLabelUpper,u.below=T,w?b.align||(b.align=T?"right":"left"):b.verticalAlign||(b.verticalAlign=T?"top":"bottom")}for(this.options.dataLabels=b,o.drawDataLabels&&o.drawDataLabels.apply(this,arguments),t=S;t--;)(u=y[t])&&(u.dataLabelUpper=u.dataLabel,u.dataLabel=e[t],delete u.dataLabels,u.y=u.low,u.plotY=u._plotY)}if(D.enabled||this._hasPointLabels){for(t=S;t--;)(u=y[t])&&(T=D.inside?u.plotHigh<u.plotLow:u.plotHigh>u.plotLow,u.below=!T,w?D.align||(D.align=T?"left":"right"):D.verticalAlign||(D.verticalAlign=T?"bottom":"top"));this.options.dataLabels=D,o.drawDataLabels&&o.drawDataLabels.apply(this,arguments)}if(b.enabled)for(t=S;t--;)(u=y[t])&&(u.dataLabels=[u.dataLabelUpper,u.dataLabel].filter(function(k){return!!k}));this.options.dataLabels=l}},A.prototype.alignDataLabel=function(){g.alignDataLabel.apply(this,arguments)},A.prototype.drawPoints=function(){var y=this.points.length,S;for(o.drawPoints.apply(this,arguments),S=0;S<y;){var t=this.points[S];t.origProps={plotY:t.plotY,plotX:t.plotX,isInside:t.isInside,negative:t.negative,zone:t.zone,y:t.y},t.lowerGraphic=t.graphic,t.graphic=t.upperGraphic,t.plotY=t.plotHigh,c(t.plotHighX)&&(t.plotX=t.plotHighX),t.y=C(t.high,t.origProps.y),t.negative=t.y<(this.options.threshold||0),this.zones.length&&(t.zone=t.getZone()),this.chart.polar||(t.isInside=t.isTopInside=typeof t.plotY<"u"&&0<=t.plotY&&t.plotY<=this.yAxis.len&&0<=t.plotX&&t.plotX<=this.xAxis.len),S++}for(o.drawPoints.apply(this,arguments),S=0;S<y;)t=this.points[S],t.upperGraphic=t.graphic,t.graphic=t.lowerGraphic,t.origProps&&(d(t,t.origProps),delete t.origProps),S++},A.defaultOptions=M(i.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),A}(i),d(h.prototype,{pointArrayMap:["low","high"],pointValKey:"low",deferTranslatePolar:!0,pointClass:f,setStackedPoints:n}),E.registerSeriesType("arearange",h),h}),x(s,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[s["Series/AreaRange/AreaRangeSeries.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n){var a=this&&this.__extends||function(){var v=function(N,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)c.hasOwnProperty(d)&&(o[d]=c[d])},v(N,g)};return function(N,g){function o(){this.constructor=N}v(N,g),N.prototype=g===null?Object.create(g):(o.prototype=g.prototype,new o)}}(),h=i.seriesTypes.spline,E=n.merge;n=n.extend;var p=function(v){function N(){var g=v!==null&&v.apply(this,arguments)||this;return g.options=void 0,g.data=void 0,g.points=void 0,g}return a(N,v),N.defaultOptions=E(f.defaultOptions),N}(f);return n(p.prototype,{getPointSpline:h.prototype.getPointSpline}),i.registerSeriesType("areasplinerange",p),p}),x(s,"Series/BoxPlot/BoxPlotSeries.js",[s["Series/Column/ColumnSeries.js"],s["Core/Globals.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=this&&this.__extends||function(){var N=function(g,o){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var m in d)d.hasOwnProperty(m)&&(c[m]=d[m])},N(g,o)};return function(g,o){function c(){this.constructor=g}N(g,o),g.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();i=i.noop;var E=a.extend,p=a.merge,v=a.pick;return a=function(N){function g(){var o=N!==null&&N.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return h(g,N),g.prototype.pointAttribs=function(){return{}},g.prototype.translate=function(){var o=this.yAxis,c=this.pointArrayMap;N.prototype.translate.apply(this),this.points.forEach(function(d){c.forEach(function(m){d[m]!==null&&(d[m+"Plot"]=o.translate(d[m],0,1,0,1))}),d.plotHigh=d.highPlot})},g.prototype.drawPoints=function(){var o=this,c=o.options,d=o.chart,m=d.renderer,C,M,_,A,y,S,t=0,e,l,u,w,b=o.doQuartiles!==!1,D,T=o.options.whiskerLength;o.points.forEach(function(k){var P=k.graphic,O=P?"animate":"attr",L=k.shapeArgs,I={},R={},z={},J={},q=k.color||o.color;typeof k.plotY<"u"&&(e=Math.round(L.width),l=Math.floor(L.x),u=l+e,w=Math.round(e/2),C=Math.floor(b?k.q1Plot:k.lowPlot),M=Math.floor(b?k.q3Plot:k.lowPlot),_=Math.floor(k.highPlot),A=Math.floor(k.lowPlot),P||(k.graphic=P=m.g("point").add(o.group),k.stem=m.path().addClass("highcharts-boxplot-stem").add(P),T&&(k.whiskers=m.path().addClass("highcharts-boxplot-whisker").add(P)),b&&(k.box=m.path(void 0).addClass("highcharts-boxplot-box").add(P)),k.medianShape=m.path(void 0).addClass("highcharts-boxplot-median").add(P)),d.styledMode||(R.stroke=k.stemColor||c.stemColor||q,R["stroke-width"]=v(k.stemWidth,c.stemWidth,c.lineWidth),R.dashstyle=k.stemDashStyle||c.stemDashStyle||c.dashStyle,k.stem.attr(R),T&&(z.stroke=k.whiskerColor||c.whiskerColor||q,z["stroke-width"]=v(k.whiskerWidth,c.whiskerWidth,c.lineWidth),z.dashstyle=k.whiskerDashStyle||c.whiskerDashStyle||c.dashStyle,k.whiskers.attr(z)),b&&(I.fill=k.fillColor||c.fillColor||q,I.stroke=c.lineColor||q,I["stroke-width"]=c.lineWidth||0,I.dashstyle=k.boxDashStyle||c.boxDashStyle||c.dashStyle,k.box.attr(I)),J.stroke=k.medianColor||c.medianColor||q,J["stroke-width"]=v(k.medianWidth,c.medianWidth,c.lineWidth),J.dashstyle=k.medianDashStyle||c.medianDashStyle||c.dashStyle,k.medianShape.attr(J)),S=k.stem.strokeWidth()%2/2,t=l+w+S,P=[["M",t,M],["L",t,_],["M",t,C],["L",t,A]],k.stem[O]({d:P}),b&&(S=k.box.strokeWidth()%2/2,C=Math.floor(C)+S,M=Math.floor(M)+S,l+=S,u+=S,P=[["M",l,M],["L",l,C],["L",u,C],["L",u,M],["L",l,M],["Z"]],k.box[O]({d:P})),T&&(S=k.whiskers.strokeWidth()%2/2,_+=S,A+=S,D=/%$/.test(T)?w*parseFloat(T)/100:T/2,P=[["M",t-D,_],["L",t+D,_],["M",t-D,A],["L",t+D,A]],k.whiskers[O]({d:P})),y=Math.round(k.medianPlot),S=k.medianShape.strokeWidth()%2/2,y+=S,P=[["M",l,y],["L",u,y]],k.medianShape[O]({d:P}))})},g.prototype.toYData=function(o){return[o.low,o.q1,o.median,o.q3,o.high]},g.defaultOptions=p(f.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),g}(f),E(a.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:i,setStackedPoints:i}),n.registerSeriesType("boxplot",a),a}),x(s,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),x(s,"Series/Bubble/BubbleLegendItem.js",[s["Core/Color/Color.js"],s["Core/FormatUtilities.js"],s["Core/Globals.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=f.parse,E=n.noop,p=a.arrayMax,v=a.arrayMin,N=a.isNumber,g=a.merge,o=a.pick,c=a.stableSort;return function(){function d(m,C){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=E,this.init(m,C)}return d.prototype.init=function(m,C){this.options=m,this.visible=!0,this.chart=C.chart,this.legend=C},d.prototype.addToLegend=function(m){m.splice(this.options.legendIndex,0,this)},d.prototype.drawLegendSymbol=function(m){var C=this.chart,M=this.options,_=o(m.options.itemDistance,20),A=M.ranges,y=M.connectorDistance;this.fontMetrics=C.renderer.fontMetrics(M.labels.style.fontSize),A&&A.length&&N(A[0].value)?(c(A,function(S,t){return t.value-S.value}),this.ranges=A,this.setOptions(),this.render(),m=this.getMaxLabelSize(),A=this.ranges[0].radius,C=2*A,y=y-A+m.width,y=0<y?y:0,this.maxLabel=m,this.movementX=M.labels.align==="left"?y:0,this.legendItemWidth=C+y+_,this.legendItemHeight=C+this.fontMetrics.h/2):m.options.bubbleLegend.autoRanges=!0},d.prototype.setOptions=function(){var m=this.ranges,C=this.options,M=this.chart.series[C.seriesIndex],_=this.legend.baseline,A={zIndex:C.zIndex,"stroke-width":C.borderWidth},y={zIndex:C.zIndex,"stroke-width":C.connectorWidth},S={align:this.legend.options.rtl||C.labels.align==="left"?"right":"left",zIndex:C.zIndex},t=M.options.marker.fillOpacity,e=this.chart.styledMode;m.forEach(function(l,u){e||(A.stroke=o(l.borderColor,C.borderColor,M.color),A.fill=o(l.color,C.color,t!==1?h(M.color).setOpacity(t).get("rgba"):M.color),y.stroke=o(l.connectorColor,C.connectorColor,M.color)),m[u].radius=this.getRangeRadius(l.value),m[u]=g(m[u],{center:m[0].radius-m[u].radius+_}),e||g(!0,m[u],{bubbleAttribs:g(A),connectorAttribs:g(y),labelAttribs:S})},this)},d.prototype.getRangeRadius=function(m){var C=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,C.ranges[C.ranges.length-1].value,C.ranges[0].value,C.minSize,C.maxSize,m)},d.prototype.render=function(){var m=this.chart.renderer,C=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=m.g("bubble-legend"),this.legendItem=m.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(M){M.value>=C&&this.renderRange(M)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},d.prototype.renderRange=function(m){var C=this.options,M=C.labels,_=this.chart,A=_.series[C.seriesIndex],y=_.renderer,S=this.symbols;_=S.labels;var t=m.center,e=Math.abs(m.radius),l=C.connectorDistance||0,u=M.align,w=C.connectorWidth,b=this.ranges[0].radius||0,D=t-e-C.borderWidth/2+w/2,T=this.fontMetrics;T=T.f/2-(T.h-T.f)/2;var k=y.styledMode;l=this.legend.options.rtl||u==="left"?-l:l,u==="center"&&(l=0,C.connectorDistance=0,m.labelAttribs.align="center"),u=D+C.labels.y;var P=b+l+C.labels.x;S.bubbleItems.push(y.circle(b,t+((D%1?1:.5)-(w%2?0:.5)),e).attr(k?{}:m.bubbleAttribs).addClass((k?"highcharts-color-"+A.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(C.className||"")).add(this.legendSymbol)),S.connectors.push(y.path(y.crispLine([["M",b,D],["L",b+l,D]],C.connectorWidth)).attr(k?{}:m.connectorAttribs).addClass((k?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(C.connectorClassName||"")).add(this.legendSymbol)),m=y.text(this.formatLabel(m),P,u+T).attr(k?{}:m.labelAttribs).css(k?{}:M.style).addClass("highcharts-bubble-legend-labels "+(C.labels.className||"")).add(this.legendSymbol),_.push(m),m.placed=!0,m.alignAttr={x:P,y:u+T}},d.prototype.getMaxLabelSize=function(){var m,C;return this.symbols.labels.forEach(function(M){C=M.getBBox(!0),m=m?C.width>m.width?C:m:C}),m||{}},d.prototype.formatLabel=function(m){var C=this.options,M=C.labels.formatter;C=C.labels.format;var _=this.chart.numberFormatter;return C?i.format(C,m):M?M.call(m):_(m.value,1)},d.prototype.hideOverlappingLabels=function(){var m=this.chart,C=this.symbols;!this.options.labels.allowOverlap&&C&&(m.hideOverlappingLabels(C.labels),C.labels.forEach(function(M,_){M.newOpacity?M.newOpacity!==M.oldOpacity&&C.connectors[_].show():C.connectors[_].hide()}))},d.prototype.getRanges=function(){var m=this.legend.bubbleLegend,C=m.options.ranges,M,_=Number.MAX_VALUE,A=-Number.MAX_VALUE;m.chart.series.forEach(function(S){S.isBubble&&!S.ignoreSeries&&(M=S.zData.filter(N),M.length&&(_=o(S.options.zMin,Math.min(_,Math.max(v(M),S.options.displayNegative===!1?S.options.zThreshold:-Number.MAX_VALUE))),A=o(S.options.zMax,Math.max(A,p(M)))))});var y=_===A?[{value:A}]:[{value:_},{value:(_+A)/2},{value:A,autoRanges:!0}];return C.length&&C[0].radius&&y.reverse(),y.forEach(function(S,t){C&&C[t]&&(y[t]=g(C[t],S))}),y},d.prototype.predictBubbleSizes=function(){var m=this.chart,C=this.fontMetrics,M=m.legend.options,_=M.floating,A=(M=M.layout==="horizontal")?m.legend.lastLineHeight:0,y=m.plotSizeX,S=m.plotSizeY,t=m.series[this.options.seriesIndex],e=t.getPxExtremes();m=Math.ceil(e.minPxSize),e=Math.ceil(e.maxPxSize);var l=Math.min(S,y);return t=t.options.maxSize,_||!/%$/.test(t)?C=e:(t=parseFloat(t),C=(l+A-C.h/2)*t/100/(t/100+1),(M&&S-C>=y||!M&&y-C>=S)&&(C=e)),[m,Math.ceil(C)]},d.prototype.updateRanges=function(m,C){var M=this.legend.options.bubbleLegend;M.minSize=m,M.maxSize=C,M.ranges=this.getRanges()},d.prototype.correctSizes=function(){var m=this.legend,C=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(C.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,C.maxPxSize),m.render())},d}()}),x(s,"Series/Bubble/BubbleLegendComposition.js",[s["Series/Bubble/BubbleLegendDefaults.js"],s["Series/Bubble/BubbleLegendItem.js"],s["Core/DefaultOptions.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=n.setOptions,E=a.addEvent,p=a.objectEach,v=a.wrap,N;return function(g){function o(A,y,S){var t=this.legend,e=0<=c(this);if(t&&t.options.enabled&&t.bubbleLegend&&t.options.bubbleLegend.autoRanges&&e){var l=t.bubbleLegend.options;e=t.bubbleLegend.predictBubbleSizes(),t.bubbleLegend.updateRanges(e[0],e[1]),l.placed||(t.group.placed=!1,t.allItems.forEach(function(u){u.legendGroup.translateY=null})),t.render(),this.getMargins(),this.axes.forEach(function(u){u.visible&&u.render(),l.placed||(u.setScale(),u.updateNames(),p(u.ticks,function(w){w.isNew=!0,w.isNewLabel=!0}))}),l.placed=!0,this.getMargins(),A.call(this,y,S),t.bubbleLegend.correctSizes(),M(t,d(t))}else A.call(this,y,S),t&&t.options.enabled&&t.bubbleLegend&&(t.render(),M(t,d(t)))}function c(A){A=A.series;for(var y=0;y<A.length;){if(A[y]&&A[y].isBubble&&A[y].visible&&A[y].zData.length)return y;y++}return-1}function d(A){A=A.allItems;var y=[],S=A.length,t,e=0;for(t=0;t<S;t++)if(A[t].legendItemHeight&&(A[t].itemHeight=A[t].legendItemHeight),A[t]===A[S-1]||A[t+1]&&A[t]._legendItemPos[1]!==A[t+1]._legendItemPos[1]){y.push({height:0});var l=y[y.length-1];for(e;e<=t;e++)A[e].itemHeight>l.height&&(l.height=A[e].itemHeight);l.step=t}return y}function m(A){var y=this.bubbleLegend,S=this.options,t=S.bubbleLegend,e=c(this.chart);y&&y.ranges&&y.ranges.length&&(t.ranges.length&&(t.autoRanges=!!t.ranges[0].autoRanges),this.destroyItem(y)),0<=e&&S.enabled&&t.enabled&&(t.seriesIndex=e,this.bubbleLegend=new i(t,this),this.bubbleLegend.addToLegend(A.allItems))}function C(){var A=this.chart,y=this.visible,S=this.chart.legend;S&&S.bubbleLegend&&(this.visible=!y,this.ignoreSeries=y,A=0<=c(A),S.bubbleLegend.visible!==A&&(S.update({bubbleLegend:{enabled:A}}),S.bubbleLegend.visible=A),this.visible=y)}function M(A,y){var S=A.options.rtl,t,e,l,u=0;A.allItems.forEach(function(w,b){t=w.legendGroup.translateX,e=w._legendItemPos[1],((l=w.movementX)||S&&w.ranges)&&(l=S?t-w.options.maxSize/2:t+l,w.legendGroup.attr({translateX:l})),b>y[u].step&&u++,w.legendGroup.attr({translateY:Math.round(e+y[u].height/2)}),w._legendItemPos[1]=e+y[u].height/2})}var _=[];g.compose=function(A,y,S){_.indexOf(A)===-1&&(_.push(A),h({legend:{bubbleLegend:f}}),v(A.prototype,"drawChartBox",o)),_.indexOf(y)===-1&&(_.push(y),E(y,"afterGetAllItems",m)),_.indexOf(S)===-1&&(_.push(S),E(S,"legendItemClick",C))}}(N||(N={})),N}),x(s,"Series/Bubble/BubblePoint.js",[s["Core/Series/Point.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n){var a=this&&this.__extends||function(){var h=function(E,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,N){v.__proto__=N}||function(v,N){for(var g in N)N.hasOwnProperty(g)&&(v[g]=N[g])},h(E,p)};return function(E,p){function v(){this.constructor=E}h(E,p),E.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();return n=n.extend,i=function(h){function E(){var p=h!==null&&h.apply(this,arguments)||this;return p.options=void 0,p.series=void 0,p}return a(E,h),E.prototype.haloPath=function(p){return f.prototype.haloPath.call(this,p===0?0:(this.marker&&this.marker.radius||0)+p)},E}(i.seriesTypes.scatter.prototype.pointClass),n(i.prototype,{ttBelow:!1}),i}),x(s,"Series/Bubble/BubbleSeries.js",[s["Core/Axis/Axis.js"],s["Series/Bubble/BubbleLegendComposition.js"],s["Series/Bubble/BubblePoint.js"],s["Core/Color/Color.js"],s["Core/Globals.js"],s["Core/Series/Series.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n,a,h,E,p,v){var N=this&&this.__extends||function(){var S=function(t,e){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var w in u)u.hasOwnProperty(w)&&(l[w]=u[w])},S(t,e)};return function(t,e){function l(){this.constructor=t}S(t,e),t.prototype=e===null?Object.create(e):(l.prototype=e.prototype,new l)}}(),g=a.parse;a=h.noop;var o=p.seriesTypes;h=o.column;var c=o.scatter;o=v.addEvent;var d=v.arrayMax,m=v.arrayMin,C=v.clamp,M=v.extend,_=v.isNumber,A=v.merge,y=v.pick;return v=function(S){function t(){var e=S!==null&&S.apply(this,arguments)||this;return e.data=void 0,e.maxPxSize=void 0,e.minPxSize=void 0,e.options=void 0,e.points=void 0,e.radii=void 0,e.yData=void 0,e.zData=void 0,e}return N(t,S),t.prototype.animate=function(e){!e&&this.points.length<this.options.animationLimit&&this.points.forEach(function(l){var u=l.graphic;u&&u.width&&(this.hasRendered||u.attr({x:l.plotX,y:l.plotY,width:1,height:1}),u.animate(this.markerAttribs(l),this.options.animation))},this)},t.prototype.getRadii=function(){var e=this,l=this.zData,u=this.yData,w=[],b=this.chart.bubbleZExtremes,D=this.getPxExtremes(),T=D.minPxSize,k=D.maxPxSize;if(!b){var P=Number.MAX_VALUE,O=-Number.MAX_VALUE,L;this.chart.series.forEach(function(z){z.bubblePadding&&(z.visible||!e.chart.options.chart.ignoreHiddenSeries)&&(z=z.getZExtremes())&&(P=Math.min(P||z.zMin,z.zMin),O=Math.max(O||z.zMax,z.zMax),L=!0)}),L?(b={zMin:P,zMax:O},this.chart.bubbleZExtremes=b):b={zMin:0,zMax:0}}var I=0;for(D=l.length;I<D;I++){var R=l[I];w.push(this.getRadius(b.zMin,b.zMax,T,k,R,u[I]))}this.radii=w},t.prototype.getRadius=function(e,l,u,w,b,D){var T=this.options,k=T.sizeBy!=="width",P=T.zThreshold,O=l-e,L=.5;if(D===null||b===null)return null;if(_(b)){if(T.sizeByAbsoluteValue&&(b=Math.abs(b-P),O=Math.max(l-P,Math.abs(e-P)),e=0),b<e)return u/2-1;0<O&&(L=(b-e)/O)}return k&&0<=L&&(L=Math.sqrt(L)),Math.ceil(u+L*(w-u))/2},t.prototype.hasData=function(){return!!this.processedXData.length},t.prototype.pointAttribs=function(e,l){var u=this.options.marker.fillOpacity;return e=E.prototype.pointAttribs.call(this,e,l),u!==1&&(e.fill=g(e.fill).setOpacity(u).get("rgba")),e},t.prototype.translate=function(){S.prototype.translate.call(this),this.getRadii(),this.translateBubble()},t.prototype.translateBubble=function(){for(var e=this.data,l=this.radii,u=this.getPxExtremes().minPxSize,w=e.length;w--;){var b=e[w],D=l?l[w]:0;_(D)&&D>=u/2?(b.marker=M(b.marker,{radius:D,width:2*D,height:2*D}),b.dlBox={x:b.plotX-D,y:b.plotY-D,width:2*D,height:2*D}):b.shapeArgs=b.plotY=b.dlBox=void 0}},t.prototype.getPxExtremes=function(){var e=Math.min(this.chart.plotWidth,this.chart.plotHeight),l=function(w){if(typeof w=="string"){var b=/%$/.test(w);w=parseInt(w,10)}return b?e*w/100:w},u=l(y(this.options.minSize,8));return l=Math.max(l(y(this.options.maxSize,"20%")),u),{minPxSize:u,maxPxSize:l}},t.prototype.getZExtremes=function(){var e=this.options,l=(this.zData||[]).filter(_);if(l.length){var u=y(e.zMin,C(m(l),e.displayNegative===!1?e.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(e=y(e.zMax,d(l)),_(u)&&_(e))return{zMin:u,zMax:e}}},t.compose=i.compose,t.defaultOptions=A(c.defaultOptions,{dataLabels:{formatter:function(){var e=this.series.chart.numberFormatter,l=this.point.z;return _(l)?e(l,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),t}(c),M(v.prototype,{alignDataLabel:h.prototype.alignDataLabel,applyZones:a,bubblePadding:!0,buildKDTree:a,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:n,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),o(v,"updatedData",function(S){delete S.target.chart.bubbleZExtremes}),f.prototype.beforePadding=function(){var S=this,t=this.len,e=this.chart,l=0,u=t,w=this.isXAxis,b=w?"xData":"yData",D=this.min,T=this.max-D,k=t/T,P;this.series.forEach(function(O){if(O.bubblePadding&&(O.visible||!e.options.chart.ignoreHiddenSeries)){P=S.allowZoomOutside=!0;var L=O[b];if(w&&O.getRadii(0,0,O),0<T){for(var I=L.length;I--;)if(_(L[I])&&S.dataMin<=L[I]&&L[I]<=S.max){var R=O.radii&&O.radii[I]||0;l=Math.min((L[I]-D)*k-R,l),u=Math.max((L[I]-D)*k+R,u)}}}}),P&&0<T&&!this.logarithmic&&(u-=t,k*=(t+Math.max(0,l)-Math.min(u,t))/t,[["min","userMin",l],["max","userMax",u]].forEach(function(O){typeof y(S.options[O[0]],S[O[1]])>"u"&&(S[O[0]]+=O[2]/k)}))},p.registerSeriesType("bubble",v),v}),x(s,"Series/ColumnRange/ColumnRangePoint.js",[s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i){var n=this&&this.__extends||function(){var p=function(v,N){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,o){g.__proto__=o}||function(g,o){for(var c in o)o.hasOwnProperty(c)&&(g[c]=o[c])},p(v,N)};return function(v,N){function g(){this.constructor=v}p(v,N),v.prototype=N===null?Object.create(N):(g.prototype=N.prototype,new g)}}(),a=f.seriesTypes;f=a.column.prototype.pointClass;var h=i.extend,E=i.isNumber;return i=function(p){function v(){var N=p!==null&&p.apply(this,arguments)||this;return N.series=void 0,N.options=void 0,N.barX=void 0,N.pointWidth=void 0,N.shapeType=void 0,N}return n(v,p),v.prototype.isValid=function(){return E(this.low)},v}(a.arearange.prototype.pointClass),h(i.prototype,{setState:f.prototype.setState}),i}),x(s,"Series/ColumnRange/ColumnRangeSeries.js",[s["Series/ColumnRange/ColumnRangePoint.js"],s["Core/Globals.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=this&&this.__extends||function(){var C=function(M,_){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,y){A.__proto__=y}||function(A,y){for(var S in y)y.hasOwnProperty(S)&&(A[S]=y[S])},C(M,_)};return function(M,_){function A(){this.constructor=M}C(M,_),M.prototype=_===null?Object.create(_):(A.prototype=_.prototype,new A)}}();i=i.noop;var E=n.seriesTypes,p=E.arearange,v=E.column,N=v.prototype,g=p.prototype,o=a.clamp,c=a.merge,d=a.pick;a=a.extend;var m={pointRange:null,marker:null,states:{hover:{halo:!1}}};return E=function(C){function M(){var _=C!==null&&C.apply(this,arguments)||this;return _.data=void 0,_.points=void 0,_.options=void 0,_}return h(M,C),M.prototype.setOptions=function(){return c(!0,arguments[0],{stacking:void 0}),g.setOptions.apply(this,arguments)},M.prototype.translate=function(){var _=this,A=_.yAxis,y=_.xAxis,S=y.startAngleRad,t,e=_.chart,l=_.xAxis.isRadial,u=Math.max(e.chartWidth,e.chartHeight)+999,w;N.translate.apply(_),_.points.forEach(function(b){var D=b.shapeArgs||{},T=_.options.minPointLength;b.plotHigh=w=o(A.translate(b.high,0,1,0,1),-u,u),b.plotLow=o(b.plotY,-u,u);var k=w,P=d(b.rectPlotY,b.plotY)-w;Math.abs(P)<T?(T-=P,P+=T,k-=T/2):0>P&&(P*=-1,k-=P),l?(t=b.barX+S,b.shapeType="arc",b.shapeArgs=_.polarArc(k+P,k,t,t+b.pointWidth)):(D.height=P,D.y=k,T=D.x,T=T===void 0?0:T,D=D.width,D=D===void 0?0:D,b.tooltipPos=e.inverted?[A.len+A.pos-e.plotLeft-k-P/2,y.len+y.pos-e.plotTop-T-D/2,P]:[y.left-e.plotLeft+T+D/2,A.pos-e.plotTop+k+P/2,P])})},M.prototype.crispCol=function(){return N.crispCol.apply(this,arguments)},M.prototype.drawPoints=function(){return N.drawPoints.apply(this,arguments)},M.prototype.drawTracker=function(){return N.drawTracker.apply(this,arguments)},M.prototype.getColumnMetrics=function(){return N.getColumnMetrics.apply(this,arguments)},M.prototype.pointAttribs=function(){return N.pointAttribs.apply(this,arguments)},M.prototype.adjustForMissingColumns=function(){return N.adjustForMissingColumns.apply(this,arguments)},M.prototype.animate=function(){return N.animate.apply(this,arguments)},M.prototype.translate3dPoints=function(){return N.translate3dPoints.apply(this,arguments)},M.prototype.translate3dShapes=function(){return N.translate3dShapes.apply(this,arguments)},M.defaultOptions=c(v.defaultOptions,p.defaultOptions,m),M}(p),a(E.prototype,{directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:i,getSymbol:i,polarArc:function(){return N.polarArc.apply(this,arguments)},pointClass:f}),n.registerSeriesType("columnrange",E),E}),x(s,"Series/ColumnPyramid/ColumnPyramidSeries.js",[s["Series/Column/ColumnSeries.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n){var a=this&&this.__extends||function(){var N=function(g,o){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var m in d)d.hasOwnProperty(m)&&(c[m]=d[m])},N(g,o)};return function(g,o){function c(){this.constructor=g}N(g,o),g.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),h=f.prototype,E=n.clamp,p=n.merge,v=n.pick;return n=function(N){function g(){var o=N!==null&&N.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return a(g,N),g.prototype.translate=function(){var o=this,c=o.chart,d=o.options,m=o.dense=2>o.closestPointRange*o.xAxis.transA;m=o.borderWidth=v(d.borderWidth,m?0:1);var C=o.yAxis,M=d.threshold,_=o.translatedThreshold=C.getThreshold(M),A=v(d.minPointLength,5),y=o.getColumnMetrics(),S=y.width,t=o.barW=Math.max(S,1+2*m),e=o.pointXOffset=y.offset;c.inverted&&(_-=.5),d.pointPadding&&(t=Math.ceil(t)),h.translate.apply(o),o.points.forEach(function(l){var u=v(l.yBottom,_),w=999+Math.abs(u),b=E(l.plotY,-w,C.len+w);w=l.plotX+e;var D=t/2,T=Math.min(b,u);u=Math.max(b,u)-T;var k;l.barX=w,l.pointWidth=S,l.tooltipPos=c.inverted?[C.len+C.pos-c.plotLeft-b,o.xAxis.len-w-D,u]:[w+D,b+C.pos-c.plotTop,u],b=M+(l.total||l.y),d.stacking==="percent"&&(b=M+(0>l.y)?-100:100),b=C.toPixels(b,!0);var P=(k=c.plotHeight-b-(c.plotHeight-_))?D*(T-b)/k:0,O=k?D*(T+u-b)/k:0;k=w-P+D,P=w+P+D;var L=w+O+D;O=w-O+D;var I=T-A,R=T+u;0>l.y&&(I=T,R=T+u+A),c.inverted&&(L=C.width-T,k=b-(C.width-_),P=D*(b-L)/k,O=D*(b-(L-u))/k,k=w+D+P,P=k-2*P,L=w-O+D,O=w+O+D,I=T,R=T+u-A,0>l.y&&(R=T+u+A)),l.shapeType="path",l.shapeArgs={x:k,y:I,width:P-k,height:u,d:[["M",k,I],["L",P,I],["L",L,R],["L",O,R],["Z"]]}})},g.defaultOptions=p(f.defaultOptions,{}),g}(f),i.registerSeriesType("columnpyramid",n),n}),x(s,"Series/ErrorBar/ErrorBarSeries.js",[s["Series/BoxPlot/BoxPlotSeries.js"],s["Series/Column/ColumnSeries.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=this&&this.__extends||function(){var N=function(g,o){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var m in d)d.hasOwnProperty(m)&&(c[m]=d[m])},N(g,o)};return function(g,o){function c(){this.constructor=g}N(g,o),g.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),E=n.seriesTypes.arearange,p=a.merge;a=a.extend;var v=function(N){function g(){var o=N!==null&&N.apply(this,arguments)||this;return o.data=void 0,o.options=void 0,o.points=void 0,o}return h(g,N),g.prototype.getColumnMetrics=function(){return this.linkedParent&&this.linkedParent.columnMetrics||i.prototype.getColumnMetrics.call(this)},g.prototype.drawDataLabels=function(){var o=this.pointValKey;E&&(E.prototype.drawDataLabels.call(this),this.data.forEach(function(c){c.y=c[o]}))},g.prototype.toYData=function(o){return[o.low,o.high]},g.defaultOptions=p(f.defaultOptions,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),g}(f);return a(v.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),n.registerSeriesType("errorbar",v),v}),x(s,"Series/Gauge/GaugePoint.js",[s["Core/Series/SeriesRegistry.js"]],function(f){var i=this&&this.__extends||function(){var n=function(a,h){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,p){E.__proto__=p}||function(E,p){for(var v in p)p.hasOwnProperty(v)&&(E[v]=p[v])},n(a,h)};return function(a,h){function E(){this.constructor=a}n(a,h),a.prototype=h===null?Object.create(h):(E.prototype=h.prototype,new E)}}();return function(n){function a(){var h=n!==null&&n.apply(this,arguments)||this;return h.options=void 0,h.series=void 0,h.shapeArgs=void 0,h}return i(a,n),a.prototype.setState=function(h){this.state=h},a}(f.series.prototype.pointClass)}),x(s,"Series/Gauge/GaugeSeries.js",[s["Series/Gauge/GaugePoint.js"],s["Core/Globals.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=this&&this.__extends||function(){var m=function(C,M){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var y in A)A.hasOwnProperty(y)&&(_[y]=A[y])},m(C,M)};return function(C,M){function _(){this.constructor=C}m(C,M),C.prototype=M===null?Object.create(M):(_.prototype=M.prototype,new _)}}();i=i.noop;var E=n.series,p=n.seriesTypes.column,v=a.clamp,N=a.isNumber,g=a.extend,o=a.merge,c=a.pick,d=a.pInt;return a=function(m){function C(){var M=m!==null&&m.apply(this,arguments)||this;return M.data=void 0,M.points=void 0,M.options=void 0,M.yAxis=void 0,M}return h(C,m),C.prototype.translate=function(){var M=this.yAxis,_=this.options,A=M.center;this.generatePoints(),this.points.forEach(function(y){var S=o(_.dial,y.dial),t=d(c(S.radius,"80%"))*A[2]/200,e=d(c(S.baseLength,"70%"))*t/100,l=d(c(S.rearLength,"10%"))*t/100,u=S.baseWidth||3,w=S.topWidth||1,b=_.overshoot,D=M.startAngleRad+M.translate(y.y,null,null,null,!0);(N(b)||_.wrap===!1)&&(b=N(b)?b/180*Math.PI:0,D=v(D,M.startAngleRad-b,M.endAngleRad+b)),D=180*D/Math.PI,y.shapeType="path",y.shapeArgs={d:S.path||[["M",-l,-u/2],["L",e,-u/2],["L",t,-w/2],["L",t,w/2],["L",e,u/2],["L",-l,u/2],["Z"]],translateX:A[0],translateY:A[1],rotation:D},y.plotX=A[0],y.plotY=A[1]})},C.prototype.drawPoints=function(){var M=this,_=M.chart,A=M.yAxis.center,y=M.pivot,S=M.options,t=S.pivot,e=_.renderer;M.points.forEach(function(l){var u=l.graphic,w=l.shapeArgs,b=w.d,D=o(S.dial,l.dial);u?(u.animate(w),w.d=b):l.graphic=e[l.shapeType](w).attr({rotation:w.rotation,zIndex:1}).addClass("highcharts-dial").add(M.group),_.styledMode||l.graphic[u?"animate":"attr"]({stroke:D.borderColor||"none","stroke-width":D.borderWidth||0,fill:D.backgroundColor||"#000000"})}),y?y.animate({translateX:A[0],translateY:A[1]}):(M.pivot=e.circle(0,0,c(t.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(A[0],A[1]).add(M.group),_.styledMode||M.pivot.attr({"stroke-width":t.borderWidth||0,stroke:t.borderColor||"#cccccc",fill:t.backgroundColor||"#000000"}))},C.prototype.animate=function(M){var _=this;M||_.points.forEach(function(A){var y=A.graphic;y&&(y.attr({rotation:180*_.yAxis.startAngleRad/Math.PI}),y.animate({rotation:A.shapeArgs.rotation},_.options.animation))})},C.prototype.render=function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),E.prototype.render.call(this),this.group.clip(this.chart.clipRect)},C.prototype.setData=function(M,_){E.prototype.setData.call(this,M,!1),this.processData(),this.generatePoints(),c(_,!0)&&this.chart.redraw()},C.prototype.hasData=function(){return!!this.points.length},C.defaultOptions=o(E.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),C}(E),g(a.prototype,{angular:!0,directTouch:!0,drawGraph:i,drawTracker:p.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:f,trackerGroups:["group","dataLabelsGroup"]}),n.registerSeriesType("gauge",a),a}),x(s,"Series/PackedBubble/PackedBubblePoint.js",[s["Core/Chart/Chart.js"],s["Core/Series/Point.js"],s["Core/Series/SeriesRegistry.js"]],function(f,i,n){var a=this&&this.__extends||function(){var h=function(E,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,N){v.__proto__=N}||function(v,N){for(var g in N)N.hasOwnProperty(g)&&(v[g]=N[g])},h(E,p)};return function(E,p){function v(){this.constructor=E}h(E,p),E.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();return function(h){function E(){var p=h!==null&&h.apply(this,arguments)||this;return p.degree=NaN,p.mass=NaN,p.radius=NaN,p.options=void 0,p.series=void 0,p.value=null,p}return a(E,h),E.prototype.destroy=function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),i.prototype.destroy.apply(this,arguments)},E.prototype.firePointEvent=function(){var p=this.series.options;if(this.isParentNode&&p.parentNode){var v=p.allowPointSelect;p.allowPointSelect=p.parentNode.allowPointSelect,i.prototype.firePointEvent.apply(this,arguments),p.allowPointSelect=v}else i.prototype.firePointEvent.apply(this,arguments)},E.prototype.select=function(){var p=this.series.chart;this.isParentNode?(p.getSelectedPoints=p.getSelectedParentNodes,i.prototype.select.apply(this,arguments),p.getSelectedPoints=f.prototype.getSelectedPoints):i.prototype.select.apply(this,arguments)},E}(n.seriesTypes.bubble.prototype.pointClass)}),x(s,"Series/Networkgraph/DraggableNodes.js",[s["Core/Chart/Chart.js"],s["Core/Globals.js"],s["Core/Utilities.js"]],function(f,i,n){var a=n.addEvent;i.dragNodesMixin={onMouseDown:function(h,E){E=this.chart.pointer.normalize(E),h.fixedPosition={chartX:E.chartX,chartY:E.chartY,plotX:h.plotX,plotY:h.plotY},h.inDragMode=!0},onMouseMove:function(h,E){if(h.fixedPosition&&h.inDragMode){var p=this.chart,v=p.pointer.normalize(E);E=h.fixedPosition.chartX-v.chartX,v=h.fixedPosition.chartY-v.chartY;var N=void 0,g=void 0,o=p.graphLayoutsLookup;(5<Math.abs(E)||5<Math.abs(v))&&(N=h.fixedPosition.plotX-E,g=h.fixedPosition.plotY-v,p.isInsidePlot(N,g)&&(h.plotX=N,h.plotY=g,h.hasDragged=!0,this.redrawHalo(h),o.forEach(function(c){c.restartSimulation()})))}},onMouseUp:function(h,E){h.fixedPosition&&(h.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),h.inDragMode=h.hasDragged=!1,this.options.fixedDraggable||delete h.fixedPosition)},redrawHalo:function(h){h&&this.halo&&this.halo.attr({d:h.haloPath(this.options.states.hover.halo.size)})}},a(f,"load",function(){var h=this,E,p,v;h.container&&(E=a(h.container,"mousedown",function(N){var g=h.hoverPoint;g&&g.series&&g.series.hasDraggableNodes&&g.series.options.draggable&&(g.series.onMouseDown(g,N),p=a(h.container,"mousemove",function(o){return g&&g.series&&g.series.onMouseMove(g,o)}),v=a(h.container.ownerDocument,"mouseup",function(o){return p(),v(),g&&g.series&&g.series.onMouseUp(g,o)}))})),a(h,"destroy",function(){E()})})}),x(s,"Series/Networkgraph/Integrations.js",[s["Core/Globals.js"]],function(f){f.networkgraphIntegrations={verlet:{attractiveForceFunction:function(i,n){return(n-i)/i},repulsiveForceFunction:function(i,n){return(n-i)/i*(n>i?1:0)},barycenter:function(){var i=this.options.gravitationalConstant,n=this.barycenter.xFactor,a=this.barycenter.yFactor;n=(n-(this.box.left+this.box.width)/2)*i,a=(a-(this.box.top+this.box.height)/2)*i,this.nodes.forEach(function(h){h.fixedPosition||(h.plotX-=n/h.mass/h.degree,h.plotY-=a/h.mass/h.degree)})},repulsive:function(i,n,a){n=n*this.diffTemperature/i.mass/i.degree,i.fixedPosition||(i.plotX+=a.x*n,i.plotY+=a.y*n)},attractive:function(i,n,a){var h=i.getMass(),E=-a.x*n*this.diffTemperature;n=-a.y*n*this.diffTemperature,i.fromNode.fixedPosition||(i.fromNode.plotX-=E*h.fromNode/i.fromNode.degree,i.fromNode.plotY-=n*h.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.plotX+=E*h.toNode/i.toNode.degree,i.toNode.plotY+=n*h.toNode/i.toNode.degree)},integrate:function(i,n){var a=-i.options.friction,h=i.options.maxSpeed,E=(n.plotX+n.dispX-n.prevX)*a;a*=n.plotY+n.dispY-n.prevY;var p=Math.abs,v=p(E)/(E||1);p=p(a)/(a||1),E=v*Math.min(h,Math.abs(E)),a=p*Math.min(h,Math.abs(a)),n.prevX=n.plotX+n.dispX,n.prevY=n.plotY+n.dispY,n.plotX+=E,n.plotY+=a,n.temperature=i.vectorLength({x:E,y:a})},getK:function(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.5)}},euler:{attractiveForceFunction:function(i,n){return i*i/n},repulsiveForceFunction:function(i,n){return n*n/i},barycenter:function(){var i=this.options.gravitationalConstant,n=this.barycenter.xFactor,a=this.barycenter.yFactor;this.nodes.forEach(function(h){if(!h.fixedPosition){var E=h.getDegree();E*=1+E/2,h.dispX+=(n-h.plotX)*i*E/h.degree,h.dispY+=(a-h.plotY)*i*E/h.degree}})},repulsive:function(i,n,a,h){i.dispX+=a.x/h*n/i.degree,i.dispY+=a.y/h*n/i.degree},attractive:function(i,n,a,h){var E=i.getMass(),p=a.x/h*n;n*=a.y/h,i.fromNode.fixedPosition||(i.fromNode.dispX-=p*E.fromNode/i.fromNode.degree,i.fromNode.dispY-=n*E.fromNode/i.fromNode.degree),i.toNode.fixedPosition||(i.toNode.dispX+=p*E.toNode/i.toNode.degree,i.toNode.dispY+=n*E.toNode/i.toNode.degree)},integrate:function(i,n){n.dispX+=n.dispX*i.options.friction,n.dispY+=n.dispY*i.options.friction;var a=n.temperature=i.vectorLength({x:n.dispX,y:n.dispY});a!==0&&(n.plotX+=n.dispX/a*Math.min(Math.abs(n.dispX),i.temperature),n.plotY+=n.dispY/a*Math.min(Math.abs(n.dispY),i.temperature))},getK:function(i){return Math.pow(i.box.width*i.box.height/i.nodes.length,.3)}}}}),x(s,"Series/Networkgraph/QuadTree.js",[s["Core/Globals.js"],s["Core/Utilities.js"]],function(f,i){i=i.extend;var n=f.QuadTreeNode=function(a){this.box=a,this.boxSize=Math.min(a.width,a.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};i(n.prototype,{insert:function(a,h){this.isInternal?this.nodes[this.getBoxPosition(a)].insert(a,h-1):(this.isEmpty=!1,this.body?h?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,h-1),this.body=!0),this.nodes[this.getBoxPosition(a)].insert(a,h-1)):(h=new n({top:a.plotX,left:a.plotY,width:.1,height:.1}),h.body=a,h.isInternal=!1,this.nodes.push(h)):(this.isInternal=!1,this.body=a))},updateMassAndCenter:function(){var a=0,h=0,E=0;this.isInternal?(this.nodes.forEach(function(p){p.isEmpty||(a+=p.mass,h+=p.plotX*p.mass,E+=p.plotY*p.mass)}),h/=a,E/=a):this.body&&(a=this.body.mass,h=this.body.plotX,E=this.body.plotY),this.mass=a,this.plotX=h,this.plotY=E},divideBox:function(){var a=this.box.width/2,h=this.box.height/2;this.nodes[0]=new n({left:this.box.left,top:this.box.top,width:a,height:h}),this.nodes[1]=new n({left:this.box.left+a,top:this.box.top,width:a,height:h}),this.nodes[2]=new n({left:this.box.left+a,top:this.box.top+h,width:a,height:h}),this.nodes[3]=new n({left:this.box.left,top:this.box.top+h,width:a,height:h})},getBoxPosition:function(a){var h=a.plotY<this.box.top+this.box.height/2;return a.plotX<this.box.left+this.box.width/2?h?0:3:h?1:2}}),f=f.QuadTree=function(a,h,E,p){this.box={left:a,top:h,width:E,height:p},this.maxDepth=25,this.root=new n(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()},i(f.prototype,{insertNodes:function(a){a.forEach(function(h){this.root.insert(h,this.maxDepth)},this)},visitNodeRecursive:function(a,h,E){var p;a||(a=this.root),a===this.root&&h&&(p=h(a)),p!==!1&&(a.nodes.forEach(function(v){if(v.isInternal){if(h&&(p=h(v)),p===!1)return;this.visitNodeRecursive(v,h,E)}else v.body&&h&&h(v.body);E&&E(v)},this),a===this.root&&E&&E(a))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(a){a.updateMassAndCenter()})}})}),x(s,"Series/Networkgraph/Layouts.js",[s["Core/Chart/Chart.js"],s["Core/Animation/AnimationUtilities.js"],s["Core/Globals.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=i.setAnimation;i=a.addEvent;var E=a.clamp,p=a.defined,v=a.extend,N=a.isFunction,g=a.pick;n.layouts={"reingold-fruchterman":function(){}},v(n.layouts["reingold-fruchterman"].prototype,{init:function(o){this.options=o,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=n.networkgraphIntegrations[o.integration],this.enableSimulation=o.enableSimulation,this.attractiveForce=g(o.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=g(o.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=o.approximation},updateSimulation:function(o){this.enableSimulation=g(o,this.options.enableSimulation)},start:function(){var o=this.series,c=this.options;this.currentStep=0,this.forces=o[0]&&o[0].forces||[],this.chart=o[0]&&o[0].chart,this.initialRendering&&(this.initPositions(),o.forEach(function(d){d.finishedAnimating=!0,d.render()})),this.setK(),this.resetSimulation(c),this.enableSimulation&&this.step()},step:function(){var o=this,c=this.series;o.currentStep++,o.approximation==="barnes-hut"&&(o.createQuadTree(),o.quadTree.calculateMassAndCenter()),o.forces.forEach(function(d){o[d+"Forces"](o.temperature)}),o.applyLimits(o.temperature),o.temperature=o.coolDown(o.startTemperature,o.diffTemperature,o.currentStep),o.prevSystemTemperature=o.systemTemperature,o.systemTemperature=o.getSystemTemperature(),o.enableSimulation&&(c.forEach(function(d){d.chart&&d.render()}),o.maxIterations--&&isFinite(o.temperature)&&!o.isStable()?(o.simulation&&n.win.cancelAnimationFrame(o.simulation),o.simulation=n.win.requestAnimationFrame(function(){o.step()})):o.simulation=!1)},stop:function(){this.simulation&&n.win.cancelAnimationFrame(this.simulation)},setArea:function(o,c,d,m){this.box={left:o,top:c,width:d,height:m}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(o,c){o.forEach(function(d){c.indexOf(d)===-1&&c.push(d)})},removeElementFromCollection:function(o,c){o=c.indexOf(o),o!==-1&&c.splice(o,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(o){this.maxIterations=g(o,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(o){this.initialRendering=o},createQuadTree:function(){this.quadTree=new n.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var o=this.options.initialPositions;N(o)?(o.call(this),this.nodes.forEach(function(c){p(c.prevX)||(c.prevX=c.plotX),p(c.prevY)||(c.prevY=c.plotY),c.dispX=0,c.dispY=0})):o==="circle"?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){function o(y){y.linksFrom.forEach(function(S){_[S.toNode.id]||(_[S.toNode.id]=!0,M.push(S.toNode),o(S.toNode))})}var c=this.box,d=this.nodes,m=2*Math.PI/(d.length+1),C=d.filter(function(y){return y.linksTo.length===0}),M=[],_={},A=this.options.initialPositionRadius;C.forEach(function(y){M.push(y),o(y)}),M.length?d.forEach(function(y){M.indexOf(y)===-1&&M.push(y)}):M=d,M.forEach(function(y,S){y.plotX=y.prevX=g(y.plotX,c.width/2+A*Math.cos(S*m)),y.plotY=y.prevY=g(y.plotY,c.height/2+A*Math.sin(S*m)),y.dispX=0,y.dispY=0})},setRandomPositions:function(){function o(C){return C=C*C/Math.PI,C-=Math.floor(C)}var c=this.box,d=this.nodes,m=d.length+1;d.forEach(function(C,M){C.plotX=C.prevX=g(C.plotX,c.width*o(M)),C.plotY=C.prevY=g(C.plotY,c.height*o(m+M)),C.dispX=0,C.dispY=0})},force:function(o){this.integration[o].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var o=0,c=0,d=0;return this.nodes.forEach(function(m){c+=m.plotX*m.mass,d+=m.plotY*m.mass,o+=m.mass}),this.barycenter={x:c,y:d,xFactor:c/o,yFactor:d/o}},barnesHutApproximation:function(o,c){var d=this.getDistXY(o,c),m=this.vectorLength(d);if(o!==c&&m!==0)if(c.isInternal)if(c.boxSize/m<this.options.theta&&m!==0){var C=this.repulsiveForce(m,this.k);this.force("repulsive",o,C*c.mass,d,m);var M=!1}else M=!0;else C=this.repulsiveForce(m,this.k),this.force("repulsive",o,C*c.mass,d,m);return M},repulsiveForces:function(){var o=this;o.approximation==="barnes-hut"?o.nodes.forEach(function(c){o.quadTree.visitNodeRecursive(null,function(d){return o.barnesHutApproximation(c,d)})}):o.nodes.forEach(function(c){o.nodes.forEach(function(d){if(c!==d&&!c.fixedPosition){var m=o.getDistXY(c,d),C=o.vectorLength(m);if(C!==0){var M=o.repulsiveForce(C,o.k);o.force("repulsive",c,M*d.mass,m,C)}}})})},attractiveForces:function(){var o=this,c,d,m;o.links.forEach(function(C){C.fromNode&&C.toNode&&(c=o.getDistXY(C.fromNode,C.toNode),d=o.vectorLength(c),d!==0&&(m=o.attractiveForce(d,o.k),o.force("attractive",C,m,c,d)))})},applyLimits:function(){var o=this;o.nodes.forEach(function(c){c.fixedPosition||(o.integration.integrate(o,c),o.applyLimitBox(c,o.box),c.dispX=0,c.dispY=0)})},applyLimitBox:function(o,c){var d=o.radius;o.plotX=E(o.plotX,c.left+d,c.width-d),o.plotY=E(o.plotY,c.top+d,c.height-d)},coolDown:function(o,c,d){return o-c*d},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce(function(o,c){return o+c.temperature},0)},vectorLength:function(o){return Math.sqrt(o.x*o.x+o.y*o.y)},getDistR:function(o,c){return o=this.getDistXY(o,c),this.vectorLength(o)},getDistXY:function(o,c){var d=o.plotX-c.plotX;return o=o.plotY-c.plotY,{x:d,y:o,absX:Math.abs(d),absY:Math.abs(o)}}}),i(f,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(o){o.stop()})}),i(f,"render",function(){function o(m){m.maxIterations--&&isFinite(m.temperature)&&!m.isStable()&&!m.enableSimulation&&(m.beforeStep&&m.beforeStep(),m.step(),d=!1,c=!0)}var c=!1;if(this.graphLayoutsLookup){for(h(!1,this),this.graphLayoutsLookup.forEach(function(m){m.start()});!d;){var d=!0;this.graphLayoutsLookup.forEach(o)}c&&this.series.forEach(function(m){m&&m.layout&&m.render()})}}),i(f,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(o){o.updateSimulation(!1)}),this.redraw())}),i(f,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(o){o.updateSimulation()}),this.redraw()})}),x(s,"Series/PackedBubble/PackedBubbleComposition.js",[s["Core/Chart/Chart.js"],s["Core/Globals.js"],s["Core/Utilities.js"]],function(f,i,n){var a=i.layouts["reingold-fruchterman"],h=n.addEvent,E=n.extendClass,p=n.pick;f.prototype.getSelectedParentNodes=function(){var v=[];return this.series.forEach(function(N){N.parentNode&&N.parentNode.selected&&v.push(N.parentNode)}),v},i.networkgraphIntegrations.packedbubble={repulsiveForceFunction:function(v,N,g,o){return Math.min(v,(g.marker.radius+o.marker.radius)/2)},barycenter:function(){var v=this,N=v.options.gravitationalConstant,g=v.box,o=v.nodes,c,d;o.forEach(function(m){v.options.splitSeries&&!m.isParentNode?(c=m.series.parentNode.plotX,d=m.series.parentNode.plotY):(c=g.width/2,d=g.height/2),m.fixedPosition||(m.plotX-=(m.plotX-c)*N/(m.mass*Math.sqrt(o.length)),m.plotY-=(m.plotY-d)*N/(m.mass*Math.sqrt(o.length)))})},repulsive:function(v,N,g,o){var c=N*this.diffTemperature/v.mass/v.degree;N=g.x*c,g=g.y*c,v.fixedPosition||(v.plotX+=N,v.plotY+=g),o.fixedPosition||(o.plotX-=N,o.plotY-=g)},integrate:i.networkgraphIntegrations.verlet.integrate,getK:i.noop},i.layouts.packedbubble=E(a,{beforeStep:function(){this.options.marker&&this.series.forEach(function(v){v&&v.calculateParentRadius()})},isStable:function(){var v=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>v||0>=this.temperature},setCircularPositions:function(){var v=this,N=v.box,g=v.nodes,o=2*Math.PI/(g.length+1),c,d,m=v.options.initialPositionRadius;g.forEach(function(C,M){v.options.splitSeries&&!C.isParentNode?(c=C.series.parentNode.plotX,d=C.series.parentNode.plotY):(c=N.width/2,d=N.height/2),C.plotX=C.prevX=p(C.plotX,c+m*Math.cos(C.index||M*o)),C.plotY=C.prevY=p(C.plotY,d+m*Math.sin(C.index||M*o)),C.dispX=0,C.dispY=0})},repulsiveForces:function(){var v=this,N,g,o,c=v.options.bubblePadding;v.nodes.forEach(function(d){d.degree=d.mass,d.neighbours=0,v.nodes.forEach(function(m){N=0,d===m||d.fixedPosition||!v.options.seriesInteraction&&d.series!==m.series||(o=v.getDistXY(d,m),g=v.vectorLength(o)-(d.marker.radius+m.marker.radius+c),0>g&&(d.degree+=.01,d.neighbours++,N=v.repulsiveForce(-g/Math.sqrt(d.neighbours),v.k,d,m)),v.force("repulsive",d,N*m.mass,o,m,g))})})},applyLimitBox:function(v){if(this.options.splitSeries&&!v.isParentNode&&this.options.parentNodeLimit){var N=this.getDistXY(v,v.series.parentNode),g=v.series.parentNodeRadius-v.marker.radius-this.vectorLength(N);0>g&&g>-2*v.marker.radius&&(v.plotX-=.01*N.x,v.plotY-=.01*N.y)}a.prototype.applyLimitBox.apply(this,arguments)}}),h(f,"beforeRedraw",function(){this.allDataPoints&&delete this.allDataPoints})}),x(s,"Series/PackedBubble/PackedBubbleSeries.js",[s["Core/Color/Color.js"],s["Core/Globals.js"],s["Series/PackedBubble/PackedBubblePoint.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n,a,h){var E=this&&this.__extends||function(){var S=function(t,e){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var w in u)u.hasOwnProperty(w)&&(l[w]=u[w])},S(t,e)};return function(t,e){function l(){this.constructor=t}S(t,e),t.prototype=e===null?Object.create(e):(l.prototype=e.prototype,new l)}}(),p=f.parse,v=a.series,N=a.seriesTypes.bubble,g=h.addEvent,o=h.clamp,c=h.defined,d=h.extend,m=h.fireEvent,C=h.isArray,M=h.isNumber,_=h.merge,A=h.pick,y=i.dragNodesMixin;return f=function(S){function t(){var e=S!==null&&S.apply(this,arguments)||this;return e.chart=void 0,e.data=void 0,e.layout=void 0,e.options=void 0,e.points=void 0,e.xData=void 0,e}return E(t,S),t.prototype.accumulateAllPoints=function(e){var l=e.chart,u=[],w,b;for(w=0;w<l.series.length;w++)if(e=l.series[w],e.is("packedbubble")&&e.visible||!l.options.chart.ignoreHiddenSeries)for(b=0;b<e.yData.length;b++)u.push([null,null,e.yData[b],e.index,b,{id:b,marker:{radius:0}}]);return u},t.prototype.addLayout=function(){var e=this.options.layoutAlgorithm,l=this.chart.graphLayoutsStorage,u=this.chart.graphLayoutsLookup,w=this.chart.options.chart;l||(this.chart.graphLayoutsStorage=l={},this.chart.graphLayoutsLookup=u=[]);var b=l[e.type];b||(e.enableSimulation=c(w.forExport)?!w.forExport:e.enableSimulation,l[e.type]=b=new i.layouts[e.type],b.init(e),u.splice(b.index,0,b)),this.layout=b,this.points.forEach(function(D){D.mass=2,D.degree=1,D.collisionNmb=1}),b.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),b.addElementsToCollection([this],b.series),b.addElementsToCollection(this.points,b.nodes)},t.prototype.addSeriesLayout=function(){var e=this.options.layoutAlgorithm,l=this.chart.graphLayoutsStorage,u=this.chart.graphLayoutsLookup,w=_(e,e.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),b=l[e.type+"-series"];b||(l[e.type+"-series"]=b=new i.layouts[e.type],b.init(w),u.splice(b.index,0,b)),this.parentNodeLayout=b,this.createParentNodes()},t.prototype.calculateParentRadius=function(){var e=this.seriesBox();this.parentNodeRadius=o(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,e?Math.max(Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)},t.prototype.calculateZExtremes=function(){var e=this.options.zMin,l=this.options.zMax,u=1/0,w=-1/0;return e&&l?[e,l]:(this.chart.series.forEach(function(b){b.yData.forEach(function(D){c(D)&&(D>w&&(w=D),D<u&&(u=D))})}),e=A(e,u),l=A(l,w),[e,l])},t.prototype.checkOverlap=function(e,l){var u=e[0]-l[0],w=e[1]-l[1];return-.001>Math.sqrt(u*u+w*w)-Math.abs(e[2]+l[2])},t.prototype.createParentNodes=function(){var e=this,l=e.chart,u=e.parentNodeLayout,w,b=e.parentNode,D=e.pointClass,T=e.layout.options,k={radius:e.parentNodeRadius,lineColor:e.color,fillColor:p(e.color).brighten(.4).get()};T.parentNodeOptions&&(k=_(T.parentNodeOptions.marker||{},k)),e.parentNodeMass=0,e.points.forEach(function(P){e.parentNodeMass+=Math.PI*Math.pow(P.marker.radius,2)}),e.calculateParentRadius(),u.nodes.forEach(function(P){P.seriesIndex===e.index&&(w=!0)}),u.setArea(0,0,l.plotWidth,l.plotHeight),w||(b||(b=new D().init(this,{mass:e.parentNodeRadius/2,marker:k,dataLabels:{inside:!1},states:{normal:{marker:k},hover:{marker:k}},dataLabelOnNull:!0,degree:e.parentNodeRadius,isParentNode:!0,seriesIndex:e.index})),e.parentNode&&(b.plotX=e.parentNode.plotX,b.plotY=e.parentNode.plotY),e.parentNode=b,u.addElementsToCollection([e],u.series),u.addElementsToCollection([b],u.nodes))},t.prototype.deferLayout=function(){var e=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),e.splitSeries&&this.addSeriesLayout())},t.prototype.destroy=function(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(function(e){e.removeElementFromCollection(this,e.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),v.prototype.destroy.apply(this,arguments)},t.prototype.drawDataLabels=function(){var e=this.options.dataLabels.textPath,l=this.points;v.prototype.drawDataLabels.apply(this,arguments),this.parentNode&&(this.parentNode.formatPrefix="parentNode",this.points=[this.parentNode],this.options.dataLabels.textPath=this.options.dataLabels.parentNodeTextPath,v.prototype.drawDataLabels.apply(this,arguments),this.points=l,this.options.dataLabels.textPath=e)},t.prototype.drawGraph=function(){if(this.layout&&this.layout.options.splitSeries){var e=this.chart,l=this.layout.options.parentNodeOptions.marker,u={fill:l.fillColor||p(this.color).brighten(.4).get(),opacity:l.fillOpacity,stroke:l.lineColor||this.color,"stroke-width":A(l.lineWidth,this.options.lineWidth)};this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,e.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius(),l=_({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},u),this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(u.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(l)}},t.prototype.drawTracker=function(){var e=this.parentNode;if(S.prototype.drawTracker.call(this),e){var l=C(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];e.graphic&&(e.graphic.element.point=e),l.forEach(function(u){u.div?u.div.point=e:u.element.point=e})}},t.prototype.getPointRadius=function(){var e=this,l=e.chart,u=e.options,w=u.useSimulation,b=Math.min(l.plotWidth,l.plotHeight),D={},T=[],k=l.allDataPoints,P,O,L,I;["minSize","maxSize"].forEach(function(z){var J=parseInt(u[z],10),q=/%$/.test(u[z]);D[z]=q?b*J/100:J*Math.sqrt(k.length)}),l.minRadius=P=D.minSize/Math.sqrt(k.length),l.maxRadius=O=D.maxSize/Math.sqrt(k.length);var R=w?e.calculateZExtremes():[P,O];(k||[]).forEach(function(z,J){L=w?o(z[2],R[0],R[1]):z[2],I=e.getRadius(R[0],R[1],P,O,L),I===0&&(I=null),k[J][2]=I,T.push(I)}),e.radii=T},t.prototype.init=function(){return v.prototype.init.apply(this,arguments),this.eventsToUnbind.push(g(this,"updatedData",function(){this.chart.series.forEach(function(e){e.type===this.type&&(e.isDirty=!0)},this)})),this},t.prototype.onMouseUp=function(e){if(e.fixedPosition&&!e.removed){var l,u,w=this.layout,b=this.parentNodeLayout;b&&w.options.dragBetweenSeries&&b.nodes.forEach(function(D){e&&e.marker&&D!==e.series.parentNode&&(l=w.getDistXY(e,D),u=w.vectorLength(l)-D.marker.radius-e.marker.radius,0>u&&(D.series.addPoint(_(e.options,{plotX:e.plotX,plotY:e.plotY}),!1),w.removeElementFromCollection(e,w.nodes),e.remove()))}),y.onMouseUp.apply(this,arguments)}},t.prototype.placeBubbles=function(e){var l=this.checkOverlap,u=this.positionBubble,w=[],b=1,D=0,T=0,k=[],P;if(e=e.sort(function(O,L){return L[2]-O[2]}),e.length){if(w.push([[0,0,e[0][2],e[0][3],e[0][4]]]),1<e.length)for(w.push([[0,0-e[1][2]-e[0][2],e[1][2],e[1][3],e[1][4]]]),P=2;P<e.length;P++)e[P][2]=e[P][2]||1,k=u(w[b][D],w[b-1][T],e[P]),l(k,w[b][0])?(w.push([]),T=0,w[b+1].push(u(w[b][D],w[b][0],e[P])),b++,D=0):1<b&&w[b-1][T+1]&&l(k,w[b-1][T+1])?(T++,w[b].push(u(w[b][D],w[b-1][T],e[P])),D++):(D++,w[b].push(k));this.chart.stages=w,this.chart.rawPositions=[].concat.apply([],w),this.resizeRadius(),k=this.chart.rawPositions}return k},t.prototype.pointAttribs=function(e,l){var u=this.options,w=u.marker;return e&&e.isParentNode&&u.layoutAlgorithm&&u.layoutAlgorithm.parentNodeOptions&&(w=u.layoutAlgorithm.parentNodeOptions.marker),u=w.fillOpacity,e=v.prototype.pointAttribs.call(this,e,l),u!==1&&(e["fill-opacity"]=u),e},t.prototype.positionBubble=function(e,l,u){var w=Math.sqrt,b=Math.asin,D=Math.acos,T=Math.pow,k=Math.abs;return w=w(T(e[0]-l[0],2)+T(e[1]-l[1],2)),D=D((T(w,2)+T(u[2]+l[2],2)-T(u[2]+e[2],2))/(2*(u[2]+l[2])*w)),b=b(k(e[0]-l[0])/w),e=(0>e[1]-l[1]?0:Math.PI)+D+b*(0>(e[0]-l[0])*(e[1]-l[1])?1:-1),[l[0]+(l[2]+u[2])*Math.sin(e),l[1]-(l[2]+u[2])*Math.cos(e),u[2],u[3],u[4]]},t.prototype.render=function(){var e=[];v.prototype.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(function(l){C(l.dataLabels)&&l.dataLabels.forEach(function(u){e.push(u)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))},t.prototype.resizeRadius=function(){var e=this.chart,l=e.rawPositions,u=Math.min,w=Math.max,b=e.plotLeft,D=e.plotTop,T=e.plotHeight,k=e.plotWidth,P,O,L,I=P=Number.POSITIVE_INFINITY,R=O=Number.NEGATIVE_INFINITY;for(L=0;L<l.length;L++){var z=l[L][2];I=u(I,l[L][0]-z),R=w(R,l[L][0]+z),P=u(P,l[L][1]-z),O=w(O,l[L][1]+z)}if(L=[R-I,O-P],u=u.apply([],[(k-b)/L[0],(T-D)/L[1]]),1e-10<Math.abs(u-1)){for(L=0;L<l.length;L++)l[L][2]*=u;this.placeBubbles(l)}else e.diffY=T/2+D-P-(O-P)/2,e.diffX=k/2+b-I-(R-I)/2},t.prototype.seriesBox=function(){var e=this.chart,l=Math.max,u=Math.min,w,b=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];return this.data.forEach(function(D){c(D.plotX)&&c(D.plotY)&&D.marker.radius&&(w=D.marker.radius,b[0]=u(b[0],D.plotX-w),b[1]=l(b[1],D.plotX+w),b[2]=u(b[2],D.plotY-w),b[3]=l(b[3],D.plotY+w))}),M(b.width/b.height)?b:null},t.prototype.setVisible=function(){var e=this;v.prototype.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach(function(l){e.layout.removeElementFromCollection(l,e.layout.nodes)}))},t.prototype.translate=function(){var e=this.chart,l=this.data,u=this.index,w,b=this.options.useSimulation;if(this.processedXData=this.xData,this.generatePoints(),c(e.allDataPoints)||(e.allDataPoints=this.accumulateAllPoints(this),this.getPointRadius()),b)var D=e.allDataPoints;else D=this.placeBubbles(e.allDataPoints),this.options.draggable=!1;for(w=0;w<D.length;w++)if(D[w][3]===u){var T=l[D[w][4]],k=A(D[w][2],void 0);b||(T.plotX=D[w][0]-e.plotLeft+e.diffX,T.plotY=D[w][1]-e.plotTop+e.diffY),M(k)&&(T.marker=d(T.marker,{radius:k,width:2*k,height:2*k}),T.radius=k)}b&&this.deferLayout(),m(this,"afterTranslate")},t.defaultOptions=_(N.defaultOptions,{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){var e=this.series.chart.numberFormatter,l=this.point.value;return M(l)?e(l,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}),t}(N),d(f.prototype,{alignDataLabel:v.prototype.alignDataLabel,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,onMouseDown:y.onMouseDown,onMouseMove:y.onMouseMove,pointArrayMap:["value"],pointClass:n,pointValKey:"value",redrawHalo:y.redrawHalo,requireSorting:!1,searchPoint:i.noop,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"]}),a.registerSeriesType("packedbubble",f),f}),x(s,"Series/Polygon/PolygonSeries.js",[s["Core/Globals.js"],s["Core/Legend/LegendSymbol.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=this&&this.__extends||function(){var c=function(d,m){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,M){C.__proto__=M}||function(C,M){for(var _ in M)M.hasOwnProperty(_)&&(C[_]=M[_])},c(d,m)};return function(d,m){function C(){this.constructor=d}c(d,m),d.prototype=m===null?Object.create(m):(C.prototype=m.prototype,new C)}}();f=f.noop;var E=n.series,p=n.seriesTypes,v=p.area,N=p.line,g=p.scatter;p=a.extend;var o=a.merge;return a=function(c){function d(){var m=c!==null&&c.apply(this,arguments)||this;return m.data=void 0,m.options=void 0,m.points=void 0,m}return h(d,c),d.prototype.getGraphPath=function(){for(var m=N.prototype.getGraphPath.call(this),C=m.length+1;C--;)(C===m.length||m[C][0]==="M")&&0<C&&m.splice(C,0,["Z"]);return this.areaPath=m},d.prototype.drawGraph=function(){this.options.fillColor=this.color,v.prototype.drawGraph.call(this)},d.defaultOptions=o(g.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),d}(g),p(a.prototype,{type:"polygon",drawLegendSymbol:i.drawRectangle,drawTracker:E.prototype.drawTracker,setStackedPoints:f}),n.registerSeriesType("polygon",a),a}),x(s,"Core/Axis/WaterfallAxis.js",[s["Extensions/Stacking.js"],s["Core/Utilities.js"]],function(f,i){var n=i.addEvent,a=i.objectEach,h;return function(E){function p(){var c=this.waterfall.stacks;c&&(c.changed=!1,delete c.alreadyChanged)}function v(){var c=this.options.stackLabels;c&&c.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function N(){for(var c=this.axes,d=this.series,m=d.length;m--;)d[m].options.stacking&&(c.forEach(function(C){C.isXAxis||(C.waterfall.stacks.changed=!0)}),m=0)}function g(){this.waterfall||(this.waterfall=new o(this))}var o=function(){function c(d){this.axis=d,this.stacks={changed:!1}}return c.prototype.renderStackTotals=function(){var d=this.axis,m=d.waterfall.stacks,C=d.stacking&&d.stacking.stackTotalGroup,M=new f(d,d.options.stackLabels,!1,0,void 0);this.dummyStackItem=M,a(m,function(_){a(_,function(A){M.total=A.stackTotal,A.label&&(M.label=A.label),f.prototype.render.call(M,C),A.label=M.label,delete M.label})}),M.total=null},c}();E.Composition=o,E.compose=function(c,d){n(c,"init",g),n(c,"afterBuildStacks",p),n(c,"afterRender",v),n(d,"beforeRedraw",N)}}(h||(h={})),h}),x(s,"Series/Waterfall/WaterfallPoint.js",[s["Series/Column/ColumnSeries.js"],s["Core/Series/Point.js"],s["Core/Utilities.js"]],function(f,i,n){var a=this&&this.__extends||function(){var E=function(p,v){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,g){N.__proto__=g}||function(N,g){for(var o in g)g.hasOwnProperty(o)&&(N[o]=g[o])},E(p,v)};return function(p,v){function N(){this.constructor=p}E(p,v),p.prototype=v===null?Object.create(v):(N.prototype=v.prototype,new N)}}(),h=n.isNumber;return function(E){function p(){var v=E!==null&&E.apply(this,arguments)||this;return v.options=void 0,v.series=void 0,v}return a(p,E),p.prototype.getClassName=function(){var v=i.prototype.getClassName.call(this);return this.isSum?v+=" highcharts-sum":this.isIntermediateSum&&(v+=" highcharts-intermediate-sum"),v},p.prototype.isValid=function(){return h(this.y)||this.isSum||!!this.isIntermediateSum},p}(f.prototype.pointClass)}),x(s,"Series/Waterfall/WaterfallSeries.js",[s["Core/Axis/Axis.js"],s["Core/Chart/Chart.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Utilities.js"],s["Core/Axis/WaterfallAxis.js"],s["Series/Waterfall/WaterfallPoint.js"]],function(f,i,n,a,h,E){var p=this&&this.__extends||function(){var A=function(y,S){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var l in e)e.hasOwnProperty(l)&&(t[l]=e[l])},A(y,S)};return function(y,S){function t(){this.constructor=y}A(y,S),y.prototype=S===null?Object.create(S):(t.prototype=S.prototype,new t)}}(),v=n.seriesTypes,N=v.column,g=v.line,o=a.arrayMax,c=a.arrayMin,d=a.correctFloat;v=a.extend;var m=a.isNumber,C=a.merge,M=a.objectEach,_=a.pick;return a=function(A){function y(){var S=A!==null&&A.apply(this,arguments)||this;return S.chart=void 0,S.data=void 0,S.options=void 0,S.points=void 0,S.stackedYNeg=void 0,S.stackedYPos=void 0,S.stackKey=void 0,S.xData=void 0,S.yAxis=void 0,S.yData=void 0,S}return p(y,A),y.prototype.generatePoints=function(){var S;N.prototype.generatePoints.apply(this);var t=0;for(S=this.points.length;t<S;t++){var e=this.points[t],l=this.processedYData[t];(e.isIntermediateSum||e.isSum)&&(e.y=d(l))}},y.prototype.translate=function(){var S=this.options,t=this.yAxis,e=_(S.minPointLength,5),l=e/2,u=S.threshold||0,w=u,b=u;S=S.stacking;var D=t.waterfall.stacks[this.stackKey];N.prototype.translate.apply(this);for(var T=this.points,k=0;k<T.length;k++){var P=T[k],O=this.processedYData[k],L=P.shapeArgs;if(L&&m(O)){var I=[0,O],R=P.y;if(S){if(D){if(I=D[k],S==="overlap"){var z=I.stackState[I.stateIndex--];z=0<=R?z:z-R,Object.hasOwnProperty.call(I,"absolutePos")&&delete I.absolutePos,Object.hasOwnProperty.call(I,"absoluteNeg")&&delete I.absoluteNeg}else 0<=R?(z=I.threshold+I.posTotal,I.posTotal-=R):(z=I.threshold+I.negTotal,I.negTotal-=R,z-=R),!I.posTotal&&Object.hasOwnProperty.call(I,"absolutePos")&&(I.posTotal=I.absolutePos,delete I.absolutePos),!I.negTotal&&Object.hasOwnProperty.call(I,"absoluteNeg")&&(I.negTotal=I.absoluteNeg,delete I.absoluteNeg);P.isSum||(I.connectorThreshold=I.threshold+I.stackTotal),t.reversed?(O=0<=R?z-R:z+R,R=z):(O=z,R=z-R),P.below=O<=u,L.y=t.translate(O,!1,!0,!1,!0)||0,L.height=Math.abs(L.y-(t.translate(R,!1,!0,!1,!0)||0)),(R=t.waterfall.dummyStackItem)&&(R.x=k,R.label=D[k].label,R.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[k],this.stackedYPos[k]))}}else z=Math.max(w,w+R)+I[0],L.y=t.translate(z,!1,!0,!1,!0)||0,P.isSum?(L.y=t.translate(I[1],!1,!0,!1,!0)||0,L.height=Math.min(t.translate(I[0],!1,!0,!1,!0)||0,t.len)-L.y,P.below=I[1]<=u):P.isIntermediateSum?(0<=R?(O=I[1]+b,R=b):(O=b,R=I[1]+b),t.reversed&&(O^=R,R^=O,O^=R),L.y=t.translate(O,!1,!0,!1,!0)||0,L.height=Math.abs(L.y-Math.min(t.translate(R,!1,!0,!1,!0)||0,t.len)),b+=I[1],P.below=O<=u):(L.height=0<O?(t.translate(w,!1,!0,!1,!0)||0)-L.y:(t.translate(w,!1,!0,!1,!0)||0)-(t.translate(w-O,!1,!0,!1,!0)||0),w+=O,P.below=w<u),0>L.height&&(L.y+=L.height,L.height*=-1);P.plotY=L.y=Math.round(L.y||0)-this.borderWidth%2/2,L.height=Math.max(Math.round(L.height||0),.001),P.yBottom=L.y+L.height,L.height<=e&&!P.isNull?(L.height=e,L.y-=l,P.plotY=L.y,P.minPointLengthOffset=0>P.y?-l:l):(P.isNull&&(L.width=0),P.minPointLengthOffset=0),R=P.plotY+(P.negative?L.height:0),P.below&&(P.plotY+=L.height),P.tooltipPos&&(this.chart.inverted?P.tooltipPos[0]=t.len-R:P.tooltipPos[1]=R)}}},y.prototype.processData=function(S){var t=this.options,e=this.yData,l=t.data,u=e.length,w=t.threshold||0,b,D,T,k,P;for(P=D=b=T=k=0;P<u;P++){var O=e[P],L=l&&l[P]?l[P]:{};O==="sum"||L.isSum?e[P]=d(D):O==="intermediateSum"||L.isIntermediateSum?(e[P]=d(b),b=0):(D+=O,b+=O),T=Math.min(D,T),k=Math.max(D,k)}A.prototype.processData.call(this,S),t.stacking||(this.dataMin=T+w,this.dataMax=k)},y.prototype.toYData=function(S){return S.isSum?"sum":S.isIntermediateSum?"intermediateSum":S.y},y.prototype.updateParallelArrays=function(S,t){A.prototype.updateParallelArrays.call(this,S,t),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)},y.prototype.pointAttribs=function(S,t){var e=this.options.upColor;return e&&!S.options.color&&(S.color=0<S.y?e:null),S=N.prototype.pointAttribs.call(this,S,t),delete S.dashstyle,S},y.prototype.getGraphPath=function(){return[["M",0,0]]},y.prototype.getCrispPath=function(){var S=this.data,t=this.yAxis,e=S.length,l=Math.round(this.graph.strokeWidth())%2/2,u=Math.round(this.borderWidth)%2/2,w=this.xAxis.reversed,b=this.yAxis.reversed,D=this.options.stacking,T=[],k;for(k=1;k<e;k++){var P=S[k].shapeArgs,O=S[k-1],L=S[k-1].shapeArgs,I=t.waterfall.stacks[this.stackKey],R=0<O.y?-L.height:0;I&&L&&P&&(I=I[k-1],D?(I=I.connectorThreshold,R=Math.round(t.translate(I,0,1,0,1)+(b?R:0))-l):R=L.y+O.minPointLengthOffset+u-l,T.push(["M",(L.x||0)+(w?0:L.width||0),R],["L",(P.x||0)+(w&&P.width||0),R])),L&&T.length&&(!D&&0>O.y&&!b||0<O.y&&b)&&((O=T[T.length-2])&&typeof O[2]=="number"&&(O[2]+=L.height||0),(O=T[T.length-1])&&typeof O[2]=="number"&&(O[2]+=L.height||0))}return T},y.prototype.drawGraph=function(){g.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},y.prototype.setStackedPoints=function(){function S(ue,pe,K,te){if(de)for(K;K<de;K++)J.stackState[K]+=te;else J.stackState[0]=ue,de=J.stackState.length;J.stackState.push(J.stackState[de-1]+pe)}var t=this.options,e=this.yAxis.waterfall.stacks,l=t.threshold,u=l||0,w=u,b=this.stackKey,D=this.xData,T=D.length,k,P,O;this.yAxis.stacking.usePercentage=!1;var L=P=O=u;if(this.visible||!this.chart.options.chart.ignoreHiddenSeries){var I=e.changed;(k=e.alreadyChanged)&&0>k.indexOf(b)&&(I=!0),e[b]||(e[b]={}),k=e[b];for(var R=0;R<T;R++){var z=D[R];(!k[z]||I)&&(k[z]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:I&&k[z]?k[z].label:void 0});var J=k[z],q=this.yData[R];0<=q?J.posTotal+=q:J.negTotal+=q;var ee=t.data[R];z=J.absolutePos=J.posTotal;var ae=J.absoluteNeg=J.negTotal;J.stackTotal=z+ae;var de=J.stackState.length;ee&&ee.isIntermediateSum?(S(O,P,0,O),O=P,P=l,u^=w,w^=u,u^=w):ee&&ee.isSum?(S(l,L,de),u=l):(S(u,q,0,L),ee&&(L+=q,P+=q)),J.stateIndex++,J.threshold=u,u+=J.stackTotal}e.changed=!1,e.alreadyChanged||(e.alreadyChanged=[]),e.alreadyChanged.push(b)}},y.prototype.getExtremes=function(){var S=this.options.stacking;if(S){var t=this.yAxis;t=t.waterfall.stacks;var e=this.stackedYNeg=[],l=this.stackedYPos=[];return S==="overlap"?M(t[this.stackKey],function(u){e.push(c(u.stackState)),l.push(o(u.stackState))}):M(t[this.stackKey],function(u){e.push(u.negTotal+u.threshold),l.push(u.posTotal+u.threshold)}),{dataMin:c(e),dataMax:o(l)}}return{dataMin:this.dataMin,dataMax:this.dataMax}},y.defaultOptions=C(N.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),y}(N),v(a.prototype,{getZonesGraphs:g.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:E}),n.registerSeriesType("waterfall",a),h.compose(f,i),a}),x(s,"Extensions/Polar.js",[s["Core/Animation/AnimationUtilities.js"],s["Core/Chart/Chart.js"],s["Core/Globals.js"],s["Extensions/Pane.js"],s["Core/Pointer.js"],s["Core/Series/Series.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Renderer/SVG/SVGRenderer.js"],s["Core/Utilities.js"]],function(f,i,n,a,h,E,p,v,N){var g=f.animObject;p=p.seriesTypes;var o=N.addEvent,c=N.defined,d=N.find,m=N.isNumber,C=N.pick,M=N.splat,_=N.uniqueKey;f=N.wrap;var A=E.prototype;h=h.prototype,A.searchPointByAngle=function(t){var e=this.chart,l=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-l[0]-e.plotLeft,t.chartY-l[1]-e.plotTop)})},A.getConnectors=function(t,e,l,u){var w=u?1:0,b=0<=e&&e<=t.length-1?e:0>e?t.length-1+e:0;e=0>b-1?t.length-(1+w):b-1,w=b+1>t.length-1?w:b+1;var D=t[e];w=t[w];var T=D.plotX;D=D.plotY;var k=w.plotX,P=w.plotY;w=t[b].plotX,b=t[b].plotY,T=(1.5*w+T)/2.5,D=(1.5*b+D)/2.5,k=(1.5*w+k)/2.5;var O=(1.5*b+P)/2.5;P=Math.sqrt(Math.pow(T-w,2)+Math.pow(D-b,2));var L=Math.sqrt(Math.pow(k-w,2)+Math.pow(O-b,2));return T=Math.atan2(D-b,T-w),O=Math.PI/2+(T+Math.atan2(O-b,k-w))/2,Math.abs(T-O)>Math.PI/2&&(O-=Math.PI),T=w+Math.cos(O)*P,D=b+Math.sin(O)*P,k=w+Math.cos(Math.PI+O)*L,O=b+Math.sin(Math.PI+O)*L,w={rightContX:k,rightContY:O,leftContX:T,leftContY:D,plotX:w,plotY:b},l&&(w.prevPointCont=this.getConnectors(t,e,!1,u)),w},A.toXY=function(t){var e=this.chart,l=this.xAxis,u=this.yAxis,w=t.plotX,b=t.plotY,D=t.series,T=e.inverted,k=t.y,P=T?w:u.len-b;T&&D&&!D.isRadialBar&&(t.plotY=b=typeof k=="number"&&u.translate(k)||0),t.rectPlotX=w,t.rectPlotY=b,u.center&&(P+=u.center[3]/2),m(b)&&(u=T?u.postTranslate(b,P):l.postTranslate(w,P),t.plotX=t.polarPlotX=u.x-e.plotLeft,t.plotY=t.polarPlotY=u.y-e.plotTop),this.kdByAngle?(e=(w/Math.PI*180+l.pane.options.startAngle)%360,0>e&&(e+=360),t.clientX=e):t.clientX=t.plotX},p.spline&&(f(p.spline.prototype,"getPointSpline",function(t,e,l,u){return this.chart.polar?u?(t=this.getConnectors(e,u,!0,this.connectEnds),e=t.prevPointCont&&t.prevPointCont.rightContX,l=t.prevPointCont&&t.prevPointCont.rightContY,t=["C",m(e)?e:t.plotX,m(l)?l:t.plotY,m(t.leftContX)?t.leftContX:t.plotX,m(t.leftContY)?t.leftContY:t.plotY,t.plotX,t.plotY]):t=["M",l.plotX,l.plotY]:t=t.call(this,e,l,u),t}),p.areasplinerange&&(p.areasplinerange.prototype.getPointSpline=p.spline.prototype.getPointSpline)),o(E,"afterTranslate",function(){var t=this.chart;if(t.polar&&this.xAxis){if((this.kdByAngle=t.tooltip&&t.tooltip.shared)?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy",!this.preventPostTranslate)for(var e=this.points,l=e.length;l--;)this.toXY(e[l]),!t.hasParallelCoordinates&&!this.yAxis.reversed&&e[l].y<this.yAxis.min&&(e[l].isNull=!0);this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(o(this,"afterRender",function(){if(t.polar){var u=this.yAxis.pane.center;this.clipCircle?this.clipCircle.animate({x:u[0],y:u[1],r:u[2]/2,innerR:u[3]/2}):this.clipCircle=t.renderer.clipCircle(u[0],u[1],u[2]/2,u[3]/2),this.group.clip(this.clipCircle),this.setClip=n.noop}})))}},{order:2}),f(p.line.prototype,"getGraphPath",function(t,e){var l=this,u;if(this.chart.polar){for(e=e||this.points,u=0;u<e.length;u++)if(!e[u].isNull){var w=u;break}if(this.options.connectEnds!==!1&&typeof w<"u"){this.connectEnds=!0,e.splice(e.length,0,e[w]);var b=!0}e.forEach(function(D){typeof D.polarPlotY>"u"&&l.toXY(D)})}return u=t.apply(this,[].slice.call(arguments,1)),b&&e.pop(),u});var y=function(t,e){var l=this,u=this.chart,w=this.options.animation,b=this.group,D=this.markerGroup,T=this.xAxis&&this.xAxis.center,k=u.plotLeft,P=u.plotTop,O,L,I,R;if(u.polar){if(l.isRadialBar)e||(l.startAngleRad=C(l.translatedThreshold,l.xAxis.startAngleRad),n.seriesTypes.pie.prototype.animate.call(l,e));else if(u.renderer.isSVG)if(w=g(w),l.is("column")){if(!e){var z=T[3]/2;l.points.forEach(function(J){O=J.graphic,I=(L=J.shapeArgs)&&L.r,R=L&&L.innerR,O&&L&&(O.attr({r:z,innerR:z}),O.animate({r:I,innerR:R},l.options.animation))})}}else e?(t={translateX:T[0]+k,translateY:T[1]+P,scaleX:.001,scaleY:.001},b.attr(t),D&&D.attr(t)):(t={translateX:k,translateY:P,scaleX:1,scaleY:1},b.animate(t,w),D&&D.animate(t,w))}else t.call(this,e)};if(f(A,"animate",y),p.column){var S=p.arearange.prototype;p=p.column.prototype,p.polarArc=function(t,e,l,u){var w=this.xAxis.center,b=this.yAxis.len,D=w[3]/2;return e=b-e+D,t=b-C(t,b)+D,this.yAxis.reversed&&(0>e&&(e=D),0>t&&(t=D)),{x:w[0],y:w[1],r:e,innerR:t,start:l,end:u}},f(p,"animate",y),f(p,"translate",function(t){var e=this.options,l=e.stacking,u=this.chart,w=this.xAxis,b=this.yAxis,D=b.reversed,T=b.center,k=w.startAngleRad,P=w.endAngleRad-k;if(this.preventPostTranslate=!0,t.call(this),w.isRadial){t=this.points,w=t.length;var O=b.translate(b.min),L=b.translate(b.max);if(e=e.threshold||0,u.inverted&&m(e)){var I=b.translate(e);c(I)&&(0>I?I=0:I>P&&(I=P),this.translatedThreshold=I+k)}for(;w--;){e=t[w];var R=e.barX,z=e.x,J=e.y;if(e.shapeType="arc",u.inverted){if(e.plotY=b.translate(J),l&&b.stacking){if(J=b.stacking.stacks[(0>J?"-":"")+this.stackKey],this.visible&&J&&J[z]&&!e.isNull){var q=J[z].points[this.getStackIndicator(void 0,z,this.index).key],ee=b.translate(q[0]);q=b.translate(q[1]),c(ee)&&(ee=N.clamp(ee,0,P))}}else ee=I,q=e.plotY;ee>q&&(q=[ee,ee=q][0]),D?q>O?q=O:ee<L?ee=L:(ee>O||q<L)&&(ee=q=P):ee<O?ee=O:q>L?q=L:(q<O||ee>L)&&(ee=q=0),b.min>b.max&&(ee=q=D?P:0),ee+=k,q+=k,T&&(e.barX=R+=T[3]/2),z=Math.max(R,0),J=Math.max(R+e.pointWidth,0),e.shapeArgs={x:T&&T[0],y:T&&T[1],r:J,innerR:z,start:ee,end:q},e.opacity=ee===q?0:void 0,e.plotY=(c(this.translatedThreshold)&&(ee<this.translatedThreshold?ee:q))-k}else ee=R+k,e.shapeArgs=this.polarArc(e.yBottom,e.plotY,ee,ee+e.pointWidth);this.toXY(e),u.inverted?(R=b.postTranslate(e.rectPlotY,R+e.pointWidth/2),e.tooltipPos=[R.x-u.plotLeft,R.y-u.plotTop]):e.tooltipPos=[e.plotX,e.plotY],T&&(e.ttBelow=e.plotY>T[1])}}}),p.findAlignments=function(t,e){return e.align===null&&(e.align=20<t&&160>t?"left":200<t&&340>t?"right":"center"),e.verticalAlign===null&&(e.verticalAlign=45>t||315<t?"bottom":135<t&&225>t?"top":"middle"),e},S&&(S.findAlignments=p.findAlignments),f(p,"alignDataLabel",function(t,e,l,u,w,b){var D=this.chart,T=C(u.inside,!!this.options.stacking);D.polar?(t=e.rectPlotX/Math.PI*180,D.inverted?(this.forceDL=D.isInsidePlot(e.plotX,Math.round(e.plotY)),T&&e.shapeArgs?(w=e.shapeArgs,w=this.yAxis.postTranslate(((w.start||0)+(w.end||0))/2-this.xAxis.startAngleRad,e.barX+e.pointWidth/2),w={x:w.x-D.plotLeft,y:w.y-D.plotTop}):e.tooltipPos&&(w={x:e.tooltipPos[0],y:e.tooltipPos[1]}),u.align=C(u.align,"center"),u.verticalAlign=C(u.verticalAlign,"middle")):this.findAlignments&&(u=this.findAlignments(t,u)),A.alignDataLabel.call(this,e,l,u,w,b),this.isRadialBar&&e.shapeArgs&&e.shapeArgs.start===e.shapeArgs.end&&l.hide(!0)):t.call(this,e,l,u,w,b)})}f(h,"getCoordinates",function(t,e){var l=this.chart,u={xAxis:[],yAxis:[]};return l.polar?l.axes.forEach(function(w){var b=w.isXAxis,D=w.center;if(w.coll!=="colorAxis"){var T=e.chartX-D[0]-l.plotLeft;D=e.chartY-D[1]-l.plotTop,u[b?"xAxis":"yAxis"].push({axis:w,value:w.translate(b?Math.PI-Math.atan2(T,D):Math.sqrt(Math.pow(T,2)+Math.pow(D,2)),!0)})}}):u=t.call(this,e),u}),v.prototype.clipCircle=function(t,e,l,u){var w=_(),b=this.createElement("clipPath").attr({id:w}).add(this.defs);return t=u?this.arc(t,e,l,u,0,2*Math.PI).add(b):this.circle(t,e,l).add(b),t.id=w,t.clipPath=b,t},o(i,"getAxes",function(){this.pane||(this.pane=[]),this.options.pane=M(this.options.pane),this.options.pane.forEach(function(t){new a(t,this)},this)}),o(i,"afterDrawChartBox",function(){this.pane.forEach(function(t){t.render()})}),o(E,"afterInit",function(){var t=this.chart;t.inverted&&t.polar&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0))}),f(i.prototype,"get",function(t,e){return d(this.pane||[],function(l){return l.options.id===e})||t.call(this,e)})}),x(s,"masters/highcharts-more.src.js",[s["Core/Globals.js"],s["Core/Axis/RadialAxis.js"],s["Series/Bubble/BubbleSeries.js"]],function(f,i,n){i.compose(f.Axis,f.Tick),n.compose(f.Chart,f.Legend,f.Series)})})})(fo);var Hi=fo.exports;const zi=vt(Hi);var go={exports:{}};(function(r){(function(s){r.exports?(s.default=s,r.exports=s):s(typeof Highcharts<"u"?Highcharts:void 0)})(function(s){function x(f,i,n,a){f.hasOwnProperty(i)||(f[i]=a.apply(null,n))}s=s?s._modules:{},x(s,"Core/Axis/SolidGaugeAxis.js",[s["Core/Color/Color.js"],s["Core/Utilities.js"]],function(f,i){var n=f.parse,a=i.extend,h=i.merge,E;return function(p){var v={initDataClasses:function(N){var g=this.chart,o,c=0,d=this.options;this.dataClasses=o=[],N.dataClasses.forEach(function(m,C){m=h(m),o.push(m),m.color||(d.dataClassColor==="category"?(C=g.options.colors,m.color=C[c++],c===C.length&&(c=0)):m.color=n(d.minColor).tweenTo(n(d.maxColor),C/(N.dataClasses.length-1)))})},initStops:function(N){this.stops=N.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(g){g.color=n(g[1])})},toColor:function(N,g){var o=this.stops,c=this.dataClasses,d;if(c)for(d=c.length;d--;){var m=c[d],C=m.from;if(o=m.to,(typeof C>"u"||N>=C)&&(typeof o>"u"||N<=o)){var M=m.color;g&&(g.dataClass=d);break}}else{for(this.logarithmic&&(N=this.val2lin(N)),N=1-(this.max-N)/(this.max-this.min),d=o.length;d--&&!(N>o[d][0]););C=o[d]||o[d+1],o=o[d+1]||C,N=1-(o[0]-N)/(o[0]-C[0]||1),M=C.color.tweenTo(o.color,N)}return M}};p.init=function(N){a(N,v)}}(E||(E={})),E}),x(s,"Series/SolidGauge/SolidGaugeComposition.js",[s["Core/Renderer/SVG/SVGRenderer.js"]],function(f){f=f.prototype;var i=f.symbols.arc;f.symbols.arc=function(n,a,h,E,p){return n=i(n,a,h,E,p),p&&p.rounded&&(h=((p.r||h)-(p.innerR||0))/2,a=n[0],p=n[2],a[0]==="M"&&p[0]==="L"&&(a=["A",h,h,0,1,1,a[1],a[2]],n[2]=["A",h,h,0,1,1,p[1],p[2]],n[4]=a)),n}}),x(s,"Series/SolidGauge/SolidGaugeSeries.js",[s["Core/Legend/LegendSymbol.js"],s["Core/Series/SeriesRegistry.js"],s["Core/Axis/SolidGaugeAxis.js"],s["Core/Utilities.js"]],function(f,i,n,a){var h=this&&this.__extends||function(){var M=function(_,A){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var t in S)S.hasOwnProperty(t)&&(y[t]=S[t])},M(_,A)};return function(_,A){function y(){this.constructor=_}M(_,A),_.prototype=A===null?Object.create(A):(y.prototype=A.prototype,new y)}}(),E=i.seriesTypes,p=E.gauge,v=E.pie.prototype,N=a.clamp,g=a.extend,o=a.isNumber,c=a.merge,d=a.pick,m=a.pInt,C={colorByPoint:!0,dataLabels:{y:0}};return a=function(M){function _(){var A=M!==null&&M.apply(this,arguments)||this;return A.data=void 0,A.points=void 0,A.options=void 0,A.axis=void 0,A.yAxis=void 0,A.startAngleRad=void 0,A.thresholdAngleRad=void 0,A}return h(_,M),_.prototype.translate=function(){var A=this.yAxis;n.init(A),!A.dataClasses&&A.options.dataClasses&&A.initDataClasses(A.options),A.initStops(A.options),p.prototype.translate.call(this)},_.prototype.drawPoints=function(){var A=this,y=A.yAxis,S=y.center,t=A.options,e=A.chart.renderer,l=t.overshoot,u=o(l)?l/180*Math.PI:0,w;o(t.threshold)&&(w=y.startAngleRad+y.translate(t.threshold,null,null,null,!0)),this.thresholdAngleRad=d(w,y.startAngleRad),A.points.forEach(function(b){if(!b.isNull){var D=b.graphic,T=y.startAngleRad+y.translate(b.y,null,null,null,!0),k=m(d(b.options.radius,t.radius,100))*S[2]/200,P=m(d(b.options.innerRadius,t.innerRadius,60))*S[2]/200,O=y.toColor(b.y,b),L=Math.min(y.startAngleRad,y.endAngleRad),I=Math.max(y.startAngleRad,y.endAngleRad);O==="none"&&(O=b.color||A.color||"none"),O!=="none"&&(b.color=O),T=N(T,L-u,I+u),t.wrap===!1&&(T=N(T,L,I)),L=Math.min(T,A.thresholdAngleRad),T=Math.max(T,A.thresholdAngleRad),T-L>2*Math.PI&&(T=L+2*Math.PI),b.shapeArgs=P={x:S[0],y:S[1],r:k,innerR:P,start:L,end:T,rounded:t.rounded},b.startR=k,D?(k=P.d,D.animate(g({fill:O},P)),k&&(P.d=k)):b.graphic=D=e.arc(P).attr({fill:O,"sweep-flag":0}).add(A.group),A.chart.styledMode||(t.linecap!=="square"&&D.attr({"stroke-linecap":"round","stroke-linejoin":"round"}),D.attr({stroke:t.borderColor||"none","stroke-width":t.borderWidth||0})),D&&D.addClass(b.getClassName(),!0)}})},_.prototype.animate=function(A){A||(this.startAngleRad=this.thresholdAngleRad,v.animate.call(this,A))},_.defaultOptions=c(p.defaultOptions,C),_}(p),g(a.prototype,{drawLegendSymbol:f.drawRectangle}),i.registerSeriesType("solidgauge",a),a}),x(s,"masters/modules/solid-gauge.src.js",[],function(){})})})(go);var Yi=go.exports;const Ui=vt(Yi),Fi="data:image/svg+xml,%3csvg%20width='53'%20height='52'%20viewBox='0%200%2053%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_18839_2927)'%3e%3ccircle%20cx='26.75'%20cy='25'%20r='12'%20fill='%233D466C'/%3e%3ccircle%20cx='26.75'%20cy='25'%20r='14'%20stroke='white'%20stroke-width='4'/%3e%3c/g%3e%3cg%20clip-path='url(%23clip0_18839_2927)'%3e%3cpath%20d='M25.4165%2031.5C25.5012%2031.7885%2025.677%2032.0417%2025.9177%2032.2219C26.1583%2032.4021%2026.4509%2032.4994%2026.7515%2032.4994C27.0521%2032.4994%2027.3447%2032.4021%2027.5853%2032.2219C27.826%2032.0417%2028.0018%2031.7885%2028.0865%2031.5'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26.75%2019V17.5'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26.75%2019C28.0761%2019%2029.3479%2019.5268%2030.2855%2020.4645C31.2232%2021.4021%2031.75%2022.6739%2031.75%2024C31.75%2028.6973%2032.75%2029.5%2032.75%2029.5H20.75C20.75%2029.5%2021.75%2028.2227%2021.75%2024C21.75%2022.6739%2022.2768%2021.4021%2023.2145%2020.4645C24.1521%2019.5268%2025.4239%2019%2026.75%2019V19Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_18839_2927'%20x='0.75'%20y='0'%20width='52'%20height='52'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeMorphology%20radius='1'%20operator='dilate'%20in='SourceAlpha'%20result='effect1_dropShadow_18839_2927'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='4.5'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.665972%200%200%200%200%200.72274%200%200%200%200%200.792361%200%200%200%200.28%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_18839_2927'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_18839_2927'%20result='shape'/%3e%3c/filter%3e%3cclipPath%20id='clip0_18839_2927'%3e%3crect%20width='16'%20height='16'%20fill='white'%20transform='translate(18.75%2017)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Xi="data:image/svg+xml,%3csvg%20width='53'%20height='52'%20viewBox='0%200%2053%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_18839_2927)'%3e%3ccircle%20cx='26.75'%20cy='25'%20r='12'%20fill='%23dadada'/%3e%3ccircle%20cx='26.75'%20cy='25'%20r='14'%20stroke='white'%20stroke-width='4'/%3e%3c/g%3e%3cg%20clip-path='url(%23clip0_18839_2927)'%3e%3cpath%20d='M25.4165%2031.5C25.5012%2031.7885%2025.677%2032.0417%2025.9177%2032.2219C26.1583%2032.4021%2026.4509%2032.4994%2026.7515%2032.4994C27.0521%2032.4994%2027.3447%2032.4021%2027.5853%2032.2219C27.826%2032.0417%2028.0018%2031.7885%2028.0865%2031.5'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26.75%2019V17.5'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26.75%2019C28.0761%2019%2029.3479%2019.5268%2030.2855%2020.4645C31.2232%2021.4021%2031.75%2022.6739%2031.75%2024C31.75%2028.6973%2032.75%2029.5%2032.75%2029.5H20.75C20.75%2029.5%2021.75%2028.2227%2021.75%2024C21.75%2022.6739%2022.2768%2021.4021%2023.2145%2020.4645C24.1521%2019.5268%2025.4239%2019%2026.75%2019V19Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_18839_2927'%20x='0.75'%20y='0'%20width='52'%20height='52'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeMorphology%20radius='1'%20operator='dilate'%20in='SourceAlpha'%20result='effect1_dropShadow_18839_2927'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='4.5'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.665972%200%200%200%200%200.72274%200%200%200%200%200.792361%200%200%200%200.28%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_18839_2927'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_18839_2927'%20result='shape'/%3e%3c/filter%3e%3cclipPath%20id='clip0_18839_2927'%3e%3crect%20width='16'%20height='16'%20fill='white'%20transform='translate(18.75%2017)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Gi="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20transform='matrix(-1%200%200%201%2032%200)'%20fill='%233D466C'/%3e%3cpath%20d='M4.61328%2016H27.1133'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.8633%204.75V27.25'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Wi="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20transform='matrix(-1%200%200%201%2032%200)'%20fill='%233D466C'/%3e%3cpath%20d='M4.66504%2016.2651H27.165'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";zi(zt);Ui(zt);function qi({imageId:r,seuil:s=0,chartRef:x,currentConso:f=0,range:i=1,onChange:n,editable:a=!1,inactive:h=!1,maxValue:E=999}){const g=B.useRef({}),{t:o}=De(),c=Re();function d(b){const D=Math.min(b||s,E);return 270/(E/D)-135}const[m,C]=B.useState(d),[M,_]=B.useState(!0);function A(){const b=document.getElementById(r);if((b==null?void 0:b.style.opacity)==="0"){const T=setTimeout(()=>{b.style.opacity="1",clearTimeout(T)},750)}const D=setTimeout(()=>{var I,R;const{element:T}=(I=x.current)==null?void 0:I.chart.series[2].group,k=T.getBoundingClientRect(),P=(R=x.current)==null?void 0:R.chart.renderer.box.getBoundingClientRect(),O=k.left-P.left-17,L=k.top-P.top-8;b.style.transform="translate("+O+"px, "+L+"px)",clearTimeout(D)},500)}const y=()=>{const b=jt(g.current.value,999)+i,D=Math.min(b,999);g.current.value=String(D),g.current.setAttribute("value",g.current.value),n(D),C(d(D)),A()},S=()=>{const b=jt(g.current.value,999)-i,D=Math.max(0,b);g.current.value=String(D),g.current.setAttribute("value",g.current.value),n(D),C(D===0?-135:d(D)),A()};function t(){var O;const b="http://www.w3.org/2000/svg",D="gaugeValue",T=document.createElementNS(b,"g");(O=x.current)==null||O.chart.renderer.box.appendChild(T),T.style.filter="drop-shadow(1px 1px 5px rgba(0, 0, 0, 0.075))";const k=document.createElementNS(b,"foreignObject");k.setAttribute("id","foreignObject"),k.setAttribute("width","140px"),k.setAttribute("height","65px"),T.appendChild(k),g.current=document.createElement("input"),g.current.type="number",g.current.min="0",g.current.max="999",g.current.step="1",g.current.value=`${s}`,g.current.setAttribute("value",g.current.value),g.current.id=D,g.current.name=D,g.current.onclick=function(){g.current.focus()},g.current.addEventListener("input",L=>{const{value:I}=L.target,R=I.replace(/[^0-9]/g,"");let z=parseInt(R||"0",10);z=Math.min(999,Math.max(0,z)),g.current.value=String(z),n(g.current.value),g.current.setAttribute("value",g.current.value)}),g.current.addEventListener("blur",L=>{const I=jt(L.target.value,999),R=Math.min(999,Math.max(0,I));g.current.value=String(R),g.current.setAttribute("value",g.current.value),n(R);const z=R===0?-135:d(R);C(z),A()});const P=document.createElement("label");P.className="gauge-label",P.htmlFor=D,P.innerHTML=o("histoConso.chart.gauge.label.unit"),k.appendChild(g.current),k.appendChild(P)}function e(){var D,T,k,P;((D=x.current)==null?void 0:D.chart.series[1].yData[0])===null&&((T=x.current)==null||T.chart.renderer.text("--").attr({x:"50%",y:"50%","dominant-baseline":"middle","text-anchor":"middle"}).css({color:"var(--primary-dark)",fontSize:"20px",fontFamily:"DINPro-Bold"}).add()),(k=x.current)==null||k.chart.renderer.text(o("histoConso.chart.gauge.label.text")).attr({x:"50%",y:"71%","dominant-baseline":"middle","text-anchor":"middle"}).css({color:"var(--primary-dark)",fontSize:"12px",fontFamily:"DINPro-Light"}).add();const b=(P=x.current)==null?void 0:P.chart.renderer.text("").attr({x:"50%",y:"80%","dominant-baseline":"middle","text-anchor":"middle"}).css({color:"var(--primary-dark)",fontSize:"16px",fontFamily:"DINPro-Bold"}).add();b.element.innerHTML=o("histoConso.chart.gauge.label.value",{seuil:s})}function l(){var b;(b=x.current)==null||b.chart.renderer.image(h?Xi:Fi).attr({id:r,zIndex:10,x:0,y:0,width:55,height:55}).css({filter:"drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.075))",opacity:0,transition:"opacity 0.5s ease"}).add(),A()}function u(){var D;((D=x.current)==null?void 0:D.chart.renderer.image(Gi).attr({class:"plus-icon",zIndex:20,id:"plus-button"}).add()).element.addEventListener("click",y)}function w(){var D;((D=x.current)==null?void 0:D.chart.renderer.image(Wi).attr({class:"minus-icon",zIndex:20,id:"minus-button"}).add()).element.addEventListener("click",S)}return B.useEffect(()=>{l(),a?(u(),w(),t()):h||e()},[]),{updateImagePos:A,options:{chart:{events:{load:function(){_(!1)}},type:"solidgauge",height:a?c?220:300:210,width:h?null:a?c?260:350:210,margin:[0,0,0,0],backgroundColor:a?"#e9ecef":"#ffffff"},title:null,exporting:{enabled:!1},tooltip:{enabled:!1},pane:[{startAngle:-135,endAngle:135,background:null},{background:null},{startAngle:m,background:null}],yAxis:[{name:"fond",pane:0,min:0,max:E,labels:{enabled:!1},lineWidth:0,tickWidth:0,minorTickInterval:null},{name:"currentValue",pane:1,min:0,max:E,labels:{enabled:!1},lineWidth:0,tickWidth:0,minorTickInterval:null},{name:"alerte",pane:2,min:0,max:E,labels:{enabled:!1},lineWidth:0,tickWidth:0,minorTickInterval:null}],plotOptions:{solidgauge:{innerRadius:"90%",rounded:!0}},series:[{animation:M&&a?{defer:500}:!1,name:"fond",enableMouseTracking:!1,data:[{dataLabels:{enabled:!1},y:E,color:"#fbfbfb"}]},{animation:M&&a?{defer:500}:!1,name:"currentValue",enableMouseTracking:!1,data:[{dataLabels:{enabled:!a,useHTML:!0,borderWidth:0,padding:-30,formatter:function(){const{y:b}=this;return`${new Intl.NumberFormat("fr-FR").format(b)} <span class="gauge-current-value font-family-light">m<sup class="font-family-regular gauge-sup">3</sup><span>`},style:{fontFamily:"DINPro-Medium",fontSize:"36px",color:h?"#e3e3e3":"rgba(0, 0, 0)",backgroundColor:"rgba(252, 255, 197, 0.7)"}},color:h?"#e3e3e3":{linearGradient:{x1:0,x2:.7,y1:0,y2:0},stops:[[0,"#DAD1FF"],[.5,"#a893fd"],[1,"#7452ff"]]},y:f}]},{name:"alerte",yAxis:2,animation:!1,enableMouseTracking:!1,className:"alerte-id",id:"alerte-id",data:[{dataLabels:{enabled:!1},radius:"110%",innerRadius:"80%",y:1e-4,color:"transparent"}]}]}}}function vo({imageId:r,currentConso:s,consoMax:x=999,editable:f=!1,inactive:i=!1,seuil:n,onChange:a}){const h=B.useRef(null),{options:E}=qi({imageId:r,seuil:n,chartRef:h,currentConso:s,onChange:a,range:1,editable:f,inactive:i,maxValue:x});return j.jsxDEV(to,{containerProps:{className:"alerte-gauge"},highcharts:zt,ref:h,options:E},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Highchart/AlertGauge/index.tsx",lineNumber:476,columnNumber:5},this)}function Wt({idPDS:r}){var M,_,A,y;const{t:s}=De(),{getFormatStartEndDate:x}=ct(),{data:f}=Be(`GetMeterAlerts-${r}`),{data:i}=Be("getTelemetryMonthQuery"),n=((M=f==null?void 0:f.data)==null?void 0:M.content.length)>0?(_=f==null?void 0:f.data)==null?void 0:_.content[0]:[],a=()=>{const{subscriptionStatus:S,alertState:t}=(n==null?void 0:n.consumptionAlert)||{};return S===Se.SUBSCRIBED&&(t===rt.INACTIVE||t===rt.ACTIVE)},h=((y=(A=i==null?void 0:i.data)==null?void 0:A.content)==null?void 0:y.measures)||[],E=h.length>0?h[h.length-1]:null,p=h.length>1?h[h.length-2]:null,v=(p==null?void 0:p.volume)<=0,{subscriptionStatus:N,threshold:g}=(n==null?void 0:n.consumptionAlert)||{};return{getDataGauge:()=>{if(N===Se.ELIGIBLE){let S=(p==null?void 0:p.volume)>0?parseFloat(p==null?void 0:p.volume.toFixed(2)):0;return p===null||v?{isDisplay:!1,typeDisplay:Xe.NO_DATA,typeAlert:Se.ELIGIBLE,conso:0,consoMax:0,threshold:0}:{isDisplay:!0,typeDisplay:Xe.NO_SUBSCRIBED,typeAlert:Se.ELIGIBLE,conso:S,consoMax:S/.8,threshold:S/.9}}else if(a()){if(E===null)return{isDisplay:!1,typeDisplay:Xe.NO_DATA,typeAlert:Se.SUBSCRIBED,conso:0,consoMax:0,threshold:0};const S=(E==null?void 0:E.volume)>0?parseFloat(E==null?void 0:E.volume.toFixed(2)):0,t=S>g/.9?S:g/.9;return{isDisplay:!0,typeDisplay:Xe.SUBSCRIBED_OVER_CONSO,typeAlert:Se.SUBSCRIBED,conso:S,consoMax:t,threshold:g}}return{isDisplay:!1,typeDisplay:Xe.NO_DATA,typeAlert:Se.NON_ELIGIBLE,conso:0,consoMax:0,threshold:0}},getDataGaugeEdit:()=>{const S=N===Se.SUBSCRIBED,t=(E==null?void 0:E.volume)>0?parseFloat(E==null?void 0:E.volume.toFixed(2)):0;if(p===null||v)return{conso:10,consoMax:15,threshold:8};if(S)return{conso:t,consoMax:t*1.5,threshold:g};{let e=(p==null?void 0:p.volume)>0?parseFloat(p==null?void 0:p.volume.toFixed(2)):0;return{conso:e,consoMax:e*1.5,threshold:Math.round(e*.8)}}},getMessageBadge:S=>{var w,b;const{subscriptionStatus:t,threshold:e}=(n==null?void 0:n.consumptionAlert)||{},l=((b=(w=i==null?void 0:i.data)==null?void 0:w.content)==null?void 0:b.measures)||[],u=l.length>0?l[l.length-1]:null;return t==Se.ELIGIBLE?s("histoConso.cardAlert.badge_inactive"):t==Se.SUBSCRIBED&&e&&(u==null?void 0:u.volume)>e?s("histoConso.cardAlert.badge_exceeded"):S?"":s("histoConso.cardAlert.badge_inactive")},getColorBadge:()=>{const{subscriptionStatus:S,alertState:t}=(n==null?void 0:n.consumptionAlert)||{};return S==Se.SUBSCRIBED&&t===rt.ACTIVE?"purple":"gray-01"},getPropsTelemetry:()=>{const{subscriptionStatus:S}=(n==null?void 0:n.consumptionAlert)||{},t=Cn(Cs(new Date,1)),{startDate:e,endDate:l}=x(new Date(t.getFullYear(),t.getMonth(),1),t);if(S===Se.ELIGIBLE)return{startDateLastMonth:e,endDateLastMonth:l,startDate:"",endDate:""};if(a()){const u=new Date;let w=new Date,b=new Date;const D=new Date(u.getFullYear(),u.getMonth(),1);u.getDate()<=3?(w=Cs(new Date(D),1),b=t):(w=new Date(D),b=new Date(u.getFullYear(),u.getMonth(),u.getDate()));const{startDate:T,endDate:k}=x(w,b);return{startDateLastMonth:e,endDateLastMonth:l,startDate:T,endDate:k}}return{}}}}const gt=({title:r,description:s,success:x,btnLabel:f,handleCloseModal:i})=>{const[n,a]=B.useState(!1),{pathname:h}=Qe(),E=qe(),{transform:p}=gn(),v=x?bn:yn,N=()=>{a(!0),i();const g=h.includes(he.MY_ALERTS)?Ee(he.MY_ALERTS):Ee(he.ACCOUNT_CONSUMPTION_TR);E.push(g)};return n?null:j.jsxDEV(j.Fragment,{children:[j.jsxDEV($.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ValidationErrorModalContent.tsx",lineNumber:38,columnNumber:7},void 0),j.jsxDEV(vn,{className:"my-3 my-lg-4",variant:v,children:s&&j.jsxDEV(Qo,{content:s,transform:p},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ValidationErrorModalContent.tsx",lineNumber:43,columnNumber:25},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ValidationErrorModalContent.tsx",lineNumber:42,columnNumber:7},void 0),j.jsxDEV("div",{className:"text-lg-right mt-4 mt-lg-5",children:j.jsxDEV($.SzButton,{id:"closeBtn",variant:"contained",border:"soft",onClick:N,children:f},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ValidationErrorModalContent.tsx",lineNumber:47,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ValidationErrorModalContent.tsx",lineNumber:46,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ValidationErrorModalContent.tsx",lineNumber:37,columnNumber:5},void 0)},Ki=()=>{const{handleCloseEditModal:r,idPDS:s,emailContactChannel:x,smsContactChannel:f}=B.useContext(ht),{t:i}=De(),{refetch:n}=Be(`GetMeterAlerts-${s}`),a=qe(),{isPathConso:h,getPathModal:E}=ut(),p=h(),{isError:v,error:N,reset:g,isLoading:o,isSuccess:c,...d}=xt(async A=>{const y={...A};return Le.post(Oe.CONSUMPTION.METER_ALERTS,y,{headers:{post:{"Content-Type":Hs}}})},{onSuccess:()=>{n();const{pathModalConso:A,pathModalWaterLeak:y}=E("desactiver","succes");a.push(p?A:y)},onError:()=>{const{pathModalConso:A,pathModalWaterLeak:y}=E("desactiver","erreur");a.push(p?A:y)}}),m={waterLeakAlert:!0,consumptionAlert:!0,checkboxSms:(f==null?void 0:f.active)??!1,smsContact:(f==null?void 0:f.value)??"",checkboxEmail:(x==null?void 0:x.active)??!1,emailContact:(x==null?void 0:x.value)??""},C=()=>{const A={meterNumber:s,...p?{consumptionAlert:{active:!1,threshold:null}}:{waterLeakAlert:{active:!1}},emailContactChannel:{active:m.checkboxEmail,value:m.checkboxEmail?m.emailContact:""},smsContactChannel:{active:m.checkboxSms,value:m.checkboxSms?m.smsContact:""}};d.mutate(A)},M={label:i("no"),align:"left",prevArrow:!1,enabled:!0,variant:"outlined",onClick:r,className:"pl-3"},_={label:i("yes"),align:"right",loader:o};return c?j.jsxDEV(gt,{success:!0,title:i(p?"histoConso.modalesAlert.threshold.title_unsubscribe":"histoConso.modalesAlert.waterleak.title_unsubscribe"),description:i(p?"histoConso.modalesAlert.threshold.valid_unsubscribe":"histoConso.modalesAlert.waterleak.valid_unsubscribe"),btnLabel:i("close"),handleCloseModal:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/UnsubscribeAlertModalContent.tsx",lineNumber:119,columnNumber:7},void 0):v?j.jsxDEV(gt,{title:i("histoConso.modalesAlert.error_technical"),description:i("histoConso.modalesAlert.error_unsubscribe"),btnLabel:i("errors.tryAgain"),handleCloseModal:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/UnsubscribeAlertModalContent.tsx",lineNumber:139,columnNumber:7},void 0):j.jsxDEV(Bs,{initialValues:m,onSubmit:C,children:({handleSubmit:A})=>j.jsxDEV("form",{onSubmit:A,"data-cy":"unsubscribe-form",children:j.jsxDEV(j.Fragment,{children:[j.jsxDEV($.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:i(p?"histoConso.modalesAlert.threshold.title_unsubscribe":"histoConso.modalesAlert.waterleak.title_unsubscribe")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/UnsubscribeAlertModalContent.tsx",lineNumber:154,columnNumber:15},void 0),j.jsxDEV($.SzTypographie,{variant:"body",size:"L",weight:"regular",className:"text-dark",children:i(p?"histoConso.modalesAlert.threshold.description_unsubscribe":"histoConso.modalesAlert.waterleak.description_unsubscribe")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/UnsubscribeAlertModalContent.tsx",lineNumber:161,columnNumber:15},void 0),j.jsxDEV(Ft,{previous:M,next:_},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/UnsubscribeAlertModalContent.tsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/UnsubscribeAlertModalContent.tsx",lineNumber:153,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/UnsubscribeAlertModalContent.tsx",lineNumber:152,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/UnsubscribeAlertModalContent.tsx",lineNumber:149,columnNumber:5},void 0)},$i=({isLoading:r})=>{var t,e,l;const{t:s}=De(),{handleCloseEditModal:x,setModalContentType:f,isWaterLeakSubscribe:i,isConsumptionSubscribe:n}=B.useContext(ht),{isPathConso:a,getPathModal:h}=ut(),E=a(),{link:p}=(l=(e=(t=window.tsme_data)==null?void 0:t.footer)==null?void 0:e.links_bottom)==null?void 0:l.privacy_policy,{values:v,isValid:N,touched:g,handleChange:o,errors:c,handleBlur:d}=zs(),m={label:s("cancel"),align:"left",enabled:!0,onClick:x},M={label:s(n&&E?"histoConso.modalesAlert.threshold.validate":i&&!E?"histoConso.modalesAlert.waterleak.validate":"save"),align:"right",disabled:!N,loader:r},{pathModalConso:_,pathModalWaterLeak:A}=h("desactiver"),y=E?_:A,S=()=>{if(n&&E)return s("histoConso.modalesAlert.threshold.title_coordinates_subscribe");if(!n&&E)return s("histoConso.modalesAlert.threshold.title_coordinates_edit");if(i&&!E)return s("histoConso.modalesAlert.waterleak.title_subscribe");if(!i&&!E)return s("histoConso.modalesAlert.waterleak.title_edit")};return j.jsxDEV(j.Fragment,{children:[j.jsxDEV($.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:S()},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:87,columnNumber:7},void 0),j.jsxDEV($.SzTypographie,{variant:"body",size:"M",weight:"regular",className:"text-dark",children:s("histoConso.modalesAlert.description")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:90,columnNumber:7},void 0),j.jsxDEV("div",{className:"d-flex",children:[j.jsxDEV($.SzCheckbox,{id:"checkboxSms",name:"checkboxSms",label:"",type:"checkbox",checked:v.checkboxSms||!1,onChange:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:99,columnNumber:9},void 0),j.jsxDEV($.SzInput,{name:"smsContact",id:"smsContact",value:v.smsContact||"",onChange:o,onBlur:d,label:s("histoConso.modalesAlert.input_mobile"),placeholder:s("loginReset.login.step4.form.mobilePhone.placeholder"),variant:"outlined",disabled:!v.checkboxSms},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:107,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:98,columnNumber:7},void 0),j.jsxDEV(pt,{field:"smsContact",customDisplay:g.smsContact&&c.smsContact},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:119,columnNumber:7},void 0),j.jsxDEV(pt,{field:"checkboxSms",customDisplay:g.checkboxSms&&c.checkboxSms},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:123,columnNumber:7},void 0),j.jsxDEV("div",{className:"d-flex",children:[j.jsxDEV($.SzCheckbox,{id:"checkboxEmail",name:"checkboxEmail",label:"",type:"checkbox",checked:v.checkboxEmail||!1,onChange:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:128,columnNumber:9},void 0),j.jsxDEV($.SzInput,{name:"emailContact",id:"emailContact",value:v.emailContact||"",onChange:o,onBlur:d,label:s("histoConso.modalesAlert.input_email"),placeholder:s("loginReset.password.index.email_label"),variant:"outlined",disabled:!v.checkboxEmail},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:136,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:127,columnNumber:7},void 0),j.jsxDEV(pt,{field:"emailContact",customDisplay:g.emailContact&&c.emailContact},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:148,columnNumber:7},void 0),j.jsxDEV(pt,{field:"checkboxEmail",customDisplay:g.checkboxEmail&&c.checkboxEmail},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:152,columnNumber:7},void 0),j.jsxDEV($.SzTypographie,{variant:"caption",weight:"regular",size:"M",className:"mt-3",children:j.jsxDEV(Ze,{i18nKey:"loginReset.login.step4.form.mobilePhone.privacy_policy",components:{redirect:j.jsxDEV(Lt,{className:"font-family-medium",decorate:!0,target:"_blank",to:p},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:167,columnNumber:15},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:163,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:157,columnNumber:7},void 0),(!i||E)&&(!n||!E)&&j.jsxDEV($.SzTypographie,{variant:"caption",weight:"regular",size:"M",className:"mt-4",children:j.jsxDEV(Ze,{i18nKey:"histoConso.modalesAlert.unsubscribe",context:E?"threshold":"waterleak",components:{redirect:j.jsxDEV(Lt,{id:"unsubscribe-btn",decorate:!0,onClick:()=>f("unsubscribe"),to:y},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:190,columnNumber:19},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:185,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:179,columnNumber:11},void 0),j.jsxDEV(Ft,{previous:m,next:M},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:201,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/SubscribeEditAlertModalContent.tsx",lineNumber:86,columnNumber:5},void 0)},Zi=({isSubscribe:r,isLoading:s})=>{const{t:x}=De(),{handleCloseEditModal:f,idPDS:i}=B.useContext(ht),{getDataGaugeEdit:n}=Wt({idPDS:i}),{conso:a,consoMax:h}=n()||{},{values:E,setFieldValue:p}=zs(),v=o=>{p("gaugeValue",o,!0)},N={label:x("cancel"),align:"left",enabled:!0,onClick:f},g={label:x(r?"next":"save"),align:"right",loader:s};return j.jsxDEV(j.Fragment,{children:[j.jsxDEV($.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-4",children:x("histoConso.modalesAlert.threshold.title_gauge")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:43,columnNumber:7},void 0),j.jsxDEV("div",{className:"bg-gray-200 rounded-3 p-3 p-lg-4 d-flex flex-column align-items-center justify-content-center mb-4 mb-lg-5",children:[j.jsxDEV(vo,{imageId:"alert-edit-img",currentConso:a,consoMax:h,seuil:E.gaugeValue,editable:!0,onChange:v},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:47,columnNumber:9},void 0),j.jsxDEV("div",{className:"col-12 text-center p-0",children:j.jsxDEV($.SzTypographie,{variant:"body",size:"XL",weight:"regular",className:"mb-0",children:j.jsxDEV(Ze,{i18nKey:"histoConso.modalesAlert.threshold.description",context:r?"subscribe":"edit",components:{bold:j.jsxDEV($.SzTypographie,{variant:"body",size:"XL",weight:"bold",className:"mb-0",tag:"span"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:67,columnNumber:19},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:62,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:56,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:55,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:46,columnNumber:7},void 0),j.jsxDEV(Ft,{previous:N,next:g},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:80,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConsumptionAlertModalContent.tsx",lineNumber:42,columnNumber:5},void 0)},Qi=Jo().shape({gaugeValue:en(),checkboxSms:ys().when("checkBoxEmail",{is:!1,then:()=>Ns("histoConso.modalesAlert.one_checked_mandatory")}),checkboxEmail:ys().when("checkboxSms",{is:!1,then:()=>Ns("histoConso.modalesAlert.one_checked_mandatory")}),smsContact:xs().matches(Ss,"errors.mobilePhone.invalid").when("checkboxSms",{is:!0,then:r=>r.required("histoConso.modalesAlert.mobile_required").matches(Ss,"errors.mobilePhone.invalid")}),emailContact:xs().email("histoConso.modalesAlert.email_invalid").when("checkboxEmail",{is:!0,then:r=>r.required("histoConso.modalesAlert.email_required").email("histoConso.modalesAlert.email_invalid")})}),Ji=()=>{const{t:r}=De(),{handleCloseEditModal:s,idPDS:x,emailContactChannel:f,smsContactChannel:i,modalContentType:n,setModalContentType:a,isConsumptionSubscribe:h,isWaterLeakSubscribe:E}=B.useContext(ht),{refetch:p}=Be(`GetMeterAlerts-${x}`),v=qe(),{state:N,pathname:g}=Qe(),{getPathModal:o,isPathConso:c}=ut(),d=c(),{getDataGaugeEdit:m}=Wt({idPDS:x}),{threshold:C}=m(),M=n==="parameter",{isError:_,error:A,reset:y,isLoading:S,isSuccess:t,...e}=xt(async T=>{const k={...T};return Le.post(Oe.CONSUMPTION.METER_ALERTS,k,{headers:{post:{"Content-Type":Hs}}})},{onSuccess:()=>{p();const T=M?"parametrer":"modifier",{pathModalConso:k,pathModalWaterLeak:P}=o(T,"succes");if(h&&d||E&&!d){s();const O=g.includes(he.MY_ALERTS)?Ee(he.MY_ALERTS):Ee(he.ACCOUNT_CONSUMPTION_TR);v.push(O)}else v.push(d?k:P)},onError:()=>{const T=M?"parametrer":h||E?"activer":"modifier",{pathModalConso:k,pathModalWaterLeak:P}=o(T,"erreur");v.push(d?k:P)}}),l={checkboxSms:(i==null?void 0:i.active)??!1,smsContact:(i==null?void 0:i.value)??"",checkboxEmail:(f==null?void 0:f.active)??!1,emailContact:(f==null?void 0:f.value)??""},u={...l,gaugeValue:C},w=T=>{const k={meterNumber:x,emailContactChannel:{active:T.checkboxEmail,value:T.checkboxEmail?T.emailContact:""},smsContactChannel:{active:T.checkboxSms,value:T.checkboxSms?T.smsContact:""}},P=(O,L)=>O?{consumptionAlert:{active:!0,threshold:L}}:{waterLeakAlert:{active:!0}};if(M)if(h){a("subscribe");const{pathModalConso:O}=o("activer");v.push({pathname:O},{gaugeValue:T.gaugeValue})}else{const O={...k,consumptionAlert:{active:!0,threshold:T.gaugeValue},emailContactChannel:{active:l.checkboxEmail,value:l.checkboxEmail?l.emailContact:""},smsContactChannel:{active:l.checkboxSms,value:l.checkboxSms?l.smsContact:""}};e.mutate(O)}else if(n==="subscribe"||n==="update"){const L={...k,...P(n==="subscribe"?d&&h:d,n==="subscribe"?(N==null?void 0:N.gaugeValue)||0:C)};e.mutate(L)}},b=location.pathname.includes("/succes");if(_){const{pathModalConso:T}=o("parametrer","erreur"),k=g.includes(T),P=r(h||E?"histoConso.modalesAlert.error_subscribe":k?"histoConso.modalesAlert.threshold.update_threshold_error":"histoConso.modalesAlert.error_edit");return j.jsxDEV(gt,{title:r("histoConso.modalesAlert.error_technical"),description:P,btnLabel:r("errors.tryAgain"),handleCloseModal:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertForm.tsx",lineNumber:209,columnNumber:7},void 0)}if(t&&b){const{pathModalConso:T}=o("parametrer","succes"),k=g.includes(T),P=r(k?"histoConso.modalesAlert.threshold.title_gauge":"histoConso.modalesAlert.waterleak.title_edit"),O=k?"histoConso.modalesAlert.threshold.update_threshold_valid":"histoConso.modalesAlert.update_coordinates_valid";return j.jsxDEV(gt,{success:!0,title:P,description:r(O),btnLabel:r("close"),handleCloseModal:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertForm.tsx",lineNumber:231,columnNumber:7},void 0)}const D=()=>M?{gaugeValue:C}:h?u:l;return n==="parameter"||n==="subscribe"||n==="update"?j.jsxDEV(Bs,{initialValues:D(),validationSchema:Qi,onSubmit:w,enableReinitialize:!0,children:({handleSubmit:T})=>j.jsxDEV("form",{onSubmit:T,"data-cy":`${h&&d||E&&!d?"subscribe":"edit"}-form`,children:[M&&j.jsxDEV(Zi,{isSubscribe:h,isLoading:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertForm.tsx",lineNumber:274,columnNumber:15},void 0),(n==="subscribe"||n==="update")&&j.jsxDEV($i,{isLoading:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertForm.tsx",lineNumber:281,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertForm.tsx",lineNumber:264,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertForm.tsx",lineNumber:257,columnNumber:7},void 0):null},ht=Fe.createContext({idPDS:"",handleCloseEditModal:()=>{},emailContactChannel:{active:!1,value:""},smsContactChannel:{active:!1,value:""},modalContentType:"subscribe",setModalContentType:()=>{},isWaterLeakSubscribe:!1,isConsumptionSubscribe:!1}),er=({idPDS:r,className:s,displayAlertCards:x,displayPushBlock:f,hasConsumptionAlert:i,hasWaterleakAlert:n})=>{var re,G;const[a,h]=B.useState(!1),[E,p]=B.useState("subscribe"),v=Re(),{t:N}=De(),g=qe(),{pathname:o}=Qe(),{getPathModal:c}=ut(),d=o.includes(he.MY_ALERTS),{checkIsTR:m}=B.useContext(Ge),{getDataGauge:C,getColorBadge:M,getMessageBadge:_}=Wt({idPDS:r}),{data:A,isLoading:y,isFetching:S,isSuccess:t}=Be(`GetMeterAlerts-${r}`),{isLoading:e}=Be("getTelemetryMonthQuery"),{data:l,isLoading:u}=Be("GetDataPushHorizontalConsumption"),{data:w}=Be("ContractListQuery"),{isSuccess:b}=Be("getMeterListQuery"),D=(w==null?void 0:w.data)||[],{fullRefFormat:T}=D[0]||{},k=((re=A==null?void 0:A.data)==null?void 0:re.content.length)>0?(G=A==null?void 0:A.data)==null?void 0:G.content[0]:[],P=(k==null?void 0:k.waterLeakAlert)||{},{subscriptionStatus:O}=P||{},{emailContactChannel:L}=k||{},{smsContactChannel:I}=k||{},{conso:R,consoMax:z,threshold:J,isDisplay:q,typeDisplay:ee,typeAlert:ae}=C(),de=()=>{h(!1);const H=o.includes(he.MY_ALERTS)?Ee(he.MY_ALERTS):Ee(he.ACCOUNT_CONSUMPTION_TR),W=m?H:he.ACCOUNT_CONSUMPTION;g.push(W)},ue=Bi({dataWaterleakAlert:P,setIsOpenEditModal:h,setModalContentType:p}),pe=ee!==Xe.NO_SUBSCRIBED,K=ae===Se.ELIGIBLE,te=O===Se.ELIGIBLE,ge=()=>{p("parameter"),h(!0);const{pathModalConso:H}=c("parametrer");g.push(H)},V=()=>{p("update"),h(!0);const{pathModalConso:H}=c("modifier");g.push(H)},U=()=>{p("parameter"),h(!0);const{pathModalConso:H}=c("parametrer");g.push(H)},F=H=>{const W={description:{SUBSCRIBED:"",ELIGIBLE:N("histoConso.cardAlert.threshold.description_inactive"),NO_DATA_SUB:N("histoConso.cardAlert.threshold.description_inactive"),NO_DATA_ELIGIBLE:N("histoConso.cardAlert.threshold.description_inactive")},errorDescription:{SUBSCRIBED:"",ELIGIBLE:"",NO_DATA_SUB:N("histoConso.cardAlert.threshold.description_unavailable"),NO_DATA_ELIGIBLE:""},ctaLabel:{SUBSCRIBED:N("histoConso.cardAlert.threshold.cta"),ELIGIBLE:"",NO_DATA_SUB:"",NO_DATA_ELIGIBLE:""},btnLabel:{SUBSCRIBED:"",ELIGIBLE:N("histoConso.cardAlert.btn"),NO_DATA_SUB:"",NO_DATA_ELIGIBLE:N("histoConso.cardAlert.btn")}},{SUBSCRIBED:Y,ELIGIBLE:se,NO_DATA_SUB:ce,NO_DATA_ELIGIBLE:ie}=W[H];switch(ae){case Se.NON_ELIGIBLE:if(ee===Xe.NO_DATA)return ce;case Se.ELIGIBLE:return ee===Xe.NO_DATA?ie:se;case Se.SUBSCRIBED:return ee===Xe.NO_DATA?ce:Y}},Z=({typeCard:H})=>{const W={ALERTCONSO:Ls,ALERTWATERLEAK:mo},Y={ALERTCONSO:N("histoConso.cardAlert.threshold.title"),ALERTWATERLEAK:N("histoConso.cardAlert.waterleak.title")},se={ALERTCONSO:"conso-alert-card",ALERTWATERLEAK:"waterleak-alert-card-active-no-data"},ce={ALERTCONSO:N("histoConso.cardAlert.threshold.description_inactive"),ALERTWATERLEAK:N("histoConso.cardAlert.waterleak.description_inactive")};return j.jsxDEV("div",{className:be("mr-lg-4 mb-3 mb-lg-0",{"w-50":!v}),children:j.jsxDEV(kt,{dataCy:se[H],className:be("h-100",{consoAlertDisabled:!pe}),title:Y[H],description:ce[H],errorDescription:N("histoConso.cardAlert.threshold.description_unavailable"),children:j.jsxDEV("div",{className:"container-alert-img",children:j.jsxDEV("img",{src:W[H],alt:"",className:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:247,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:246,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:235,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:230,columnNumber:7},void 0)},ne=be("alert-block row no-gutters d-flex mb-4 mb-lg-6 position-relative",s);return j.jsxDEV("div",{className:ne,"data-cy":"container-alert-block",children:[x&&j.jsxDEV("div",{className:"alert-cards-container d-flex flex-column flex-lg-row col-12 col-lg-8",children:[i?j.jsxDEV("div",{className:be("mr-lg-4 mb-3 mb-lg-0",{"w-50":!v}),children:e||y||S?j.jsxDEV(We,{width:"100%",height:"387px"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:272,columnNumber:17},void 0):j.jsxDEV(kt,{dataCy:"conso-alert-card",className:be("h-100",{consoAlertDisabled:!pe}),title:N("histoConso.cardAlert.threshold.title"),description:F("description"),errorDescription:F("errorDescription"),isEditable:q&&pe,editBtnId:"edit-conso-alert",btnId:"subscribe-conso-alert",ctaLabel:F("ctaLabel"),btnLabel:F("btnLabel"),badgeColor:M(),badgeLabel:_(pe),onClickEdit:V,onClickBtn:ge,onClickCta:U,children:q?j.jsxDEV(vo,{imageId:"alert-img",currentConso:R,consoMax:z,seuil:J,inactive:!pe},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:294,columnNumber:21},void 0):j.jsxDEV("div",{className:"container-alert-img",children:j.jsxDEV("img",{src:Ls,alt:"",className:""},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:303,columnNumber:23},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:302,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:274,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:264,columnNumber:13},void 0):j.jsxDEV(Z,{typeCard:"ALERTCONSO"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:310,columnNumber:13},void 0),n&&ue?j.jsxDEV("div",{className:be("mr-lg-4 mb-3 mb-lg-0",{"w-50":!v}),children:e||y||S?j.jsxDEV(We,{width:"100%",height:"387px"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:322,columnNumber:17},void 0):j.jsxDEV(kt,{...ue,title:N("histoConso.cardAlert.waterleak.title"),className:"h-100",children:j.jsxDEV("div",{className:"container-alert-img",children:j.jsxDEV("img",{src:ue==null?void 0:ue.imgSrc,alt:"",className:"mt-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:330,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:329,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:324,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:314,columnNumber:13},void 0):j.jsxDEV(Z,{typeCard:"ALERTWATERLEAK"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:340,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:262,columnNumber:9},void 0),d&&b&&t&&!x&&j.jsxDEV($.SzCard,{className:"col-12 my-5 px-0 px-md-4 bg-white align-items-center",children:j.jsxDEV("div",{className:"d-flex flex-column flex-lg-row ",children:N("histoConso.cardAlert.noData",{reference:T})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:350,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:349,columnNumber:11},void 0),f&&(u?j.jsxDEV("div",{className:"d-flex flex-column col-12 col-lg-4 px-0 pl-lg-4",children:[j.jsxDEV(We,{className:"d-flex mb-3 mb-lg-4",height:150},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:359,columnNumber:13},void 0),j.jsxDEV(We,{className:"d-flex",height:150},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:360,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:358,columnNumber:11},void 0):j.jsxDEV(Ri,{dataPush:l,displayAlertCards:x},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:363,columnNumber:11},void 0)),j.jsxDEV(ht.Provider,{value:{idPDS:r??"",handleCloseEditModal:de,emailContactChannel:L??"",smsContactChannel:I??"",modalContentType:E,setModalContentType:p,isWaterLeakSubscribe:te,isConsumptionSubscribe:K},children:j.jsxDEV($.SzModal,{show:a,handleClose:de,size:"lg",backdrop:!0,centered:!0,scrollable:!0,border:"smooth",fullscreen:"md",title:"",id:`modal-alert-${E}`,children:a?j.jsxDEV(j.Fragment,{children:[j.jsxDEV(Ji,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:395,columnNumber:15},void 0),E==="unsubscribe"&&j.jsxDEV(Ki,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:397,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:394,columnNumber:13},void 0):null},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:381,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:369,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/AlertBlock.tsx",lineNumber:260,columnNumber:5},void 0)};function tr(){const{hostSmartCoach:r,smartCoachEnv:s,smartCoachTimestamp:x}=window.tsme_data;window._babelPolyfill=!1;const f=dt(`${r}/${s}/${x}/chunk-vendors.js`,{js:{async:!0}}),i=dt(`${r}/${s}/${x}/app.js`,{js:{async:!0}}),n=dt(`${r}/${s}/${x}/chunk-vendors.css`,{type:"css"}),a=dt(`${r}/${s}/${x}/app.css`,{type:"css"});return{jsScriptChunk:f,jsScriptLatestApp:i,cssChunk:n,cssLatestApp:a}}function sr({jwtToken:r,useCommunityHotWater:s,peopleCount:x,price:f,housingType:i}){tr();const n=Re(),{t:a}=De(),{pathname:h}=Qe(),E=h.includes(he.MY_ALERTS);return j.jsxDEV(Ys,{fullscreen:!0,className:"p-0",tag:"main",children:j.jsxDEV(Us,{ellipseImg:oo,zIndex:!0,tag:"div",children:j.jsxDEV("div",{"data-cy":"container-histo-conso",children:[j.jsxDEV("div",{className:"pt-5 pt-md-3 pt-lg-0",children:j.jsxDEV("div",{className:"col-12 mt-5 ",children:j.jsxDEV($.SzTypographie,{variant:"H1",size:n?"L":"XL",color:"light",className:"text-uppercase",weight:"black",children:a("histoConso.title",{context:E?"alert":"histoconso"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConnectCoach.tsx",lineNumber:35,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConnectCoach.tsx",lineNumber:34,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConnectCoach.tsx",lineNumber:33,columnNumber:11},this),j.jsxDEV("div",{className:"d-flex pt-4 flex-column flex-lg-row align-items-lg-start justify-content-lg-center",children:j.jsxDEV("div",{className:"smartcoach-app","data-authentication-token":r,"data-collective-hot-water":s,"data-people":x,"data-water-price":f,"data-outside-use":i,"data-alerts-url":he.MY_ALERTS},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConnectCoach.tsx",lineNumber:50,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConnectCoach.tsx",lineNumber:49,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConnectCoach.tsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConnectCoach.tsx",lineNumber:31,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/ConnectCoach.tsx",lineNumber:30,columnNumber:5},this)}const Ge=Fe.createContext({checkIsTR:null,currentSelectedMeter:{},showToolTip:{TYPE_CHART_HISTO_CONSO:!0,TYPE_CHART_HISTO_CONSO_NO_TR:!0},dataEquivalences:{},setDataEquivalences:()=>{},dataPrice:null,setDataPrice:()=>{},setShowToolTip:()=>{}});function or(){var ts,ss,os,ns,is,rs,as,ls,cs,us,hs,ds,ps,ms;const r=qe(),s=Re(),{t:x}=De(),{pathname:f}=Qe(),i=f.includes(he.MY_ALERTS),n=be({"my-5":i}),{isFetched:a}=Be("postSmartCoachAddInfoHistoConso"),h=yt(),E="MONTH",p="CUBIC_METER",[v,N]=B.useState({}),[g,o]=B.useState(null),[c,d]=B.useState({TYPE_CHART_HISTO_CONSO:!0,TYPE_CHART_HISTO_CONSO_NO_TR:!0}),[m,C]=B.useState(null),[M,_]=B.useState({defaultUnit:p,defaultPeriod:E,updated:"",dataMonth:null,data:null}),A=Uo(M),y="4.3",{isLoading:S}=st("GetContractPrice",()=>Le.get(Oe.CONSUMPTION_HISTORY.PRICE),{onSuccess:me=>{var Ie,Te;const Ne=(Te=(Ie=me==null?void 0:me.data)==null?void 0:Ie.content)==null?void 0:Te.price;C(Ne||y)},onError:()=>{C(y)}}),{getTelemetry:t,initDataTelemetry:e,getStartEndDate:l,mutationTelemetry:u}=ct(),{getMeterList:w,isRoleConso:b,getMeters:D,getMetersNumber:T,isTRMeter:k}=Oi(),P=u("getTelemetryDayQuery"),O=u("getTelemetryMonthQuery"),{startDate:L,endDate:I}=l(E),{isSuccess:R,data:z,isLoading:J}=w({params:{},options:{onError:()=>{r.push(he.DASHBOARD)}}});let q="",ee={},ae=[],de=null;const ue=R&&b(z);if(R&&ue&&de===null){const me=D(z);ee=me,ae=T(z),de=k(z,me),q=me==null?void 0:me.idPDS}const[pe,K]=B.useState(ee),te=g??de,{data:ge,isFetched:V,isFetching:U}=xn({enabled:te||!1},"?services[]=smartcoach"),F=((ss=(ts=ge==null?void 0:ge.data)==null?void 0:ts.content)==null?void 0:ss.smartcoach)||"",Z=Ot.ELIGIBLE===F&&te,ne=Ot.SUBSCRIBED===F&&te&&!i,re=Ee(he.ACCOUNT_CONSUMPTION_TR,{modal:"activation-on-connect-coach"}),G=he.CONNECT_COACH_LANDING,H=Ee(he.ACCOUNT_CONSUMPTION_TR),W=[H,re,G];V&&!Z&&(f==re||f==G)&&r.push(H);const{data:Y,isLoading:se}=st("GetCustomerAddInfos",()=>Le.get(Oe.SMARTCOACH.CUSTOMER_ADDITIONAL_INFOS,{params:{token:!0}}),{enabled:!!ne}),{peopleCount:ce,housingType:ie,price:le,jwtToken:ye,useCommunityHotWater:xe}=((os=Y==null?void 0:Y.data)==null?void 0:os.content)||{},ve=(me,Ne)=>{var fs,gs;const Ie=((gs=(fs=me==null?void 0:me.data)==null?void 0:fs.content)==null?void 0:gs.measures)||[];let Te={...M};Ne?Te={...M,dataMonth:e(Ie,p)}:Te={...M,data:Ke(Ie)},_(Te)},Ce=t({queryName:"getTelemetryMonthQuery",params:{id_PDS:q,mode:"monthly",start_date:L,end_date:I},options:{enabled:ue&&te&&!ne&&V}}),{getNoTelemetry:Je,mutationNoTelemetry:et,getStartEndDateNoTelemetry:wt,initDataNoTelemetry:Ke}=Li(),_e=et(),{startDate:ot,endDate:X}=wt(),Q=Je({params:{id_PDS:q,start_date:ot,end_date:X},options:{enabled:ue&&te===!1}}),oe=me=>{const{matriculeCompteur:Ne}=me||{};return j.jsxDEV("div",{className:"list-contract-item-content mr-2",children:j.jsxDEV($.SzTypographie,{variant:"button",size:"M",className:"list-contract-item-title",children:x("histoConso.titleSelector",{numberMeter:Ne})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:275,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:274,columnNumber:7},this)},we=me=>{K(me);const Ne=k(z,me),{idPDS:Ie}=me||{};if(te!==Ne)o(Ne);else if(Ne){const Te={id_PDS:Ie,mode:"monthly",start_date:L,end_date:I};O.mutate(Te)}else{const Te={id_PDS:Ie,start_date:ot,end_date:X};_e.mutate(Te)}},je=me=>{const{matriculeCompteur:Ne}=me||{};return x("histoConso.titleSelector",{numberMeter:Ne})};B.useEffect(()=>{const{isSuccess:me}=O;me&&te&&ve(O==null?void 0:O.data,!0)},[O==null?void 0:O.isSuccess]),B.useEffect(()=>{const{isSuccess:me}=_e;me&&!te&&ve(_e==null?void 0:_e.data,!1)},[_e==null?void 0:_e.isSuccess]),B.useEffect(()=>{a&&h.invalidateQueries("getServicesStatus")},[a]),B.useEffect(()=>{const{isSuccess:me,data:Ne}=Ce;me&&te&&(ve(Ne,!0),g===null&&o(!0))},[Ce==null?void 0:Ce.isSuccess]),B.useEffect(()=>{const{data:me,isRefetching:Ne}=Ce;te&&Ne&&ve(me,!0)},[Ce==null?void 0:Ce.isRefetching]),B.useEffect(()=>{const{isSuccess:me,data:Ne}=Q;me&&!te&&(ve(Ne,!1),g===null&&o(!1))},[Q==null?void 0:Q.isSuccess]),B.useEffect(()=>{const{data:me,isRefetching:Ne}=Q;!te&&Ne&&(ve(me,!1),g===null&&o(!1))},[Q==null?void 0:Q.isRefetching]),B.useEffect(()=>{te!==null&&(te&&!W.includes(f)&&!i?r.push(H):!te&&f!==he.ACCOUNT_CONSUMPTION&&f!==he.MY_ALERTS&&r.push(he.ACCOUNT_CONSUMPTION))},[te]),B.useEffect(()=>{ne&&r.push(he.CONNECT_COACH)},[ne]);const Me=Object.keys(pe).length>0?pe:ee,Ae=Me==null?void 0:Me.idPDS;let ke=!1;te!==null&&(ke=te?!ne&&V:!0);const Ue=En([{queryKey:[`GetMeterAlerts-${Ae}`],queryFn:()=>Le.get(Oe.CONSUMPTION.METER_ALERTS,{params:{meterNumber:Ae}}),enabled:!!Ae&&ke},{queryKey:["GetDataPushHorizontalConsumption"],queryFn:()=>Le.get(Oe.CONSUMPTION.PUSH,{params:{type:"horizontal"}}),enabled:!ne&&ke&&!i},{queryKey:["GetDataPushMoreConsumption"],queryFn:()=>Le.get(Oe.CONSUMPTION.PUSH,{params:{type:"more"}}),enabled:!ne&&ke&&!i}]),[{data:Ye,isError:Kt,error:Ct},{data:Nt,isSuccess:bo},{data:Ve,isLoading:yo,isSuccess:xo,isError:wo}]=Ue,tt=((ns=Ye==null?void 0:Ye.data)==null?void 0:ns.content.length)>0?(is=Ye==null?void 0:Ye.data)==null?void 0:is.content[0]:[],St=(tt==null?void 0:tt.consumptionAlert)||{},Et=(tt==null?void 0:tt.waterLeakAlert)||{},$t=(St==null?void 0:St.subscriptionStatus)||"",Zt=(Et==null?void 0:Et.subscriptionStatus)||"",Qt=!!$t&&$t!==Se.NON_ELIGIBLE,Jt=!!Zt&&Zt!==Se.NON_ELIGIBLE,Co=te&&(()=>{var Ie,Te;const me=((Te=(Ie=Ct==null?void 0:Ct.response)==null?void 0:Ie.data)==null?void 0:Te.message)||"",Ne=[At.TERMINATED_CONTRACT,At.WRONG_METER_OWNER];return Kt&&Ne.includes(me)?!1:Kt&&me===At.API_GETALERTS_KO?!0:Qt||Jt})()||!1,es=((ls=(as=(rs=Nt==null?void 0:Nt.data)==null?void 0:rs.content)==null?void 0:as.dataPush)==null?void 0:ls.length)||0,Mt=es>0,No=bo&&Mt&&!i,So=xo&&Mt,Eo=be("tsme-container pt-0 pb-6 text-center",{"pt-0":Ve&&Mt,"pt-4":Ve&&es<=0||wo}),Mo=()=>j.jsxDEV("div",{className:"row no-gutters control-chart histo-nodata",children:j.jsxDEV("div",{className:"bg-white col-12 px-0 d-flex align-items-center text-center",children:j.jsxDEV($.SzTypographie,{variant:"body",weight:"regular",className:"text-dark m-auto",children:x("histoConso.empty")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:543,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:542,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:541,columnNumber:7},this);if(U||se||S||Ce.isLoading||Q.isLoading||J||O.isLoading||_e.isLoading)return j.jsxDEV($.SzCard,{className:"col-12 my-5 px-0 px-md-4 bg-white align-items-center",children:j.jsxDEV(We,{count:1,width:"100%",height:500},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:567,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:566,columnNumber:7},this);if(ne)return j.jsxDEV(sr,{jwtToken:ye,useCommunityHotWater:xe,peopleCount:ce,price:le,housingType:ie},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:574,columnNumber:7},this);const Ao=Ce.isError||Q.isError||O.isError||_e.isError,jo=A||Ao;return j.jsxDEV(Ys,{fullscreen:!0,className:"p-0",tag:"main",children:j.jsxDEV(Ge.Provider,{value:{currentSelectedMeter:Object.keys(pe).length>0?pe:ee,checkIsTR:te,dataEquivalences:v,setDataEquivalences:N,dataPrice:m,setDataPrice:C,setShowToolTip:d,showToolTip:c},children:[j.jsxDEV(Us,{ellipseImg:oo,zIndex:!0,tag:"div",children:[j.jsxDEV("div",{"data-cy":"container-histo-conso",children:[j.jsxDEV("div",{className:"pt-5 pt-md-3 pt-lg-0",children:[j.jsxDEV("div",{className:"col-12 mt-5",children:j.jsxDEV($.SzTypographie,{variant:"H1",size:s?"L":"XL",color:"light",className:"text-uppercase",weight:"black",children:x("histoConso.title",{context:i?"alert":"histoconso"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:611,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:610,columnNumber:15},this),ae.length>1&&j.jsxDEV(dn,{btnId:"items-selector",className:"pr-3",getTitle:je,items:ae,loader:!1,displayItems:oe,actionItem:we},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:625,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:609,columnNumber:13},this),!i&&j.jsxDEV("div",{className:"d-flex flex-column flex-lg-row align-items-lg-start justify-content-lg-center",children:j.jsxDEV($.SzCard,{className:"col-12 my-5 px-0 px-md-4 bg-white align-items-center histo-container",children:j.jsxDEV("div",{className:"d-flex flex-column flex-lg-row mt-3",children:[te&&jo&&j.jsxDEV(_i,{data:M,idPDS:q,apiDayTelemetry:P},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:642,columnNumber:23},this),!te&&(M!=null&&M.data?j.jsxDEV(Pi,{data:M},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:651,columnNumber:25},this):j.jsxDEV(Mo,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:653,columnNumber:25},this))]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:640,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:639,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:638,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:608,columnNumber:11},this),j.jsxDEV(er,{className:n,idPDS:Ae,displayAlertCards:Co,displayPushBlock:No,hasConsumptionAlert:Qt,hasWaterleakAlert:Jt},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:660,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:607,columnNumber:9},this),!i&&j.jsxDEV(on,{children:yo?j.jsxDEV("div",{className:"col-12 px-0 mt-4 rounded-2",children:j.jsxDEV(We,{width:"100%",height:200},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:674,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:673,columnNumber:15},this):So&&Ve?j.jsxDEV(j.Fragment,{children:[j.jsxDEV(nn,{title:x("pedagoFacture.board.card_contract_module_title"),items:Array.isArray((us=(cs=Ve==null?void 0:Ve.data)==null?void 0:cs.content)==null?void 0:us.dataPush)?(hs=Ve.data.content)==null?void 0:hs.dataPush:(ps=(ds=Ve==null?void 0:Ve.data)==null?void 0:ds.content)!=null&&ps.dataPush?[(ms=Ve.data.content)==null?void 0:ms.dataPush]:[]},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:678,columnNumber:17},this),j.jsxDEV("div",{className:Eo,children:j.jsxDEV(Is,{variant:"outlined",border:"soft",className:"border-white bg-transparent mb-1 mb-lg-0 text-white",to:he.HELP_AND_CONTACT,id:"invoice-explanation-other-question-btn",children:x("pedagoFacture.board.otherQuestionBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:689,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:688,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:677,columnNumber:15},this):null},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:671,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:594,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/consumption-history/index.tsx",lineNumber:593,columnNumber:5},this)}const Or=Object.freeze(Object.defineProperty({__proto__:null,ConsumptionHistoryContext:Ge,default:or},Symbol.toStringTag,{value:"Module"})),nr=B.forwardRef(function({dataToolTip:s,desc:x},f){const i=Re(),n=be("tooltip-high row p-4",{"w-100":i});return j.jsxDEV("div",{ref:f,className:n,children:[j.jsxDEV($.SzTypographie,{variant:"body",weight:"bold",className:"text-blue-electric mb-0",children:s!=null&&s.name?fe(new Date(s==null?void 0:s.name),"d MMMM yyyy"):"NA"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartConso/ToolTipConso.jsx",lineNumber:16,columnNumber:7},this),j.jsxDEV($.SzTypographie,{variant:"H1",tag:"p",size:"XL",className:"mb-0",children:[x,"€"]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartConso/ToolTipConso.jsx",lineNumber:26,columnNumber:7},this),j.jsxDEV($.SzTypographie,{weight:"regular",size:"M",variant:"caption",className:"text-dark mb-0",children:s==null?void 0:s.type},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartConso/ToolTipConso.jsx",lineNumber:29,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartConso/ToolTipConso.jsx",lineNumber:15,columnNumber:5},this)}),ir=B.forwardRef(function({dataToolTip:s,desc:x},f){const i=Re(),n=be("tooltip-high row py-3 px-4",{"w-100":i}),a=s!=null&&s.name?fe(new Date(s==null?void 0:s.name),"MMMM yyyy").replace(/\b(\w)/,h=>h.toUpperCase()):"NA";return j.jsxDEV("div",{ref:f,className:n,children:[j.jsxDEV($.SzTypographie,{variant:"body",weight:"bold",className:"text-blue-electric mb-0",children:a},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ToolTipHistoConso.jsx",lineNumber:26,columnNumber:7},this),x]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ToolTipHistoConso.jsx",lineNumber:25,columnNumber:5},this)}),rr=B.forwardRef(function({dataToolTip:s,desc:x},f){const{t:i}=De(),n=Re(),{startDate:a,endDate:h,valueIndex:E}=s||{},p=be("tooltip-high tooltip-high-no-tr row py-3 px-4",{"w-100":n}),v=a?fe(new Date(a),"dd/MM/yy"):"",N=h?fe(new Date(h),"dd/MM/yy"):"";return j.jsxDEV("div",{ref:f,className:p,children:[j.jsxDEV($.SzTypographie,{variant:"body",weight:"bold",className:"text-blue-electric mb-0",children:v?i("histoConso.chart.noTr.toolTip.title",{start:v,end:N}):N},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ToolTipHistoConsoNoTr.jsx",lineNumber:33,columnNumber:7},this),x,j.jsxDEV($.SzTypographie,{weight:"regular",size:"M",variant:"caption",className:"text-dark mb-0",children:i("histoConso.chart.noTr.toolTip.index",{index:E})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ToolTipHistoConsoNoTr.jsx",lineNumber:45,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzChartHistoConso/ToolTipHistoConsoNoTr.jsx",lineNumber:32,columnNumber:5},this)});typeof He=="object"&&(Ht(He),li(He));let Tt=!0,$e=null;function qt({type:r,chartRef:s,data:x,seriesData:f=[],maxRangeData:i,maxRangeDataMobile:n,className:a,classNameBtnPagination:h,disabledEventLegend:E=!1,showNextPrev:p=!0,options:v={},confToolTip:N={},isUpdateToolTip:g=!1,getStartIndex:o,getIndexToolTip:c,initColor:d,formatDataLabel:m,getDataTooltip:C=()=>{}}){var ot;const M=Re(),_=Yt(),A="SUCCESS-UPDATE-UNIT",{getDataNoEmpty:y}=ct(),S=_?i:n,t=B.useRef(null),e=B.useRef(null),[l,u]=B.useState({}),[w,b]=B.useState({columnSelected:null,serieSelected:f.length>0?f.length-1:null}),[D]=B.useState(g),[T,k]=B.useState(),O=["TYPE_CHART_HISTO_CONSO","TYPE_CHART_HISTO_CONSO_NO_TR"].includes(r),L=()=>f.length>0?f.reduce((X,Q)=>{const{data:oe}=Q;return oe.length>X.length?oe:X},[]):[],I=()=>{if(f.length>0){const X=L();return o()+S+1>X.length}return o()+S+1>y(x==null?void 0:x.data,!1,O).length},[R,z]=B.useState({prevBtn:o()===0,nextBtn:I()}),[J,q]=B.useState(o()+S),ee=o(),ae=()=>{var X,Q;return{crosshair:!1,type:"category",categories:(X=v==null?void 0:v.xAxis)==null?void 0:X.categories,labels:{style:{...(Q=v==null?void 0:v.xAxis)==null?void 0:Q.style},rotation:0}}},de=X=>{const Q=S-X.length;for(let oe=0;oe<Q;oe++)X.push({y:0,m3:0,litre:0,isDisplayData:!1});return X},ue=()=>{let X=x==null?void 0:x.data;if(M&&(X=y(x==null?void 0:x.data,!1,O),X=(X==null?void 0:X.length)<S?de(X):X),(X==null?void 0:X.length)===0)return[];let Q=X==null?void 0:X.slice(ee,ee+S);if(g&&(g!=null&&g.includes(A))&&(Q=X==null?void 0:X.slice(J-S,J)),(Q==null?void 0:Q.length)===0)return[];const oe=y(Q,!0,O);return d(oe)},pe=()=>{if(f.length===0)return[H];let X=[];return f.forEach(Q=>{const oe=Q==null?void 0:Q.data.slice(ee,ee+S),we=d(oe);X.push({...H,data:we,name:Q.name,color:Q.color})}),X},[K,te]=B.useState(ae()),[ge,V]=B.useState(ue()),[U,F]=B.useState(),Z=()=>{const X=ue();g&&(g!=null&&g.includes(A))?b(null):(q(o()+S),z({prevBtn:o()===0,nextBtn:I()}),te(ae()),F(null)),V(X)},ne=(ot=x==null?void 0:x.data)==null?void 0:ot.reduce((X,Q)=>Math.abs(Q.y)>X?Math.abs(Q.y):X,x==null?void 0:x.data[0].y),re=Fo(document.querySelector("#container-chart")),G=(v==null?void 0:v.series.length)>0?v==null?void 0:v.series[0]:{},H={name:"conso",pointWidth:v!=null&&v.pointWidth?v==null?void 0:v.pointWidth:22,data:ge,states:{select:{color:function(){return!1},borderColor:"#3C77F0"}},allowPointSelect:!0,dataLabels:{enabled:!0,crop:!1,overflow:"none",allowOverlap:!0,formatter:function(){return`${m(this)}€`},style:{fontSize:11}},borderRadius:5,pointPadding:.2,groupPadding:.1,...G},W={chart:{type:"column"},exporting:{buttons:{contextButton:{enabled:!1}}},title:{text:""},xAxis:K,yAxis:{max:ne===0?1:void 0,title:{text:"",useHTML:!0},labels:{enabled:!1}},legend:{enabled:!1,...v==null?void 0:v.legend},tooltip:{enabled:!1},plotOptions:{series:{events:{legendItemClick:function(){return!E}},cursor:"pointer",states:{hover:{enabled:!1},inactive:{opacity:E?1:0}},point:{events:{click:function(){var je;const X=(N==null?void 0:N.addTop)??0;Tt=$e?$e!==this.id:!0;const Q=(je=s==null?void 0:s.current)==null?void 0:je.chart,oe=t==null?void 0:t.current;$e===this.id&&(oe==null||oe.classList.remove("d-block"),oe==null||oe.classList.add("d-none"));let we=this.plotX+10;if(Q.customCrossAir&&(Q.customCrossAir.destroy(),delete Q.customCrossAir),Tt&&((f==null?void 0:f.length)>0&&(we=this.tooltipPos[0]+10),setTimeout(()=>{var Ae;const Me=((Ae=this==null?void 0:this.shapeArgs)==null?void 0:Ae.y)+10;Q.customCrossAir=Q.renderer.path(["M",we,0,"L",we,Me]).attr({"stroke-width":3,stroke:"#3C77F0"}).add()},"100")),$e!==this.id&&oe){oe.style.position="absolute",oe.classList.add("d-block"),oe.style.top=X?`${X}px`:0;const Me=oe.offsetWidth/2-24,Ae=s.current.container.current.getBoundingClientRect(),ke=this.plotX+Me-Ae.width,Ue=ke>0?this.plotX-Me-ke:this.plotX-Me,Ye=Ue>0?Ue:this.plotX;oe.style.left=M?"15px":`${Ye}px`}Tt?$e=this.id:$e=null,u(this==null?void 0:this.options),C(this==null?void 0:this.options),b({columnSelected:this.index,serieSelected:this.series.index})},mouseOver:function(){return null}}}},...v==null?void 0:v.plotOptions},series:U||pe()},Y=()=>{var oe;const X=(oe=s==null?void 0:s.current)==null?void 0:oe.chart;if(X.series[0].points.length===0)return;const Q=t==null?void 0:t.current;$e=null,u(null),X.customCrossAir&&(X.customCrossAir.destroy(),delete X.customCrossAir),Q==null||Q.classList.remove("d-block"),Q==null||Q.classList.add("d-none"),X.series[0].points[0].select(!1)},se=(X,Q,oe)=>{let{prevBtn:we,nextBtn:je}=R;const Me=y(X,!1,O);return oe<(X==null?void 0:X.length)&&(je=!1),oe>=(X==null?void 0:X.length)&&(oe=X==null?void 0:X.length),oe>=Me.length&&(je=!0),Q>0&&(we=!1),Q<=0&&(Q=0,we=!0),z({prevBtn:we,nextBtn:je}),{start:Q,end:oe}},ce=(X,Q)=>{var Ae;const oe=L();let we=[];Q>=(oe==null?void 0:oe.length)&&(Q=oe==null?void 0:oe.length),X<=0&&(X=0),f==null||f.forEach(ke=>{const Ue=ke==null?void 0:ke.data.slice(X,Q),Ye=d(Ue);we.push({...H,data:Ye,name:ke.name})}),F(we),se(oe,X,Q);const Me=(((Ae=v==null?void 0:v.xAxis)==null?void 0:Ae.categories)||[]).slice(X,Q);te({...v==null?void 0:v.xAxis,categories:Me}),ve(oe)},ie=(X,Q)=>{if(q(Q),f.length>0)return ce(X,Q);const{start:oe,end:we}=se(x==null?void 0:x.data,X,Q),je=x==null?void 0:x.data.slice(oe,we),Me=y(je,!1,O),Ae=d(Me);V(Ae),r!==tn?ve(Me,!0):Y()},le=()=>{let X=J-S,Q=X-S;(R==null?void 0:R.nextBtn)===!0&&z({prevBtn:null,nextBtn:!1}),ie(Q,X)},ye=()=>{const X=J+S;(R==null?void 0:R.prevBtn)===!0&&z({prevBtn:!1,nextBtn:null}),ie(J,X)},xe=()=>{var Q,oe,we;((Q=s==null?void 0:s.current)==null?void 0:Q.chart).xAxis[0].update({labels:{style:(we=(oe=v==null?void 0:v.xAxis)==null?void 0:oe.labels)==null?void 0:we.style,formatter:function(){const je=v==null?void 0:v.xAxis.labels.formatter(this.value);return(w==null?void 0:w.columnSelected)===this.pos?`<b>${je}</b>`:je}}})},ve=(X,Q=!1)=>{var we;Y();const oe=(we=s==null?void 0:s.current)==null?void 0:we.chart;setTimeout(()=>{var Ue;const je=f.length>0?w==null?void 0:w.serieSelected:0;let Ae=c(X??null);if(!Q&&g&&(g!=null&&g.includes(A))&&(Ae=w==null?void 0:w.columnSelected),(oe==null?void 0:oe.series)===void 0)return;const ke=(Ue=oe==null?void 0:oe.series[je])==null?void 0:Ue.points[Ae];ke&&ke.firePointEvent("click")},"200")};B.useEffect(()=>{T&&re&&JSON.stringify(T)!==JSON.stringify(re)&&Y(),k(re)},[re]),B.useEffect(()=>{let X=f.length>0;g&&(g!=null&&g.includes("SUCCESS")&&D!==g||g==="RESET")&&(X=!0),X&&(Z(),ve()),r==="TYPE_CHART_CONSO"&&!g&&ve()},[g]),B.useEffect(()=>{w!=null&&w.columnSelected&&xe()},[w]);const Ce=()=>{var X;return f.length>0?L().length:(X=x==null?void 0:x.data)==null?void 0:X.length},Je=be({"d-flex":_&&Ce()>i},{"d-none":_&&Ce()<=i},{"d-flex":M},{"desk-container-btn justify-content-between":_,"justify-content-center":M},h),wt={TYPE_CHART_CONSO:nr,TYPE_CHART_HISTO_CONSO:ir,TYPE_CHART_HISTO_CONSO_NO_TR:rr}[r],{showToolTip:Ke,setShowToolTip:_e}=B.useContext(Ge);return B.useEffect(()=>{if(["TYPE_CHART_HISTO_CONSO","TYPE_CHART_HISTO_CONSO_NO_TR"].includes(r)&&Ke[r]){ve();let oe="";r==="TYPE_CHART_HISTO_CONSO"&&!Ke.TYPE_CHART_HISTO_CONSO_NO_TR?oe="TYPE_CHART_HISTO_CONSO_NO_TR":r==="TYPE_CHART_HISTO_CONSO_NO_TR"&&!Ke.TYPE_CHART_HISTO_CONSO&&(oe="TYPE_CHART_HISTO_CONSO");const we={...Ke,[r]:!1,[oe]:!0};_e(we)}},[Ke]),j.jsxDEV(j.Fragment,{children:[j.jsxDEV("div",{ref:e,className:be("bg-white col-12 px-0",a),children:j.jsxDEV("div",{id:"container-chart",children:[j.jsxDEV(wt,{ref:t,dataToolTip:l,desc:m(l)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzHighChart/index.jsx",lineNumber:709,columnNumber:11},this),W&&j.jsxDEV(to,{highcharts:He,options:W,ref:s},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzHighChart/index.jsx",lineNumber:716,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzHighChart/index.jsx",lineNumber:708,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzHighChart/index.jsx",lineNumber:704,columnNumber:7},this),p&&j.jsxDEV("div",{id:"container-btn",className:Je,children:[j.jsxDEV($.SzButton,{variant:"contained",className:"mr-3 mr-lg-0",icon:"arrow-left-1",small:!0,iconVariant:"bold",disabled:R.prevBtn,border:"rounded",onClick:()=>le()},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzHighChart/index.jsx",lineNumber:726,columnNumber:11},this),j.jsxDEV($.SzButton,{variant:"contained",icon:"arrow-right-1",small:!0,iconVariant:"bold",border:"rounded",disabled:R.nextBtn,onClick:()=>ye()},void 0,!1,{fileName:"/usr/var/www/assets/js/components/SzHighChart/index.jsx",lineNumber:736,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzHighChart/index.jsx",lineNumber:725,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/SzHighChart/index.jsx",lineNumber:703,columnNumber:5},this)}export{vo as A,no as B,kt as C,mo as I,Vi as N,ii as P,qt as S,Ii as a,Or as i};

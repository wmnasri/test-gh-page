import{r as g,t as D,e as p,Z as U}from"./main-BbuvrTKi.js";import{s as S}from"./index-B4MErowZ.js";import{j as o,b as c,a as C}from"./index-BzhTyqaY.js";import{r as E,R as V}from"./index-0X8QCd_i.js";import{u as L}from"./index-DPR1boKH.js";import{u as k}from"./index-Dctip-EM.js";import{u as z}from"./useResponsive-DQBhMvnf.js";import{u as _}from"./useTranslation-BYGhmYBG.js";import{w as R}from"./react-spring-web.esm-DsMzZgQq.js";import"./formik.esm-DgjVmEdT.js";import"./AxiosInstance-BZZbXQ8a.js";import"./index-m5SwaE3w.js";/* empty css              *//* empty css                         */function A(t,e){g(2,arguments);var s=D(t),a=p(e);return isNaN(a)?new Date(NaN):(a&&s.setDate(s.getDate()+a),s)}function F(t,e){g(2,arguments);var s=D(t),a=D(e);return s.getTime()===a.getTime()}function I(t,e){g(2,arguments);var s=p(e);return A(t,-s)}function x(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(s){return typeof s}:x=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},x(t)}function te(t,e){if(g(2,arguments),!e||x(e)!=="object")return new Date(NaN);var s=e.years?p(e.years):0,a=e.months?p(e.months):0,d=e.weeks?p(e.weeks):0,r=e.days?p(e.days):0,l=e.hours?p(e.hours):0,m=e.minutes?p(e.minutes):0,w=e.seconds?p(e.seconds):0,v=S(t,a+s*12),b=I(v,r+d*7),f=m+l*60,i=w+f*60,n=i*1e3,u=new Date(b.getTime()-n);return u}function ae(t,e,{indexTR:s,isUpdating:a,isTRUpdated:d,isCounterUpdated:r,summaryIndex:l}){let m=!1;return F(e,new Date(t))&&l&&l>0||s>0&&(a||r)||d?m=!1:s>0&&(m=!0),m}function oe({initParcoursState:t,eligibleArray:e=[],displayExpiredSession:s=!1}={}){if(s)return!1;const a=(t==null?void 0:t.matches("edito"))??!1;return e.some(r=>t==null?void 0:t.matches(r))?!1:!a}const T=V.createContext({files:[]}),M=".heic, .heif, image/jpeg, image/png, image/jpg, application/pdf";function ne({onDrop:t,onFileReject:e,accept:s=M}){const{t:a}=_(),[,d]=E.useState([]),[r,l]=E.useState(null),m=z(),w=L({accept:s,maxSize:U,maxFiles:1,onDrop:async function(u,N){N.length>0&&e instanceof Function&&e(N);const h=[],j=u[0];if(j.type!=="application/pdf"){const{objectURL:y}=await k(j);h.push(Object.assign(j,{preview:y}))}else{const y=URL.createObjectURL(j);h.push(Object.assign(j,{preview:y}))}d(h),t instanceof Function&&t(u),l(null)}}),{getInputProps:v,open:b,fileRejections:f,acceptedFiles:i}=w,n=()=>{URL.revokeObjectURL(r),l(null)};return o.jsxDEV(T.Provider,{value:{...w},children:[o.jsxDEV(c.SzInput,{name:"upload",...v(),className:"transparent m-0"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:72,columnNumber:7},this),o.jsxDEV("div",{className:"p-3 p-md-4",style:{background:"var(--gray-100)"},children:i.length===0?o.jsxDEV("div",{className:"row no-gutters align-items-center",children:[o.jsxDEV(c.SzButton,{variant:"outlined",className:"cy-upload-attestation mx-auto m-md-0 mb-2",icon:"camera-1",onClick:b,children:a("upload.add_counter_photo",{context:m&&"mobile"})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:76,columnNumber:13},this),o.jsxDEV(c.SzTypographie,{className:"ml-4",variant:"caption",color:f.length>0?"danger":"disabled",weight:"regular",children:a("upload.authorized_type")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:75,columnNumber:11},this):i.map(u=>{const N=()=>{const h=URL.createObjectURL(u);l(h)};return o.jsxDEV("div",{className:"row no-gutters align-items-center justify-content-center justify-content-md-between",children:[o.jsxDEV(c.SzButton,{variant:"outlined",onClick:N,className:"mb-3 mb-md-0",icon:"view-1",children:a("upload.display_photo")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:104,columnNumber:17},this),o.jsxDEV(c.SzTypographie,{className:"d-none d-md-block mr-auto ml-3 mb-0",weight:"bold",children:u.name},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:113,columnNumber:17},this),o.jsxDEV(c.SzButton,{variant:"text",icon:"pencil-write",onClick:b,alignIcon:"right",children:a("upload.update_photo")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:120,columnNumber:17},this)]},u.lastModified,!0,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:100,columnNumber:15},this)})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:73,columnNumber:7},this),o.jsxDEV(c.SzModal,{show:r!==null,handleClose:n,children:[r&&o.jsxDEV("img",{src:r,width:"100%",alt:""},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:134,columnNumber:27},this),o.jsxDEV("div",{className:"text-center",children:o.jsxDEV(c.SzButton,{className:"mt-3",variant:"text",icon:"pencil-write",onClick:b,children:a("upload.update_photo")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:136,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:135,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:133,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Upload.jsx",lineNumber:71,columnNumber:5},this)}const O=window.tsme_data,{apiUrlCapadresse:B}=O;function re({className:t,onClick:e,type:s,inputOutput:a,address:d={},isLoader:r}){const l=R(B,s,a,d),[m,w]=E.useState(!1);let v={};const b=(f,i,n)=>{v[`refLoader${n}`]=!0,w(v),e(f,i)};return o.jsxDEV("div",{className:C("capaddress position-absolute list-group overflow-auto",t),style:{maxHeight:250,zIndex:100},children:l.map((f,i)=>{const{inputOutput:n}=f,u=n==null?void 0:n.substring(0,n==null?void 0:n.indexOf("	"));return v[`refLoader${i}`]=!1,n?o.jsxDEV("button",{type:"button",className:"capaddress-item list-group-item list-group-item-action",onClick:N=>b(f,s,i),children:o.jsxDEV("div",{className:"row",children:[o.jsxDEV("span",{className:"col-11 mt-2",children:u||n},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/CapAdress.jsx",lineNumber:59,columnNumber:15},this),r&&o.jsxDEV(c.SzSpinner,{className:C("spinner-border float-right",!m[`refLoader${i}`]&&"d-none"),variant:"dark"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/CapAdress.jsx",lineNumber:64,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/CapAdress.jsx",lineNumber:58,columnNumber:13},this)},i,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/CapAdress.jsx",lineNumber:52,columnNumber:11},this):null})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/CapAdress.jsx",lineNumber:34,columnNumber:5},this)}export{re as C,ne as U,oe as a,F as i,te as s,ae as u};

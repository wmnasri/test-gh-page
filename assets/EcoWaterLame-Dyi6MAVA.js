import{j as l,b as L}from"./index-BzhTyqaY.js";import{M as T}from"./index-E8Xemi00.js";import{e as z,f as I,L as U}from"./react-spring-web.esm-DsMzZgQq.js";import{E as X}from"./EcoWaterCard-C4IYkjJF.js";import{r as x}from"./index-0X8QCd_i.js";import{u as $}from"./useResponsive-DQBhMvnf.js";import{u as A}from"./useTranslation-BYGhmYBG.js";const Y="Left",H="Right",B="Up",q="Down",N={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},M={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},k="mousemove",C="mouseup",F="touchend",G="touchmove",K="touchstart";function J(t,m,a,o){return t>m?a>0?H:Y:o>0?q:B}function R(t,m){if(m===0)return t;const a=Math.PI/180*m,o=t[0]*Math.cos(a)+t[1]*Math.sin(a),f=t[1]*Math.cos(a)-t[0]*Math.sin(a);return[o,f]}function Q(t,m){const a=s=>{const n="touches"in s;n&&s.touches.length>1||t((e,i)=>{i.trackMouse&&!n&&(document.addEventListener(k,o),document.addEventListener(C,g));const{clientX:h,clientY:r}=n?s.touches[0]:s,u=R([h,r],i.rotationAngle);return i.onTouchStartOrOnMouseDown&&i.onTouchStartOrOnMouseDown({event:s}),Object.assign(Object.assign(Object.assign({},e),M),{initial:u.slice(),xy:u,start:s.timeStamp||0})})},o=s=>{t((n,e)=>{const i="touches"in s;if(i&&s.touches.length>1)return n;if(s.timeStamp-n.start>e.swipeDuration)return n.swiping?Object.assign(Object.assign({},n),{swiping:!1}):n;const{clientX:h,clientY:r}=i?s.touches[0]:s,[u,d]=R([h,r],e.rotationAngle),p=u-n.xy[0],w=d-n.xy[1],j=Math.abs(p),v=Math.abs(w),D=(s.timeStamp||0)-n.start,P=Math.sqrt(j*j+v*v)/(D||1),_=[p/(D||1),w/(D||1)],W=J(j,v,p,w),y=typeof e.delta=="number"?e.delta:e.delta[W.toLowerCase()]||N.delta;if(j<y&&v<y&&!n.swiping)return n;const S={absX:j,absY:v,deltaX:p,deltaY:w,dir:W,event:s,first:n.first,initial:n.initial,velocity:P,vxvy:_};S.first&&e.onSwipeStart&&e.onSwipeStart(S),e.onSwiping&&e.onSwiping(S);let V=!1;return(e.onSwiping||e.onSwiped||e[`onSwiped${W}`])&&(V=!0),V&&e.preventScrollOnSwipe&&e.trackTouch&&s.cancelable&&s.preventDefault(),Object.assign(Object.assign({},n),{first:!1,eventData:S,swiping:!0})})},f=s=>{t((n,e)=>{let i;if(n.swiping&&n.eventData){if(s.timeStamp-n.start<e.swipeDuration){i=Object.assign(Object.assign({},n.eventData),{event:s}),e.onSwiped&&e.onSwiped(i);const h=e[`onSwiped${i.dir}`];h&&h(i)}}else e.onTap&&e.onTap({event:s});return e.onTouchEndOrOnMouseUp&&e.onTouchEndOrOnMouseUp({event:s}),Object.assign(Object.assign(Object.assign({},n),M),{eventData:i})})},c=()=>{document.removeEventListener(k,o),document.removeEventListener(C,g)},g=s=>{c(),f(s)},b=(s,n)=>{let e=()=>{};if(s&&s.addEventListener){const i=Object.assign(Object.assign({},N.touchEventOptions),n.touchEventOptions),h=[[K,a,i],[G,o,Object.assign(Object.assign({},i),n.preventScrollOnSwipe?{passive:!1}:{})],[F,f,i]];h.forEach(([r,u,d])=>s.addEventListener(r,u,d)),e=()=>h.forEach(([r,u])=>s.removeEventListener(r,u))}return e},E={ref:s=>{s!==null&&t((n,e)=>{if(n.el===s)return n;const i={};return n.el&&n.el!==s&&n.cleanUpTouch&&(n.cleanUpTouch(),i.cleanUpTouch=void 0),e.trackTouch&&s&&(i.cleanUpTouch=b(s,e)),Object.assign(Object.assign(Object.assign({},n),{el:s}),i)})}};return m.trackMouse&&(E.onMouseDown=a),[E,b]}function Z(t,m,a,o){return!m.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?m.preventScrollOnSwipe!==a.preventScrollOnSwipe||m.touchEventOptions.passive!==a.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:o(t.el,m)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:o(t.el,m)})}function ee(t){const{trackMouse:m}=t,a=x.useRef(Object.assign({},M)),o=x.useRef(Object.assign({},N)),f=x.useRef(Object.assign({},o.current));f.current=Object.assign({},o.current),o.current=Object.assign(Object.assign({},N),t);let c;for(c in N)o.current[c]===void 0&&(o.current[c]=N[c]);const[g,b]=x.useMemo(()=>Q(O=>a.current=O(a.current,o.current),{trackMouse:m}),[m]);return a.current=Z(a.current,o.current,f.current,b),g}const te=({data:t,children:m})=>{const{t:a}=A(),o=300,f=$(),c=f?-10:0,[g,b]=x.useState(1),[O]=x.useState(t.length),[E,s]=x.useState(c),[n,e]=z(()=>({config:{duration:250},left:c,onRest:({value:r})=>{s(r.left)}})),i=ee({trackMouse:!0,onSwiped:({dir:r})=>{const u=n.left.get(),d=-Math.abs((t.length-1)*o),p=-(o*(t.length-1))+c;r==="Left"&&(u<=d?(e.start({left:c}),b(1)):(E===0||u<E)&&(e.start({left:-(o*g)+c}),b(w=>w+1))),r==="Right"&&(u>c?(e.start({left:p}),b(t.length)):(e.start({left:-(o*(g-2))+c}),b(w=>w-1)))},onSwiping:({dir:r,velocity:u})=>{const d=n.left.get(),p=-Math.abs((t.length-1)*o),w=f?120:80,j=115;if(r==="Left"){const v=d-j*u;p-w<v?e.start({left:v}):e.start({left:p-w})}if(r==="Right"){const v=d+j*u;d<c+w?e.start({left:v}):e.start({left:c+w})}}}),h=r=>{const u=d=>-((d-1)*o)+c;b(d=>d===1&&r===1?(e.start({left:u(t.length)}),t.length):d===t.length&&r===t.length?(e.start({left:c}),1):(e.start({left:u(r)}),r))};return l.jsxDEV("div",{...i,className:"carousel",children:l.jsxDEV("div",{className:"carousel__wrapper overflow-hidden",children:[l.jsxDEV(I.div,{style:{left:n.left.to(r=>`${r}px`),position:"relative"},className:"carousel__container d-inline-flex py-5 py-sm-4 px-0 px-sm-5",children:t.map((r,u)=>l.jsxDEV("div",{className:"carousel__item px-3",children:m(r)},`carousel__item${u}`,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:113,columnNumber:13},void 0))},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:105,columnNumber:9},void 0),l.jsxDEV("div",{className:"carousel__nav d-flex d-md-block justify-content-center pl-0 pr-4 pl-sm-5 pr-sm-0 ml-0 ml-sm-3 my-3",children:l.jsxDEV(L.SzPagination,{totalItemsCount:O,activePage:g,onChange:h,itemsCountPerPage:1,pageRangeDisplayed:1,variant:"custom",aria:{prevLabel:a("aria.previous"),nextLabel:a("aria.next")}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:119,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:118,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:104,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:103,columnNumber:5},void 0)},ne=({title:t,description:m,button:a,cards:o})=>l.jsxDEV("div",{className:"row no-gutters",children:[l.jsxDEV("div",{className:"col-12 col-sm-4 pr-3 pr-sm-0 pt-3",style:{zIndex:1},children:[l.jsxDEV(L.SzTypographie,{variant:"H1",size:"L",children:l.jsxDEV(T,{noWrap:!0,content:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:27,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:26,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4",children:l.jsxDEV(L.SzTypographie,{size:"XL",className:"text-dark",children:l.jsxDEV(T,{noWrap:!0,content:m},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:31,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:30,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:29,columnNumber:9},void 0),a&&l.jsxDEV(L.SzButton,{variant:"contained",border:"soft",className:"mt-3",children:l.jsxDEV(U,{to:a[0],className:"text-decoration-none text-white",children:l.jsxDEV(T,{noWrap:!0,content:a[1]},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:40,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:36,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:35,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:25,columnNumber:7},void 0),l.jsxDEV("div",{className:"col-12 col-sm-8",children:l.jsxDEV(te,{data:o,children:f=>{const c=f.title.toLowerCase().replace(/\s+/g,"-");return l.jsxDEV(U,{to:f.link[0],className:"text-decoration-none d-flex h-100","data-cy":`card-lame-${c}`,children:l.jsxDEV(X,{title:f.title,photo:f.photo,type:f.type,scale:f.scale,link:f.link},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:57,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:52,columnNumber:15},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:46,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:24,columnNumber:5},void 0),le=ne;export{le as E,ee as u};

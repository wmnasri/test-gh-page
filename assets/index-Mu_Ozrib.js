import{k as B,j as e,b as p,c as E,a as A}from"./index-BzhTyqaY.js";import{r as u,R as D}from"./index-0X8QCd_i.js";import{I as V}from"./index-E8Xemi00.js";import{n as z,c as L}from"./react-spring-web.esm-DsMzZgQq.js";import{u as C}from"./useInterweave-MFQvh887.js";import{M as T}from"./Tips-j9k3pi84.js";import{u as R}from"./useScrollTo-VXXfg99K.js";function $(s,c=!1){const[l,n]=u.useState(!1),o=window.screen.height/2,t=B(window.body);return u.useEffect(()=>{if(s){const{top:i,bottom:a}=s.getBoundingClientRect();c?a<=window.innerHeight&&a>0?n(!0):n(!1):i<=o&&a>0?n(!0):n(!1)}},[t,s,c]),l}function I({children:s,hash:c,index:l}){const n=R(),{active:o}=u.useContext(d),i=o>=l?"bold":"regular",a=w=>{w.preventDefault();const{hash:v}=w.target,f=document.querySelector(v).getBoundingClientRect(),{top:x}=f,r=window.screen.height/3;n(x+window.scrollY-r)};return e.jsxDEV("li",{className:"py-2 my-2",children:e.jsxDEV(p.SzTypographie,{tag:"span",weight:i,children:e.jsxDEV("a",{role:"button","aria-pressed":o===l,onClick:a,href:c,className:"text-decoration-none",children:s},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/Link.jsx",lineNumber:25,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/Link.jsx",lineNumber:24,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/Link.jsx",lineNumber:23,columnNumber:5},this)}const M=z.div`
  position: sticky;
  top: ${({top:s})=>s??"140px"};
`,O=z.div`
  position: absolute;
  width: 4px;
  height: 100%;
  background-color: var(--gray-500);
  &:after {
    content: '';
    position: absolute;
    background-color: var(--expert-blue);
    width: 4px;
    height: ${({percentage:s})=>s===100?s:s-10}%;
    transition: ease 0.25s height;
  }
`;function g({small:s,top:c}){const{links:l,percentage:n}=u.useContext(d),o=E("d-none d-lg-block list",{"col-4 pt-4":!s,"col-3 pt-6":s});return e.jsxDEV("div",{className:o,children:e.jsxDEV(M,{top:c,children:[e.jsxDEV(O,{percentage:n},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/StickyList.jsx",lineNumber:39,columnNumber:9},this),e.jsxDEV("nav",{"aria-label":"Table of contents",children:e.jsxDEV("ul",{className:"list-unstyled pl-4",children:l.map((t,i)=>e.jsxDEV(I,{hash:`#heading-${i}`,index:i,children:t},`heading-${i}`,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/StickyList.jsx",lineNumber:43,columnNumber:15},this))},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/StickyList.jsx",lineNumber:41,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/StickyList.jsx",lineNumber:40,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/StickyList.jsx",lineNumber:38,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/StickyList.jsx",lineNumber:37,columnNumber:5},this)}function P({id:s,className:c,children:l,isLastElement:n}){const o=u.useRef(),{listenToScroll:t}=u.useContext(d),i=$(o.current,n),a=A("block-content px-3 py-5 p-md-5 bg-white rounded-3 mt-3",c);return u.useEffect(()=>{t(o.current,i)},[i]),e.jsxDEV("div",{ref:o,id:s,className:a,children:l},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/Content.jsx",lineNumber:20,columnNumber:5},this)}const d=D.createContext();function J({links:s,items:c,children:l,isLoading:n,Skeleton:o}){const t=s.length,{transform:i}=C(),a=u.useCallback(()=>Object.fromEntries(Array(t).fill(!1).map((r,m)=>[m,r])),[t]),[w,v]=u.useState(a),N=Object.values(w).lastIndexOf(!0),f=(N+1)/t*100,x=(r,m)=>{const{parentNode:b}=r,j=Array.from(b.children).indexOf(r);v(k=>({...k,[j]:m}))};if(n)return e.jsxDEV(o,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:45,columnNumber:12},this);if(l){const r=A({"col-12 col-lg-9":t>1,"col-12":t<=1});return e.jsxDEV("div",{className:"sticky-and-block row no-gutters",children:e.jsxDEV(d.Provider,{value:{listenToScroll:x,percentage:f,links:s,active:N},children:[t>1&&e.jsxDEV(g,{small:!0,top:"195px"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:59,columnNumber:30},this),e.jsxDEV("div",{className:r,children:l},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:56,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:55,columnNumber:7},this)}return e.jsxDEV("div",{className:"sticky-and-block row no-gutters bg-blue-07",children:e.jsxDEV(d.Provider,{value:{listenToScroll:x,percentage:f,links:s,active:N},children:[e.jsxDEV(g,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:71,columnNumber:9},this),e.jsxDEV("div",{className:"col-12 col-lg-8",children:c.map((r,m)=>{const{title:b,subtitle:j,description:k,btn:h,tips:y}=r,S=`heading-${m}`;return e.jsxDEV(P,{id:S,children:[e.jsxDEV(p.SzTypographie,{variant:"H1",size:"XL",tag:"h2",weight:"bold",children:b},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:78,columnNumber:17},this),e.jsxDEV(p.SzTypographie,{variant:"H4",size:"L",weight:"regular",className:"mb-4",children:j},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(V,{transform:i,content:k,noWrap:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:89,columnNumber:17},this),y&&e.jsxDEV(T,{children:y},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:94,columnNumber:26},this),h&&e.jsxDEV(L,{className:"mt-4",variant:"outlined",border:"soft",to:h.link,children:h.label},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:96,columnNumber:19},this)]},S,!0,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:77,columnNumber:15},this)})},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:68,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/modules/StickyAndBlock/index.jsx",lineNumber:67,columnNumber:5},this)}export{P as C,J as M};

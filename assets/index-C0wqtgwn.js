import{j as e,b as i,c as ae}from"./index-BAjkLHRS.js";import{r as v,R as Q}from"./index-Djf8kdDz.js";import{O as W,d as k,o as Z,aE as le,_ as H,W as Y,V as ce,$ as A,R as me,k as R,A as O,q as ue,aO as de,aP as X,aN as B,aQ as ve,H as Ne,x as J,u as we,C as ee,U as M}from"./react-spring-web.esm-BXduOQz-.js";import{P as se,u as fe}from"./index-B8MoqsC_.js";import{F as _}from"./FormError-B1L9786s.js";import{f as je}from"./index-CnVkoL_H.js";import{u as xe}from"./index-CBFgOCUx.js";import{u as g}from"./useTranslation-Cclpl_OC.js";import{u as be}from"./useScrollTo-VXXfg99K.js";import"./index-BcQ2dhrg.js";import"./index-CCqWUn_M.js";import"./throttle-BPCfK1uX.js";import"./_baseIsEqual-8OBVMFu7.js";import"./iframe-fNLlJobk.js";import"../sb-preview/runtime.js";/* empty css              *//* empty css                         */function pe(r,t){switch(t.type){case"clientData":return{...r,clientData:t.payload};case"contactData":return{...r,contactData:t.payload};case"contactSubjects":return{...r,contactSubjects:t.payload};case"infosTown":return{...r,infosTown:{...r.infosTown,...t.payload}};case"infosStreet":return{...r,infosStreet:t.payload};case"isError":return{...r,isError:t.payload??!0};case"isErrorForm":return{...r,isErrorForm:t.payload??!0};case"isIncluded":return{...r,isIncluded:t.payload};case"isInclusion":return{...r,isInclusion:t.payload};case"isLoading":return{...r,isLoading:t.payload};case"isSearch":return{...r,isSearch:t.payload};case"isSearching":return{...r,isSearching:t.payload};case"isShowModal":return{...r,isShowModal:t.payload};case"isSuccess":return{...r,isSuccess:t.payload??!0};case"isSearchAuto":return{...r,isSearchAuto:t.payload};case"reset":return{...re};default:throw new Error("Not a reducer")}}const he=W().shape({name:k().required("Veuillez saisir votre nom"),surname:k().required("Veuillez saisir votre prénom"),mail:k().email("E-mail invalide").required("Veuillez saisir votre e-mail"),mobile:k().matches(je,"Le numéro de téléphone mobile n'est pas valide").required("Veuillez saisir votre mobile"),refCli:k().matches(/^$|^98\d{10}$/,{message:"La référence client est un nombre à 12 chiffres et débutant par 98",excludeEmptyString:!0}),address:k().max(250,"L'adresse ne peut dépasser 250 caractères"),subject:W().required("Veuillez choisir l'objet"),message:k().max(4e3,"Le message ne peut dépasser 4000 caractères").required("Veuillez saisir votre message")});function Se(r){const t=Z(),{t:s}=g(),[d,a]=v.useState([]),[n,u]=v.useState(""),[N,x]=v.useState(!1),S={"file-invalid-type":s("files.fileFormatNotSupported"),"file-too-large":s("files.fileSizeExceedsAuthorizedLimit")},{getRootProps:o,getInputProps:m,open:h,fileRejections:V}=xe({noClick:!0,noKeyboard:!0,multiple:!1,maxSize:le,accept:"image/jpeg, image/png, .pdf, .doc",onDropAccepted:p=>{a(p),u(""),x(!0),r.onFileSelected(p)},onDropRejected:p=>{const[f]=p;u(S[f.errors[0].code])}}),E=p=>()=>{const f=[...d];f.splice(f.indexOf(p),1),a(f),u(""),r.onFileSelected([]),r.onFileDeleted([])},y=d.map(p=>e.jsxDEV(i.SzTypographie,{variant:"h2",weight:"bold",className:"text-truncate",children:p.name},p.name,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:49,columnNumber:5},this)),l=ae("row",{"bg-light":r.bglight});return e.jsxDEV("div",{className:l,children:[e.jsxDEV("div",{className:"col-5 col-md-12",children:e.jsxDEV("div",{...o(),children:[e.jsxDEV("input",{...m()},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:67,columnNumber:11},this),e.jsxDEV(i.SzButton,{variant:"text",className:"m-0",icon:N?"bin-2-alternate":"attachment",onClick:N?E(0):h,children:e.jsxDEV(i.SzTypographie,{variant:"button",weight:"light",children:N?s("files.delete",{context:t?"file":""}):s("files.add",{context:t?"file":""})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:66,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:65,columnNumber:7},this),e.jsxDEV("div",{className:"col-7 col-md-12 d-flex align-items-center",children:[!N&&e.jsxDEV(i.SzTypographie,{variant:"caption",weight:"regular",children:s("files.extensionsAllowedAndMaxSize")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:84,columnNumber:11},this),N&&y,n&&e.jsxDEV(i.SzTypographie,{variant:"caption",color:"danger",className:"mb-2",children:n},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:90,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:82,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/AddFile.jsx",lineNumber:64,columnNumber:5},this)}function Ee({address:r,email:t,mobile:s,reference:d,city:a,zipcode:n,inseecode:u,subjects:N,idBanco:x}){const{track:S}=H(),{t:o}=g(),[m,h]=v.useState([]),[V,E]=v.useContext(z),{isErrorForm:y}=V,{turnstile:l,footer:p}=window.tsme_data,{privacy_policy:f}=p.links_bottom,C=Q.createRef(),j=3,c="unknown",{isLoading:F,...L}=Y(w=>R.post(O.CUSTOMER_SERVICE_POST_VALIDATE_FORM,w),{onSuccess:(w,b)=>{const{message:D}=w.data;if(D==="KO"){E({type:"isErrorForm"});return}S("CUSTOMER_SERVICE_2",{sz_form_contact_object:b.subject,sz_form_contact_cp:b.postalCode,sz_form_contact_commune:b.locality}),E({type:"isSuccess"})},onError:()=>{E({type:"isErrorForm"})}}),P=w=>{var D;const b={...w,localityId:u,idBanco:x,subject:w.subject.label,civility:c,firstFile:m[0]??[],secondFile:m[1]??[],thirdFile:m[2]??[]};l!=null&&l.enable&&(b["g-recaptcha-response"]=(D=C==null?void 0:C.current)==null?void 0:D.getValue()),L.mutate(b)},q=(w,b)=>{w&&(m[b]=w[0],h(m))},U=w=>{m[w]=[],h(m)},te=()=>{j>m.length&&h([...m,[]])};return e.jsxDEV(ce,{initialValues:{name:"",surname:"",mail:t||"",mobile:s||"",refCli:d||"",address:r||"",postalCode:n||"",locality:a||"",subject:null,message:""},onSubmit:P,enableReinitialize:!0,validationSchema:he,validateOnBlur:!0,validateOnMount:!0,children:({values:w,errors:b,touched:D,handleChange:T,handleBlur:I,handleSubmit:ie,isValid:G,setFieldValue:ne,submitForm:Re})=>e.jsxDEV("form",{onSubmit:ie,children:[e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"cf-turnstile","data-sitekey":l==null?void 0:l.siteKey,"data-theme":"light"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:143,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-lg-6",children:[e.jsxDEV(i.SzInput,{name:"name",id:"name",value:w.name,autocomplete:"family-name",onChange:T,onBlur:I,label:o("customerService.label_lastName"),placeholder:o("customerService.placeholder_lastName"),variant:"outlined",valid:D.name&&!b.name},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:149,columnNumber:17},this),e.jsxDEV(_,{field:"name"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:148,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-lg-6",children:[e.jsxDEV(i.SzInput,{name:"surname",id:"surname",value:w.surname,autocomplete:"given-name",onChange:T,onBlur:I,label:o("customerService.label_firstName"),placeholder:o("customerService.placeholder_firstName"),variant:"outlined",valid:!b.surname},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:164,columnNumber:17},this),e.jsxDEV(_,{field:"surname"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:176,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:142,columnNumber:13},this),e.jsxDEV("div",{className:"row mt-2 mt-lg-3",children:[e.jsxDEV("div",{className:"col-12 col-lg-6",children:[e.jsxDEV(i.SzInput,{name:"mail",id:"mail",value:w.mail,autocomplete:"email",onChange:T,onBlur:I,label:o("customerService.label_mail"),placeholder:o("customerService.placeholder_mail"),variant:"outlined",valid:!b.mail},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:181,columnNumber:17},this),e.jsxDEV(_,{field:"mail"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:193,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:180,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-lg-6",children:[e.jsxDEV(i.SzInput,{name:"mobile",id:"mobile",value:w.mobile,autocomplete:"tel",onChange:T,onBlur:I,label:o("customerService.label_mobile"),placeholder:o("customerService.placeholder_mobile"),variant:"outlined",valid:!b.mobile},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:196,columnNumber:17},this),e.jsxDEV(_,{field:"mobile"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:195,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:179,columnNumber:13},this),e.jsxDEV("div",{className:"row mt-2 mt-lg-3",children:[e.jsxDEV("div",{className:"col-12 col-lg-6",children:[e.jsxDEV(i.SzInput,{name:"refCli",id:"refCli",autocomplete:"off",value:w.refCli,onChange:T,onBlur:I,label:o("customerService.label_refCli"),placeholder:o("customerService.placeholder_refCli"),variant:"outlined",valid:!b.refCli},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:213,columnNumber:17},this),e.jsxDEV(_,{field:"refCli"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:225,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:212,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-lg-6",children:[e.jsxDEV(i.SzInput,{name:"address",id:"address",value:w.address,autocomplete:"address-line1",onChange:T,onBlur:I,label:o("customerService.label_address"),placeholder:o("customerService.placeholder_address"),variant:"outlined",valid:!b.address,readOnly:r},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:228,columnNumber:17},this),e.jsxDEV(_,{field:"address"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:241,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:227,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:211,columnNumber:13},this),e.jsxDEV("div",{className:"row mt-2 mt-lg-3",children:[e.jsxDEV("div",{className:"col-12 col-lg-6",children:e.jsxDEV(i.SzInput,{name:"postalCode",id:"postalCode",value:w.postalCode,autocomplete:"postal-code",label:o("customerService.label_postalCode"),variant:"outlined",valid:!b.postalCode,readOnly:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:246,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:245,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-lg-6",children:e.jsxDEV(i.SzInput,{name:"locality",id:"locality",value:w.locality,autocomplete:"country-name",label:o("customerService.label_locality"),variant:"outlined",valid:!b.locality,readOnly:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:258,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:257,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:244,columnNumber:13},this),e.jsxDEV("div",{className:"row mt-2 mt-lg-3",children:e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV("label",{id:"subject-aria-label",className:"mb-1",htmlFor:"subjectInput",children:e.jsxDEV(i.SzTypographie,{variant:"body",size:"M",className:"text-primary-dark mb-0",children:o("customerService.label_subject")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:277,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:272,columnNumber:17},this),e.jsxDEV(i.SzSelect,{name:"subject",id:"subject",placeholder:o("customerService.placeholder_subject"),value:w.subject,options:N,onChange:$=>{ne("subject",$)},onBlur:I,isSearchable:!1,variant:"outlined",inputId:"subjectInput","aria-labelledby":"subject-aria-label"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:285,columnNumber:17},this),e.jsxDEV(_,{field:"subject"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:300,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:271,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:270,columnNumber:13},this),e.jsxDEV("div",{className:"row mt-2 mt-lg-3",children:e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV(i.SzTextArea,{field:"message",label:o("customerService.label_subject"),name:"message",id:"message",placeholder:o("customerService.placeholder_textArea"),value:w.message,onChange:T,maxLength:4e3,variant:"outlined",valid:D.message&&!b.message},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:305,columnNumber:17},this),e.jsxDEV(_,{field:"message"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:317,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:304,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:303,columnNumber:13},this),e.jsxDEV("div",{id:"sc-files",className:"mt-3",children:[m.length<j&&e.jsxDEV(i.SzButton,{variant:"text",className:"",icon:"add-circle",alignIcon:"right",onClick:te,children:o("files.adding_files",{count:j})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:322,columnNumber:17},this),m.map(($,K)=>e.jsxDEV(Se,{onFileSelected:oe=>q(oe,K),onFileDeleted:()=>U(K)},K,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:334,columnNumber:19},this))]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:320,columnNumber:13},this),f&&e.jsxDEV("div",{className:"row mt-2 mt-lg-3",children:e.jsxDEV("div",{className:"col",children:e.jsxDEV(i.SzTypographie,{variant:"caption",size:"M",weight:"medium",className:"text-dark",children:e.jsxDEV(A,{i18nKey:"customerService.text_RGPD",children:["The purposes of the processing relating to your personal, digital and telephone data, as well as the recipients of this processing and the extent of your rights can be consulted in the",e.jsxDEV("a",{href:f.link,className:"text-decoration-none font-bold",children:"Privacy Policy"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:356,columnNumber:23},this),"of the site."]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:351,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:345,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:344,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:343,columnNumber:15},this),e.jsxDEV("div",{className:"text-center mt-4 mt-lg-5",children:e.jsxDEV(i.SzButton,{type:"submit",variant:"contained",border:"soft",isDisabled:!G||Object.keys(D).length===0,loader:F,tabIndex:!G||Object.keys(D).length===0?0:null,children:o("customerService.button_submit")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:369,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:368,columnNumber:13},this),y&&e.jsxDEV(i.SzTypographie,{variant:"caption",color:"danger",className:"my-3",children:o("errors.techError")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:383,columnNumber:15},this),(l==null?void 0:l.enable)&&e.jsxDEV(me,{ref:C,size:"invisible",sitekey:l==null?void 0:l.siteKey,badge:"bottomleft"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:388,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:141,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/serviceClient/ContactForm.jsx",lineNumber:105,columnNumber:5},this)}function ge(){const{t:r}=g();return e.jsxDEV("div",{className:"col-12 rounded-3 bg-white px-3 py-4 p-lg-5 mt-3",children:[e.jsxDEV(i.SzTypographie,{color:"dark",children:[e.jsxDEV("span",{className:"sr-only",id:"contact-error",tabIndex:"-1",children:r("aria.contact_error")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/error.jsx",lineNumber:11,columnNumber:9},this),e.jsxDEV(A,{i18nKey:"edmc.error.cannot_respond_address",children:["We cannot respond to your request for this address",e.jsxDEV(i.SzTypographie,{tag:"span",weight:"bold",className:"d-inline",children:"Please contact your customer service."},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/error.jsx",lineNumber:16,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/error.jsx",lineNumber:14,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/error.jsx",lineNumber:10,columnNumber:7},this),e.jsxDEV(i.SzTypographie,{color:"dark",children:e.jsxDEV(A,{i18nKey:"edmc.error.contact_customer_service",children:["For information on water and sanitation services,",e.jsxDEV(i.SzTypographie,{tag:"span",weight:"bold",className:"d-inline",children:"contact your town hall."},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/error.jsx",lineNumber:24,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/error.jsx",lineNumber:22,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/error.jsx",lineNumber:21,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/error.jsx",lineNumber:9,columnNumber:5},this)}function Ce(){const{t:r}=g(),[,,{resetSearch:t}]=v.useContext(z);return e.jsxDEV("div",{className:"col-12 rounded-3 bg-white px-3 py-4 p-lg-5 mt-3","data-cy":"customer-service-success",children:[e.jsxDEV("span",{className:"sr-only",id:"contact-success",tabIndex:"-1",children:r("customerService.request_sent")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/success.jsx",lineNumber:12,columnNumber:7},this),e.jsxDEV(i.SzTypographie,{variant:"H3",size:"L",weight:"black",className:"mb-4",tag:"h2",children:r("customerService.request_sent")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/success.jsx",lineNumber:15,columnNumber:7},this),e.jsxDEV(i.SzButton,{variant:"text",icon:"messages-bubble-question",onClick:t,children:r("customerService.new_request")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/success.jsx",lineNumber:24,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/success.jsx",lineNumber:11,columnNumber:5},this)}const ze=()=>{const{t:r}=g(),[t]=v.useContext(z),{contactData:s}=t,{horaireCrc:d,telCrcJour:a}=s,{track:n}=H();if(!a)return null;v.useEffect(()=>{n("HELP_CONTACT_4",{sz_click_cta_tel_type:B.client})},[]);const u=()=>{n("HELP_CONTACT_5",{sz_click_cta_tel_type:B.client})};return e.jsxDEV("div",{id:"telclient",children:[e.jsxDEV(i.SzTypographie,{id:"telclient-title",variant:"H3",size:"L",weight:"medium",className:"text-center text-lg-left",tag:"h2",children:r("customerService.subtitle_phone")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:42,columnNumber:7},void 0),e.jsxDEV("div",{className:"row align-items-center mt-2 mt-lg-3",children:[e.jsxDEV("div",{className:"col-12 col-lg-8",children:e.jsxDEV(i.SzTypographie,{variant:"body",size:"XL",className:"text-dark",id:"customer-service-phone-info",children:e.jsxDEV(A,{i18nKey:"helpAndContact.contact.text_result",values:{horaireCrc:d},components:[e.jsxDEV(i.SzTypographie,{weight:"bold",className:"d-inline",tag:"span"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:64,columnNumber:17},void 0)]},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:60,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:54,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:53,columnNumber:9},void 0),e.jsxDEV("div",{className:"col-12 col-lg-4",children:e.jsxDEV(se,{onClick:u,descriptionId:"telclient-title",name:"contact",phone:a,infoTextColor:"primary-dark"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:70,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:69,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:52,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:41,columnNumber:5},void 0)},ye=()=>{const{t:r}=g(),{setValueLA:t}=fe({enableEmbedCall:!1}),s=()=>{t(Ne.EMERGENCY_SEQUENCE)};return e.jsxDEV("div",{className:"mt-4 text-center text-lg-left",children:[e.jsxDEV(i.SzTypographie,{variant:"body",size:"XL",className:"text-dark text-center text-lg-left",children:r("customerService.text_bot")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:93,columnNumber:7},void 0),e.jsxDEV(i.SzButton,{variant:"contained",icon:"messages-bubble-question",border:"soft",alignIcon:"right",onClick:s,children:r("customerService.button_bot")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:100,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:92,columnNumber:5},void 0)},De=({helpBot:r})=>{const{t}=g(),[s]=v.useContext(z),{contactData:d}=s,{telCrcUrgence:a}=d,{track:n}=H();if(!a)return null;v.useEffect(()=>{n("HELP_CONTACT_4",{sz_click_cta_tel_type:B.urgent})},[]);const u=()=>{n("HELP_CONTACT_5",{sz_click_cta_tel_type:B.urgent})};return e.jsxDEV("div",{id:"telurgence",children:[e.jsxDEV(i.SzTypographie,{id:"telurgence-title",variant:"H3",size:"L",weight:"medium",className:"text-center text-lg-left",tag:"h2",children:t("customerService.subtitle_emergency")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:134,columnNumber:7},void 0),e.jsxDEV("div",{className:"row align-items-center mt-2 mt-lg-3",children:[e.jsxDEV("div",{className:"col-12 col-lg-8",children:e.jsxDEV(i.SzTypographie,{variant:"body",size:"XL",className:"text-dark text-center text-lg-left",tabIndex:"0",children:e.jsxDEV(A,{i18nKey:"customerService.text_emergency",components:[e.jsxDEV(i.SzTypographie,{weight:"bold",className:"d-inline",tag:"span"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:155,columnNumber:17},void 0)]},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:152,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:146,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:145,columnNumber:9},void 0),e.jsxDEV("div",{className:"col-12 col-lg-4",children:e.jsxDEV(se,{onClick:u,descriptionId:"telurgence-title",name:"emergency",phone:a,infoTextColor:"primary-dark"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:161,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:160,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:144,columnNumber:7},void 0),r&&e.jsxDEV(ye,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:170,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:133,columnNumber:5},void 0)},Ve=()=>{var u,N,x;const{t:r}=g(),[t]=v.useContext(z),{clientData:s,contactSubjects:d,infosTown:a}=t,n={address:(u=s==null?void 0:s.adresseDesserte)==null?void 0:u.adresseDesserte1,email:s==null?void 0:s.email,mobile:s==null?void 0:s.telPortable,reference:(s==null?void 0:s.reference)&&"98"+(s==null?void 0:s.reference),city:((N=s==null?void 0:s.adresseDesserte)==null?void 0:N.villeDesserte)||(a==null?void 0:a.name),zipcode:((x=s==null?void 0:s.adresseDesserte)==null?void 0:x.cPDesserte)||(a==null?void 0:a.zipcode),inseecode:a==null?void 0:a.inseecode,subjects:d,idBanco:s==null?void 0:s.idBanco};return e.jsxDEV("div",{id:"emailContact",children:[e.jsxDEV("div",{className:"row",children:e.jsxDEV("div",{className:"col",children:[e.jsxDEV("span",{className:"sr-only",children:[r("customerService.subtitle_email")," ",r("aria.form")]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:195,columnNumber:11},void 0),e.jsxDEV(i.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"text-center text-lg-left",tag:"h2",children:r("customerService.subtitle_email")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:198,columnNumber:11},void 0),e.jsxDEV(i.SzTypographie,{variant:"body",size:"XL",className:"text-dark text-center text-lg-left",children:e.jsxDEV(A,{i18nKey:"customerService.text_email",children:["Prefer to write to us?",e.jsxDEV(i.SzTypographie,{weight:"bold",tag:"span",className:"d-block",children:"Complete the following form by filling in all the requested fields:"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:214,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:212,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:207,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:194,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:193,columnNumber:7},void 0),e.jsxDEV(Ee,{...n},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:222,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:192,columnNumber:5},void 0)},_e=()=>{const{t:r}=g(),[t]=v.useContext(z),{contactData:s}=t,{communeAccueil:d,horaireAccueil:a,rueAccueil:n}=s;return e.jsxDEV("div",{id:"agence",children:[e.jsxDEV(i.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"text-center",tag:"h2",children:r("customerService.subtitle_agency")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:235,columnNumber:7},void 0),e.jsxDEV("div",{className:"col-12 col-lg-9 mx-auto mt-3 border-small border-primary-dark rounded-2 p-3 px-lg-4 py-lg-3 d-flex align-items-start align-items-lg-center justify-content-center",children:[e.jsxDEV(i.SzIcon,{icon:"pin-location-1",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:245,columnNumber:9},void 0),e.jsxDEV(i.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"text-left text-lg-center ml-3 mb-0",tag:"p",children:[n,d!==""&&` - ${d}`]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:246,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:244,columnNumber:7},void 0),e.jsxDEV("div",{className:"col-12 col-lg-10 mx-auto mt-4",children:e.jsxDEV(i.SzTypographie,{variant:"body",size:"M",className:"text-dark text-center mb-0",children:a},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:258,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:257,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:234,columnNumber:5},void 0)},Fe=()=>e.jsxDEV("div",{className:"bg-blue-sky-light border-small border-blue-clear rounded-2",children:e.jsxDEV("div",{className:"p-3 px-lg-4 py-lg-5 d-flex align-items-start",children:[e.jsxDEV(i.SzIcon,{className:"info-icon text-blue-sky",icon:"information-circle",variant:"bold"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:273,columnNumber:7},void 0),e.jsxDEV(i.SzTypographie,{size:"XL",className:"ml-4 mb-0",children:e.jsxDEV(A,{i18nKey:"customerService.text_info",children:["Your customer service is your preferred contact for all your complaints. However, if you are not satisfied with the answers you have received,",e.jsxDEV("a",{href:ve,className:"underline",children:"other amicable recourses"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:283,columnNumber:11},void 0)," ","are possible."]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:279,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:278,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:272,columnNumber:5},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:271,columnNumber:3},void 0);function Te(){const[r]=v.useContext(z),{contactData:t,clientData:s,infosTown:d,isBotEnabled:a,isError:n,isSuccess:u}=r,{hash:N}=ue(),x=be(),S=(s==null?void 0:s.adresseDesserte.villeDesserte)||(d==null?void 0:d.name),{t:o}=g();return v.useEffect(()=>{if(t&&N)try{const m=document.getElementById(N.substring(1)),h=de(m);x(h)}catch{console.error("Le scroll n'a pas pu être effectué")}},[t]),v.useEffect(()=>{t&&X("contact-result"),u&&X("contact-success"),n&&X("contact-error")},[t,u,n]),u?e.jsxDEV(Ce,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:333,columnNumber:12},this):n?e.jsxDEV(ge,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:337,columnNumber:12},this):t?e.jsxDEV("div",{id:"customer-service-result",className:"col-12 rounded-3 bg-white px-3 py-4 px-lg-6 py-lg-5 mt-3",children:[e.jsxDEV("span",{className:"sr-only",id:"contact-result",tabIndex:-1,children:o("aria.city_result",{town:S})},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:346,columnNumber:9},this),e.jsxDEV(ze,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:349,columnNumber:9},this),e.jsxDEV("hr",{className:"contact-divider w-100"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:350,columnNumber:9},this),e.jsxDEV(De,{helpBot:a},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:351,columnNumber:9},this),e.jsxDEV("hr",{className:"contact-divider w-100"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:352,columnNumber:9},this),e.jsxDEV(Ve,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:353,columnNumber:9},this),e.jsxDEV("hr",{className:"contact-divider w-100"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:354,columnNumber:9},this),e.jsxDEV(_e,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:355,columnNumber:9},this),e.jsxDEV("hr",{className:"contact-divider w-100"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:356,columnNumber:9},this),e.jsxDEV(Fe,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:357,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/result/index.jsx",lineNumber:342,columnNumber:7},this):null}function Ie(){const{t:r}=g(),[t,s,{onValidateTown:d,resetSearch:a}]=v.useContext(z),{infosContract:n,infosTown:u,isSearching:N,isLoading:x,contactData:S,isSuccess:o,isError:m}=t,h=S||o||m,V=Y(({inseecode:f})=>R.get(O.CUSTOMER_SERVICE_GET_CONTROL_INCLUSION,{params:{inseeCode:f}}),{onSuccess:({data:f},C)=>{const{isError:j,isTownIncluded:c}=f;j?s({type:"isError"}):c?(s({type:"isIncluded",payload:c}),s({type:"isShowModal",payload:!0})):d(C)},onError:()=>{s({type:"isError"})},onSettled:()=>{s({type:"isLoading",payload:!1})}}),E=(f,C,j)=>{s({type:"infosTown",payload:f}),s({type:"isSearching",payload:C}),s({type:"isLoading",payload:j})},y=f=>{E(f,!1,!0),V.mutate(f)},l=({target:f})=>{E({text:f.value},!0,!1)},p=()=>{s({type:"isSearching",payload:!1})};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(i.SzTypographie,{variant:"H1",size:"XL",weight:"black",color:"white",className:"text-center text-uppercase",children:r("customerService.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:77,columnNumber:7},this),e.jsxDEV("div",{className:"col-12 mt-4 mt-lg-5 p-3 py-4 py-lg-5 rounded-3 bg-white",children:[e.jsxDEV(i.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"text-center mb-4",tag:"h2",children:r("customerService.subtitle",{context:"address"})},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:87,columnNumber:9},this),e.jsxDEV("div",{className:"col-12 col-lg-5 offset-lg-3",children:e.jsxDEV(i.SzTypographie,{variant:"body",size:"L",className:"mb-2 text-center text-dark",children:r("customerService.label",{context:"search"})},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:97,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-12 col-lg-5 offset-lg-3",children:e.jsxDEV(J,{name:"search-address",value:(u==null?void 0:u.text)||(n==null?void 0:n.municipality_label)||"",onChange:l,placeholder:r("edmc.search.search_address"),className:"pr-0",type:"town",onClick:y,withCapaddress:!1,isSearching:N,isLoading:x,onClickAway:p,disabled:h},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:109,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:108,columnNumber:11},this),h&&e.jsxDEV("div",{className:"col-12 col-lg-4 text-center text-lg-left",children:e.jsxDEV(i.SzButton,{variant:"text",className:"text-primary-dark sz-typo-caption md",size:"S",onClick:a,"data-cy":"change-city",children:r("helpAndContact.contact.button_change")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:126,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:107,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:86,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/index.jsx",lineNumber:76,columnNumber:5},this)}function ke({isLoading:r}){const{t}=g(),[s,d]=v.useState(!1),[a,n,{onValidateStreet:u}]=v.useContext(z),{infosTown:N,isShowModal:x}=a,[S,o]=v.useState(""),m={locality:N.name,localityId:N.inseecode,postalCode:N.zipcode},h=()=>{o(""),n({type:"isLoading",payload:!1}),n({type:"isShowModal",payload:!1})},V=l=>{const{text:p}=l;o(p),n({type:"infosStreet",payload:l}),d(!1)},E=({target:l})=>{l.value.length>2&&!s&&d(!0),o(l.value)},y=()=>{u(N),o("")};return v.useEffect(()=>{const l=document.getElementById("searchInput-street");l&&l.focus()},[x]),e.jsxDEV(i.SzModal,{show:x,handleClose:h,size:"lg",border:"smooth",centered:!0,title:"",children:e.jsxDEV("div",{className:"p-5",children:[e.jsxDEV(i.SzTypographie,{variant:"H3",size:"L",weight:"medium",children:t("inclusion.addressConcerned")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/inclusion.jsx",lineNumber:68,columnNumber:9},this),e.jsxDEV(i.SzTypographie,{color:"dark",children:t("inclusion.addressMoreInfo")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/inclusion.jsx",lineNumber:71,columnNumber:9},this),e.jsxDEV(J,{name:"search-inclusion-address",value:S,onChange:E,onClick:V,className:"pr-0",label:t("inclusion.address"),type:"street",address:m,isSearching:s},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/inclusion.jsx",lineNumber:74,columnNumber:9},this),e.jsxDEV("div",{className:"text-center mt-5",children:e.jsxDEV(i.SzButton,{"data-cy":"submit-inclusion-address",variant:"contained",border:"soft",onClick:y,loader:r,children:t("validate")},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/inclusion.jsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/inclusion.jsx",lineNumber:85,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/inclusion.jsx",lineNumber:67,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/search/inclusion.jsx",lineNumber:59,columnNumber:5},this)}const Ae="lderiuc_service_client",Le={inseecode:null,zipcode:null,name:null,text:""},re={clientData:null,contactData:null,infosStreet:null,infosTown:Le,isBotEnabled:!1,isError:!1,isDashboard:!1,isInclusion:!1,isLoading:!1,isSearch:!0,isSearching:!1,isShowModal:!1,isSearchAuto:!0},z=Q.createContext([]),Me=()=>{const r=we(),t=Z();return e.jsxDEV(ee,{className:"background-overflow",children:[t&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(M,{color:"default",size:"lg",position:"19"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:49,columnNumber:11},void 0),e.jsxDEV(M,{color:"green",size:"lg",position:"20"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:50,columnNumber:11},void 0),e.jsxDEV(M,{color:"green",size:"sm",position:"21"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:51,columnNumber:11},void 0),e.jsxDEV(M,{color:"light",size:"lg",position:"22"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:52,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:48,columnNumber:9},void 0),r&&e.jsxDEV(M,{color:"dark",size:"sm",position:"24"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:55,columnNumber:20},void 0),e.jsxDEV(M,{color:"light",size:"sm",position:"23"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:56,columnNumber:7},void 0),e.jsxDEV("div",{className:"rounded-img-1"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:57,columnNumber:7},void 0),e.jsxDEV("div",{className:"rounded-img-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:58,columnNumber:7},void 0),e.jsxDEV("div",{className:"d-none d-lg-block rounded-img-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:59,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:46,columnNumber:5},void 0)};function Pe(){const{track:r}=H(),{isConnected:t,chatbot:s}=window.tsme_data,d=j=>({...j,isBotEnabled:s==null?void 0:s.enabled}),[a,n]=v.useReducer(pe,re,d),u=v.useMemo(()=>[a,n],[a,n]),{contactData:N,infosStreet:x,isSearchAuto:S}=u[0];v.useEffect(()=>{t&&!N&&(n({type:"isLoading",payload:!0}),m.mutate())},[]);const o=({codeInsee:j,adresseDesserte:c})=>{const{cPDesserte:F,villeDesserte:L}=c;n({type:"infosTown",payload:{inseecode:j,zipcode:F,name:L,text:L}})},m=Y(j=>{if(t&&S)return R.post(O.CUSTOMER_SERVICE_DATA_CONNECTED);const c={idUrlFromTypePage:Ae};return R.post(O.CUSTOMER_SERVICE_DATA,{...c,...j})},{onSuccess:({data:j})=>{const{response:c}=j;if(c!=null&&c.isError){if(t)return;n({type:"isError"})}else{if(t&&S){o(c);const{adresseDesserte:F,email:L,reference:P,telPortable:q,idBanco:U}=c;n({type:"clientData",payload:{adresseDesserte:F,email:L,reference:P,telPortable:q,idBanco:U}})}else{const{idBanco:F}=c;n({type:"clientData",payload:{adresseDesserte:{},email:"",reference:"",telPortable:"",idBanco:F}})}n({type:"isError",payload:!1}),n({type:"contactData",payload:c==null?void 0:c.contactDatas}),n({type:"contactSubjects",payload:c==null?void 0:c.subjects}),r("CUSTOMER_SERVICE_1")}},onError:()=>{t||n({type:"isError"})},onSettled:()=>{n({type:"isLoading",payload:!1}),n({type:"isShowModal",payload:!1}),n({type:"isIncluded",payload:!1})}}),h=({inseecode:j,zipcode:c})=>({codeInsee:j,zipCode:c}),V={codeHexaviaAdresse:x==null?void 0:x.streetId,numeroRue:x==null?void 0:x.streetNumber},E=j=>{const c=h(j);m.mutate({...c,...V})},y=j=>{const c=h(j);m.mutate(c)},l=()=>{n({type:"reset"}),m.reset(),n({type:"isSearchAuto",payload:!1})},{isSuccess:p,isError:f}=a,C=p||f;return e.jsxDEV(z.Provider,{value:[...u,{onValidateStreet:E,onValidateTown:y,resetSearch:l}],children:e.jsxDEV("div",{className:"tsme-container p-0 h-100 position-relative",children:[e.jsxDEV(Me,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:198,columnNumber:9},this),e.jsxDEV("div",{className:"tsme-container p-bottom py-lg-6",children:[e.jsxDEV(ke,{isLoading:m.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:200,columnNumber:11},this),!C&&e.jsxDEV(Ie,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:201,columnNumber:30},this),e.jsxDEV(Te,{},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:202,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:197,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/customerService/index.jsx",lineNumber:191,columnNumber:5},this)}function ts(){return e.jsxDEV(ee,{tag:"main",className:"customer-service",fullscreen:!0,children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/customer-service/index.jsx",lineNumber:8,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/customer-service/index.jsx",lineNumber:7,columnNumber:5},this)}export{ts as default};

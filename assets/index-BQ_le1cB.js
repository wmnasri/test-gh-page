import{j as e,b as r}from"./index-BzhTyqaY.js";import{r as k,R as Wt,c as _t,g as Ot}from"./index-0X8QCd_i.js";import{c as Mt,a as q,u as bt}from"./index-Dctip-EM.js";import{a as it}from"./AxiosInstance-BZZbXQ8a.js";import{i as Tt,u as It}from"./useInterpret-9onZ2Y5J.js";import{u as gt}from"./index-DPR1boKH.js";import{r as Pt}from"./moment-Bee81yOq.js";import{M as qe}from"./index-E8Xemi00.js";import{K as Ye,ao as Rt,R as at,ay as Ft,Z as jt,az as zt}from"./main-BbuvrTKi.js";import{u as Ae}from"./useTranslation-BYGhmYBG.js";import{S as De}from"./index-R4VhrMC6.js";import{O as At,S as $e,F as Kt}from"./formik.esm-DgjVmEdT.js";import{u as lt}from"./useScrollTo-VXXfg99K.js";import{u as xt,a as St}from"./useResponsive-DQBhMvnf.js";import"./index-BoI371yk.js";import"./index-4p5aklhB.js";import"./throttle-C5YRRb_b.js";import"./_baseIsEqual-DwR-aJgz.js";import"./index-m5SwaE3w.js";import"./iframe-CrganuSH.js";import"../sb-preview/runtime.js";import"./nonIterableRest-CnCppAvF.js";function Bt(t){return"state"in t}function Ht(t){return("status"in t?t.status:t._status)!==0?t.state:t.machine.initialState}var kt={exports:{}},Et={},Lt={exports:{}},Dt={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=k,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function f(j){{for(var x=arguments.length,N=new Array(x>1?x-1:0),M=1;M<x;M++)N[M-1]=arguments[M];l("error",j,N)}}function l(j,x,N){{var M=a.ReactDebugCurrentFrame,X=M.getStackAddendum();X!==""&&(x+="%s",N=N.concat([X]));var I=N.map(function(h){return String(h)});I.unshift("Warning: "+x),Function.prototype.apply.call(console[j],console,I)}}function L(j,x){return j===x&&(j!==0||1/j===1/x)||j!==j&&x!==x}var y=typeof Object.is=="function"?Object.is:L,v=t.useState,g=t.useEffect,E=t.useLayoutEffect,P=t.useDebugValue,m=!1,V=!1;function u(j,x,N){m||t.startTransition!==void 0&&(m=!0,f("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var M=x();if(!V){var X=x();y(M,X)||(f("The result of getSnapshot should be cached to avoid an infinite loop"),V=!0)}var I=v({inst:{value:M,getSnapshot:x}}),h=I[0].inst,i=I[1];return E(function(){h.value=M,h.getSnapshot=x,ee(h)&&i({inst:h})},[j,M,x]),g(function(){ee(h)&&i({inst:h});var n=function(){ee(h)&&i({inst:h})};return j(n)},[j]),P(M),M}function ee(j){var x=j.getSnapshot,N=j.value;try{var M=x();return!y(N,M)}catch{return!0}}function B(j,x,N){return x()}var Y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",se=!Y,ae=se?B:u,H=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:ae;Dt.useSyncExternalStore=H,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();Lt.exports=Dt;var Gt=Lt.exports;/**
 * @license React
 * use-subscription.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=Gt;function a(f){var l=f.getCurrentValue,L=f.subscribe;return t.useSyncExternalStore(L,l)}Et.useSubscription=a,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();kt.exports=Et;var Ut=kt.exports;function $t(t){return"state"in t&&"machine"in t}var qt=function(t,a){return t===a},Yt=function(t){return $t(t)?Ht(t):Bt(t)?t.state:void 0};function rt(t,a,f,l){f===void 0&&(f=qt),l===void 0&&(l=Yt);var L=k.useRef(a),y=k.useMemo(function(){var P=l(t),m=a(P),V;return{getSnapshot:function(){return P},getCurrentValue:function(){return m},setCurrentValue:function(u){m=u,V==null||V()},subscribe:function(u){V=u;var ee=t.subscribe(function(B){P=B;var Y=L.current(B);f(m,Y)||(m=Y,u())});return function(){ee.unsubscribe()}}}},[t]),v=Ut.useSubscription(y),g=!1;if(L.current!==a){var E=a(y.getSnapshot());f(v,E)||(g=!0,v=E)}return Tt(function(){L.current=a,g&&y.setCurrentValue(v)}),v}const Xt=()=>it.get("/user/contracts").then(t=>t.data).catch(t=>t.response),Qt=t=>it.get(`water-leak/contract-information?full-ref=${t}`).then(a=>a.data).catch(a=>a.response),Zt=t=>it.post("/water-leak/validation",t,{timeout:3e4}).then(a=>a.data).catch(a=>a.response),Jt={initial:"loading",states:{loading:{invoke:{id:"getContracts",src:()=>Xt(),onDone:[{cond:"isResOK",target:"#contract",actions:q({contracts:(t,a)=>a.data.contracts})}],onError:{target:"failed",actions:q({error:(t,a)=>a.data})}}},failed:{on:{RETRY:{target:"loading"},ERROR:{target:"#serverError"}}}}},es=Mt({id:"waterLeak",initial:"step1",context:{contracts:[],selectedRef:null,selectedContract:null,selectedMeter:null,selectedLeakPlace:null,leakInWasteWater:null,attachFile:null,toggleConfirmInfo:!1,toggleConfirmInvoice:!1,toggleConfirmPhotometerFiles:!1,toggleLeakPlaceOther:!1,toggleLeakPlaceWaste:!1,toggleConfirmFormData:!1,formValid:!1},states:{step1:{id:"step1",initial:"loadContracts",states:{loadContracts:{...Jt},contract:{id:"contract",initial:"contractSelect",type:"parallel",states:{contractSelect:{id:"contractSelect",initial:"idle",on:{SELECTED_CONTRACT:{target:"#loadContract",actions:["setSelectedRef","clearSelectedContract"]}},states:{idle:{},loadContract:{id:"loadContract",initial:"loading",states:{loading:{invoke:{id:"getContract",src:t=>Qt(t.selectedRef),onDone:[{cond:"isResOK",actions:["setSelectedContract"],target:"#infos"},{cond:"isResKO_502",target:"#serverError"}],onError:{target:"#serverError"}}}}}}},infos:{id:"infos",initial:"idle",states:{idle:{}},on:{CONFIRM_INFO:[{target:"notEligible.KO",cond:"isNotEligible",actions:["setToggleConfirmInfo"]},{target:"#multiMeters",cond:"hasMultiMeters",actions:["setToggleConfirmInfo"]},{target:"#invoice.lastInvoice",cond:"isEligible",actions:["setSingleMeter","setToggleConfirmInfo"]}]}},notEligible:{initial:"idle",states:{idle:{},KO:{type:"final"}}},multiMeters:{id:"multiMeters",initial:"infos",states:{infos:{on:{SELECTED_METER:{target:"#invoice.lastInvoice",actions:["setSelectedMeter"]}}}}},invoice:{id:"invoice",initial:"idle",states:{idle:{},lastInvoice:{always:[{target:"#multiMeters",cond:"hasMultiMeters"}],on:{CONFIRM_INVOICE:[{target:"#photoMeter.idle",cond:"isEstimated",actions:["setToggleConfirmInvoice"]},{target:"#go2Step2",actions:["setToggleConfirmInvoice"]}]}}}},photoMeter:{id:"photoMeter",initial:"idle",states:{idle:{}},on:{INDEX_SET:{actions:["setIndex","setSideEffectToggleConfirmPhotometerFiles"]},DROP_FILE:{actions:["setPhotoFile","setSideEffectToggleConfirmPhotometerFiles"]},CONFIRM_PHOTOMETER:[{target:"#go2Step2",cond:"isIndexPhotoValid",actions:["setToggleConfirmPhotometerFiles"]},{actions:["setToggleConfirmPhotometerFiles"]}]}},go2Step2:{id:"go2Step2",initial:"idle",states:{idle:{}},on:{click:[{cond:"isValid4Step2",target:"#step2"}]}}}}}},step2:{id:"step2",initial:"attachFile",type:"parallel",states:{attachFile:{on:{DROP_FILE:{target:"whereWasTheLeak",actions:["setAttachFile"]},DELETE_FILE:{target:"#step2",actions:["setAttachFile"]}}},whereWasTheLeak:{on:{SELECTED_PLACE:[{actions:["setLeakPlace","setHideLeakPlaceOther","setHideLeakPlaceWaste"]}],CONFIRM_FORM:{target:"#submitForm",cond:"isFormValid",actions:["setToggleConfirmFormData"]},SELECTED_PLACE_OTHER:{target:"leakPrecision",actions:["setShowLeakPlaceOther","clearLeakPlace","setHideLeakPlaceWaste"]}}},leakPrecision:{on:{SELECTED_PRECISION:[{target:"waste",cond:"isSanitation",actions:["setLeakPlace","setShowLeakPlaceWaste"]},{actions:["setLeakPlace"]}]}},waste:{on:{SELECTED_WASTE:{actions:["setWaste"]},CONFIRM_FORM:{target:"#submitForm",cond:"isFormValid",actions:["setToggleConfirmFormData"]}}},goBack2Step1:{on:{click:{target:"#invoice.lastInvoice"}}},submitForm:{id:"submitForm",initial:"idle",states:{idle:{},postForm:{invoke:{id:"postForm",src:t=>{let a={reference:t.selectedRef,idPds:t.selectedMeter.idPds,matricule:t.selectedMeter.matricule,habitationLocal:t.toggleConfirmInfo,confirmInvoice:t.toggleConfirmInvoice,attestation:t.attachFile,confirmData:t.toggleConfirmFormData,leakLocation:t.selectedLeakPlace,leakInWasteWater:t.leakInWasteWater};return t.toggleConfirmPhotometerFiles&&(a={...a,index:t.index,photo:t.photo,confirmIndex:t.toggleConfirmPhotometerFiles}),Zt(a)},onDone:[{cond:"isResKO_400",actions:["setErrorsValidation"],target:"#formSubmitResponse.KO_400"},{cond:"isResKO_DELAI",target:"#formSubmitResponse.KO_DELAI"},{cond:"isResKO_LOC",target:"#formSubmitResponse.KO_LOC"},{cond:"isResOK",target:"#formSubmitResponse.OK"},{target:"#serverError"}],onError:{target:"#serverError"}}}},on:{SUBMIT_FORM:{target:"#submitForm.postForm"}}}}},formSubmitResponse:{id:"formSubmitResponse",initial:"idle",states:{idle:{},KO_400:{},KO_502:{},KO_DELAI:{},KO_LOC:{},OK:{}}},serverError:{id:"serverError"}}},{actions:{setContracts:q({contracts:(t,a)=>a.contracts}),setSelectedRef:q({selectedRef:(t,a)=>a.reference}),setSelectedContract:q({selectedContract:(t,a)=>a.data.contractInformation}),clearSelectedContract:q({selectedContract:()=>({}),toggleConfirmInfo:()=>!1}),setToggleConfirmInfo:q({toggleConfirmInfo:(t,a)=>a.toggleConfirmInfo}),setToggleConfirmInvoice:q({toggleConfirmInvoice:(t,a)=>a.toggleConfirmInvoice}),setToggleConfirmPhotometerFiles:q({toggleConfirmPhotometerFiles:(t,a)=>a.toggleConfirmPhotometerFiles}),setSideEffectToggleConfirmPhotometerFiles:q({toggleConfirmPhotometerFiles:t=>!!(t.toggleConfirmPhotometerFiles&&(t==null?void 0:t.index.length)===5&&t.photo.length>0)}),setSingleMeter:q({selectedMeter:t=>{var a;return(a=t.selectedContract)==null?void 0:a.counters[0]}}),setSelectedMeter:q({selectedMeter:(t,a)=>a.selectedMeter}),setIndex:q({index:(t,a)=>a.index}),setPhotoFile:q({photo:(t,a)=>a.photo}),setAttachFile:q({attachFile:(t,a)=>a.attachFile}),setLeakPlace:q({selectedLeakPlace:(t,a)=>a.selectedLeakPlace}),clearLeakPlace:q({selectedLeakPlace:()=>null}),setShowLeakPlaceOther:q({toggleLeakPlaceOther:()=>!0}),setShowLeakPlaceWaste:q({toggleLeakPlaceWaste:()=>!0}),setHideLeakPlaceOther:q({toggleLeakPlaceOther:()=>!1}),setHideLeakPlaceWaste:q({toggleLeakPlaceWaste:()=>!1}),setWaste:q({leakInWasteWater:(t,a)=>a.leakInWasteWater}),setToggleConfirmFormData:q({toggleConfirmFormData:(t,a)=>a.toggleConfirmFormData}),clearContext:q({selectedLeakPlace:()=>null,selectedMeter:()=>null,selectedRef:()=>null}),setErrorsValidation:q({errorsValidation:(t,a)=>a.data.data})},guards:{isEligible:t=>{var a;return((a=t==null?void 0:t.selectedContract)==null?void 0:a.eligibility)==="OK"},isNotEligible:t=>{var a;return((a=t==null?void 0:t.selectedContract)==null?void 0:a.eligibility)!=="OK"},hasMultiMeters:t=>{var a;return((a=t.selectedContract)==null?void 0:a.multicounter)===!0&&!t.selectedMeter},isEstimated:t=>{var a;return((a=t==null?void 0:t.selectedMeter)==null?void 0:a.type)==="ESTIMATION"},isIndexPhotoValid:t=>{var a,f;return((a=t==null?void 0:t.index)==null?void 0:a.length)===5&&((f=t==null?void 0:t.photo)==null?void 0:f.length)>0},isValid4Step2:t=>t.toggleConfirmInfo===!0&&t.toggleConfirmInvoice===!0,isErrorInvoice:t=>(t==null?void 0:t.errorInvoice)===!0,isSanitation:t=>{var a;return((a=t==null?void 0:t.selectedContract)==null?void 0:a.sanitation)===!0},isFormValid:t=>!!t.selectedLeakPlace,isResKO_400:(t,a)=>{var f;return((f=a==null?void 0:a.data)==null?void 0:f.status)===400},isResKO_502:(t,a)=>{var f;return((f=a==null?void 0:a.data)==null?void 0:f.status)===502},isResKO_DELAI:(t,a)=>{var f;return((f=a==null?void 0:a.data)==null?void 0:f.message)==="KO_DELAI"},isResKO_LOC:(t,a)=>{var f;return((f=a==null?void 0:a.data)==null?void 0:f.message)==="KO_LOC"},isResOK:(t,a)=>{var f;return((f=a==null?void 0:a.data)==null?void 0:f.message)==="OK"}}}),Ke=Wt.createContext(),ts=({children:t})=>{const a=It(es,{devTools:!0});return e.jsxDEV(Ke.Provider,{value:{WaterLeakService:a},children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MachineContext.jsx",lineNumber:10,columnNumber:5},void 0)};var yt={exports:{}};(function(t,a){(function(f,l){t.exports=l(Pt,k)})(_t,function(f,l){return function(L){var y={};function v(g){if(y[g])return y[g].exports;var E=y[g]={i:g,l:!1,exports:{}};return L[g].call(E.exports,E,E.exports,v),E.l=!0,E.exports}return v.m=L,v.c=y,v.d=function(g,E,P){v.o(g,E)||Object.defineProperty(g,E,{enumerable:!0,get:P})},v.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},v.t=function(g,E){if(1&E&&(g=v(g)),8&E||4&E&&typeof g=="object"&&g&&g.__esModule)return g;var P=Object.create(null);if(v.r(P),Object.defineProperty(P,"default",{enumerable:!0,value:g}),2&E&&typeof g!="string")for(var m in g)v.d(P,m,(function(V){return g[V]}).bind(null,m));return P},v.n=function(g){var E=g&&g.__esModule?function(){return g.default}:function(){return g};return v.d(E,"a",E),E},v.o=function(g,E){return Object.prototype.hasOwnProperty.call(g,E)},v.p="",v(v.s=6)}([function(L,y,v){L.exports=v(3)()},function(L,y){L.exports=f},function(L,y){L.exports=l},function(L,y,v){var g=v(4);function E(){}function P(){}P.resetWarningCache=E,L.exports=function(){function m(ee,B,Y,se,ae,H){if(H!==g){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}function V(){return m}m.isRequired=m;var u={array:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:V,element:m,elementType:m,instanceOf:V,node:m,objectOf:V,oneOf:V,oneOfType:V,shape:V,exact:V,checkPropTypes:P,resetWarningCache:E};return u.PropTypes=u,u}},function(L,y,v){L.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(L,y,v){var g,E,P,m,V;/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 *//*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */m=this,V=function(u){var ee=!1,B=!1,Y="escape years months weeks days hours minutes seconds milliseconds general".split(" "),se=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function ae(c,o){return!(o.length>c.length)&&c.indexOf(o)!==-1}function H(c){for(var o="";c;)o+="0",c-=1;return o}function j(c,o,d){var w,b,U,le=o.useToLocaleString,A=o.useGrouping,ve=A&&o.grouping.slice(),re=o.maximumSignificantDigits,ge=o.minimumIntegerDigits||1,ne=o.fractionDigits||0,be=o.groupingSeparator,ye=o.decimalSeparator;if(le&&d){var he={minimumIntegerDigits:ge,useGrouping:A};if(ne&&(he.maximumFractionDigits=ne,he.minimumFractionDigits=ne),re&&c>0&&(he.maximumSignificantDigits=re),!B){var ue=z({},o);ue.useGrouping=!1,ue.decimalSeparator=".",c=parseFloat(j(c,ue),10)}return c.toLocaleString(d,he)}var K=(re?c.toPrecision(re+1):c.toFixed(ne+1)).split("e");U=K[1]||"",b=(K=K[0].split("."))[1]||"";var je=(w=K[0]||"").length,S=b.length,C=je+S,te=w+b;(re&&C===re+1||!re&&S===ne+1)&&((te=function(Se){for(var Z=Se.split("").reverse(),Ne=0,xe=!0;xe&&Ne<Z.length;)Ne?Z[Ne]==="9"?Z[Ne]="0":(Z[Ne]=(parseInt(Z[Ne],10)+1).toString(),xe=!1):(parseInt(Z[Ne],10)<5&&(xe=!1),Z[Ne]="0"),Ne+=1;return xe&&Z.push("1"),Z.reverse().join("")}(te)).length===C+1&&(je+=1),S&&(te=te.slice(0,-1)),w=te.slice(0,je),b=te.slice(je)),re&&(b=b.replace(/0*$/,""));var oe=parseInt(U,10);oe>0?b.length<=oe?(w+=b+=H(oe-b.length),b=""):(w+=b.slice(0,oe),b=b.slice(oe)):oe<0&&(b=H(Math.abs(oe)-w.length)+w+b,w="0"),re||((b=b.slice(0,ne)).length<ne&&(b+=H(ne-b.length)),w.length<ge&&(w=H(ge-w.length)+w));var We,ce="";if(A)for(K=w;K.length;)ve.length&&(We=ve.shift()),ce&&(ce=be+ce),ce=K.slice(-We)+ce,K=K.slice(0,-We);else ce=w;return b&&(ce=ce+ye+b),ce}function x(c,o){return c.label.length>o.label.length?-1:c.label.length<o.label.length?1:0}var N,M={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(c,o,d){return o===1&&d===null?c:c+c}};function X(c){return Object.prototype.toString.call(c)==="[object Array]"}function I(c){return Object.prototype.toString.call(c)==="[object Object]"}function h(c,o){var d,w=0,b=c&&c.length||0;for(typeof o!="function"&&(d=o,o=function(U){return U===d});w<b;){if(o(c[w]))return c[w];w+=1}}function i(c,o){var d=0,w=c.length;if(c&&w)for(;d<w;){if(o(c[d],d)===!1)return;d+=1}}function n(c,o){var d=0,w=c.length,b=[];if(!c||!w)return b;for(;d<w;)b[d]=o(c[d],d),d+=1;return b}function p(c,o){return n(c,function(d){return d[o]})}function G(c){var o=[];return i(c,function(d){d&&o.push(d)}),o}function O(c){var o=[];return i(c,function(d){h(o,d)||o.push(d)}),o}function R(c,o){var d=[];return i(c,function(w){i(o,function(b){w===b&&d.push(w)})}),O(d)}function Q(c,o){var d=[];return i(c,function(w,b){if(!o(w))return d=c.slice(b),!1}),d}function z(c,o){for(var d in o)o.hasOwnProperty(d)&&(c[d]=o[d]);return c}function $(c){var o=[];for(var d in c)c.hasOwnProperty(d)&&o.push(d);return o}function F(c,o){var d=0,w=c.length;if(!c||!w)return!1;for(;d<w;){if(o(c[d],d)===!0)return!0;d+=1}return!1}function pe(){var c,o=[].slice.call(arguments),d={};if(i(o,function(A,ve){if(!ve){if(!X(A))throw"Expected array as the first argument to durationsFormat.";c=A}typeof A!="string"&&typeof A!="function"?typeof A!="number"?I(A)&&z(d,A):d.precision=A:d.template=A}),!c||!c.length)return[];d.returnMomentTypes=!0;var w,b=n(c,function(A){return A.format(d)}),U=R(Y,O(p((w=[],i(b,function(A){w=w.concat(A)}),w),"type"))),le=d.largest;return le&&(U=U.slice(0,le)),d.returnMomentTypes=!1,d.outputTypes=U,n(c,function(A){return A.format(d)})}function fe(){var c=[].slice.call(arguments),o=z({},this.format.defaults),d=this.asMilliseconds(),w=this.asMonths();typeof this.isValid=="function"&&this.isValid()===!1&&(d=0,w=0);var b=d<0,U=u.duration(Math.abs(d),"milliseconds"),le=u.duration(Math.abs(w),"months");i(c,function(s){typeof s!="string"&&typeof s!="function"?typeof s!="number"?I(s)&&z(o,s):o.precision=s:o.template=s});var A={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},ve={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};o.types=Y;var re=function(s){return h(Y,function(_){return ve[_].test(s)})},ge=new RegExp(n(Y,function(s){return ve[s].source}).join("|"),"g");o.duration=this;var ne=typeof o.template=="function"?o.template.apply(o):o.template,be=o.outputTypes,ye=o.returnMomentTypes,he=o.largest,ue=[];be||(X(o.stopTrim)&&(o.stopTrim=o.stopTrim.join("")),o.stopTrim&&i(o.stopTrim.match(ge),function(s){var _=re(s);_!=="escape"&&_!=="general"&&ue.push(_)}));var K=u.localeData();K||(K={}),i($(M),function(s){typeof M[s]!="function"?K["_"+s]||(K["_"+s]=M[s]):K[s]||(K[s]=M[s])}),i($(K._durationTimeTemplates),function(s){ne=ne.replace("_"+s+"_",K._durationTimeTemplates[s])});var je=o.userLocale||u.locale(),S=o.useLeftUnits,C=o.usePlural,te=o.precision,oe=o.forceLength,We=o.useGrouping,ce=o.trunc,Se=o.useSignificantDigits&&te>0,Z=Se?o.precision:0,Ne=Z,xe=o.minValue,Ce=!1,Te=o.maxValue,ke=!1,Pe=o.useToLocaleString,Xe=o.groupingSeparator,Qe=o.decimalSeparator,Ze=o.grouping;Pe=Pe&&ee;var ie=o.trim;X(ie)&&(ie=ie.join(" ")),ie===null&&(he||Te||Se)&&(ie="all"),ie!==null&&ie!==!0&&ie!=="left"&&ie!=="right"||(ie="large"),ie===!1&&(ie="");var Ie=function(s){return s.test(ie)},Be=/both/,W=/^all|[^sm]all/,Ee=he>0||F([/large/,Be,W],Ie),_e=F([/small/,Be,W],Ie),Re=F([/mid/,W],Ie),Ct=F([/final/,W],Ie),ct=n(ne.match(ge),function(s,_){var D=re(s);return s.slice(0,1)==="*"&&(s=s.slice(1),D!=="escape"&&D!=="general"&&ue.push(D)),{index:_,length:s.length,text:"",token:D==="escape"?s.replace(ve.escape,"$1"):s,type:D==="escape"||D==="general"?null:D}}),Le={index:0,length:0,token:"",text:"",type:null},Ve=[];S&&ct.reverse(),i(ct,function(s){if(s.type)return(Le.type||Le.text)&&Ve.push(Le),void(Le=s);S?Le.text=s.token+Le.text:Le.text+=s.token}),(Le.type||Le.text)&&Ve.push(Le),S&&Ve.reverse();var T=R(Y,O(G(p(Ve,"type"))));if(!T.length)return p(Ve,"text").join("");T=n(T,function(s,_){var D,J=_+1===T.length,Ge=!_;D=s==="years"||s==="months"?le.as(s):U.as(s);var Oe=Math.floor(D),tt=D-Oe,Fe=h(Ve,function(de){return s===de.type});return Ge&&Te&&D>Te&&(ke=!0),J&&xe&&Math.abs(o.duration.as(s))<xe&&(Ce=!0),Ge&&oe===null&&Fe.length>1&&(oe=!0),U.subtract(Oe,s),le.subtract(Oe,s),{rawValue:D,wholeValue:Oe,decimalValue:J?tt:0,isSmallest:J,isLargest:Ge,type:s,tokenLength:Fe.length}});var mt,ut=ce?Math.floor:Math.round,Je=function(s,_){var D=Math.pow(10,_);return ut(s*D)/D},et=!1,He=!1,dt=function(s,_){var D={useGrouping:We,groupingSeparator:Xe,decimalSeparator:Qe,grouping:Ze,useToLocaleString:Pe};return Se&&(Z<=0?(s.rawValue=0,s.wholeValue=0,s.decimalValue=0):(D.maximumSignificantDigits=Z,s.significantDigits=Z)),ke&&!He&&(s.isLargest?(s.wholeValue=Te,s.decimalValue=0):(s.wholeValue=0,s.decimalValue=0)),Ce&&!He&&(s.isSmallest?(s.wholeValue=xe,s.decimalValue=0):(s.wholeValue=0,s.decimalValue=0)),s.isSmallest||s.significantDigits&&s.significantDigits-s.wholeValue.toString().length<=0?te<0?s.value=Je(s.wholeValue,te):te===0?s.value=ut(s.wholeValue+s.decimalValue):Se?(s.value=ce?Je(s.rawValue,Z-s.wholeValue.toString().length):s.rawValue,s.wholeValue&&(Z-=s.wholeValue.toString().length)):(D.fractionDigits=te,s.value=ce?s.wholeValue+Je(s.decimalValue,te):s.wholeValue+s.decimalValue):Se&&s.wholeValue?(s.value=Math.round(Je(s.wholeValue,s.significantDigits-s.wholeValue.toString().length)),Z-=s.wholeValue.toString().length):s.value=s.wholeValue,s.tokenLength>1&&(oe||et)&&(D.minimumIntegerDigits=s.tokenLength,He&&D.maximumSignificantDigits<s.tokenLength&&delete D.maximumSignificantDigits),!et&&(s.value>0||ie===""||h(ue,s.type)||h(be,s.type))&&(et=!0),s.formattedValue=j(s.value,D,je),D.useGrouping=!1,D.decimalSeparator=".",s.formattedValueEn=j(s.value,D,"en"),s.tokenLength===2&&s.type==="milliseconds"&&(s.formattedValueMS=j(s.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),s};if((T=G(T=n(T,dt))).length>1){var pt=function(s){return h(T,function(_){return _.type===s})};i(se,function(s){var _=pt(s.type);_&&i(s.targets,function(D){var J=pt(D.type);J&&parseInt(_.formattedValueEn,10)===D.value&&(_.rawValue=0,_.wholeValue=0,_.decimalValue=0,J.rawValue+=1,J.wholeValue+=1,J.decimalValue=0,J.formattedValueEn=J.wholeValue.toString(),He=!0)})})}return He&&(et=!1,Z=Ne,T=G(T=n(T,dt))),!be||ke&&!o.trim?(Ee&&(T=Q(T,function(s){return!s.isSmallest&&!s.wholeValue&&!h(ue,s.type)})),he&&T.length&&(T=T.slice(0,he)),_e&&T.length>1&&(mt=function(s){return!s.wholeValue&&!h(ue,s.type)&&!s.isLargest},T=Q(T.slice().reverse(),mt).reverse()),Re&&(T=G(T=n(T,function(s,_){return _>0&&_<T.length-1&&!s.wholeValue?null:s}))),!Ct||T.length!==1||T[0].wholeValue||!ce&&T[0].isSmallest&&T[0].rawValue<xe||(T=[])):T=G(T=n(T,function(s){return h(be,function(_){return s.type===_})?s:null})),ye?T:(i(Ve,function(s){var _=A[s.type],D=h(T,function(de){return de.type===s.type});if(_&&D){var J=D.formattedValueEn.split(".");J[0]=parseInt(J[0],10),J[1]?J[1]=parseFloat("0."+J[1],10):J[1]=null;var Ge=K.durationPluralKey(_,J[0],J[1]),Oe=function(de,Me){var Ue=[];return i($(Me),function(st){if(st.slice(0,15)==="_durationLabels"){var Vt=st.slice(15).toLowerCase();i($(Me[st]),function(nt){nt.slice(0,1)===de&&Ue.push({type:Vt,key:nt,label:Me[st][nt]})})}}),Ue}(_,K),tt=!1,Fe={};i(K._durationLabelTypes,function(de){var Me=h(Oe,function(Ue){return Ue.type===de.type&&Ue.key===Ge});Me&&(Fe[Me.type]=Me.label,ae(s.text,de.string)&&(s.text=s.text.replace(de.string,Me.label),tt=!0))}),C&&!tt&&(Oe.sort(x),i(Oe,function(de){return Fe[de.type]===de.label?!ae(s.text,de.label)&&void 0:ae(s.text,de.label)?(s.text=s.text.replace(de.label,Fe[de.type]),!1):void 0}))}}),(Ve=n(Ve,function(s){if(!s.type)return s.text;var _=h(T,function(J){return J.type===s.type});if(!_)return"";var D="";return S&&(D+=s.text),(b&&ke||!b&&Ce)&&(D+="< ",ke=!1,Ce=!1),(b&&Ce||!b&&ke)&&(D+="> ",ke=!1,Ce=!1),b&&(_.value>0||ie===""||h(ue,_.type)||h(be,_.type))&&(D+="-",b=!1),s.type==="milliseconds"&&_.formattedValueMS?D+=_.formattedValueMS:D+=_.formattedValue,S||(D+=s.text),D})).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function me(){var c=this.duration,o=function(b){return c._data[b]},d=h(this.types,o),w=function(b,U){for(var le=b.length;le-=1;)if(U(b[le]))return b[le]}(this.types,o);switch(d){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(d===w)return"d __";case"weeks":return d===w?"w __":(this.trim===null&&(this.trim="both"),"w __, d __, h __");case"months":if(d===w)return"M __";case"years":return d===w?"y __":(this.trim===null&&(this.trim="both"),"y __, M __, d __");default:return this.trim===null&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function we(c){if(!c)throw"Moment Duration Format init cannot find moment instance.";c.duration.format=pe,c.duration.fn.format=fe,c.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:me,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},c.updateLocale("en",M)}return ee=!!((N=(N=!0)&&function(){try{0 .toLocaleString("i")}catch(c){return c.name==="RangeError"}return!1}())&&(N=(N=(N=N&&1 .toLocaleString("en",{minimumIntegerDigits:1})==="1")&&1 .toLocaleString("en",{minimumIntegerDigits:2})==="01")&&1 .toLocaleString("en",{minimumIntegerDigits:3})==="001")&&(N=(N=(N=(N=N&&99.99.toLocaleString("en",{maximumFractionDigits:0,minimumFractionDigits:0})==="100")&&99.99.toLocaleString("en",{maximumFractionDigits:1,minimumFractionDigits:1})==="100.0")&&99.99.toLocaleString("en",{maximumFractionDigits:2,minimumFractionDigits:2})==="99.99")&&99.99.toLocaleString("en",{maximumFractionDigits:3,minimumFractionDigits:3})==="99.990")&&(N=(N=(N=(N=(N=N&&99.99.toLocaleString("en",{maximumSignificantDigits:1})==="100")&&99.99.toLocaleString("en",{maximumSignificantDigits:2})==="100")&&99.99.toLocaleString("en",{maximumSignificantDigits:3})==="100")&&99.99.toLocaleString("en",{maximumSignificantDigits:4})==="99.99")&&99.99.toLocaleString("en",{maximumSignificantDigits:5})==="99.99")&&(N=(N=N&&1e3.toLocaleString("en",{useGrouping:!0})==="1,000")&&1e3.toLocaleString("en",{useGrouping:!1})==="1000")),B=ee&&3.55.toLocaleString("en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})==="3.6",we(u),we},E=[v(1)],(P=typeof(g=V)=="function"?g.apply(y,E):g)===void 0||(L.exports=P),m&&(m.momentDurationFormatSetup=m.moment?V(m.moment):V)},function(L,y,v){v.r(y);var g=v(2),E=v.n(g),P=v(0),m=v.n(P),V=v(1),u=v.n(V);v(5);function ee(h){return(ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(h)}function B(h,i){if(h==null)return{};var n,p,G=function(R,Q){if(R==null)return{};var z,$,F={},pe=Object.keys(R);for($=0;$<pe.length;$++)z=pe[$],Q.indexOf(z)>=0||(F[z]=R[z]);return F}(h,i);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(h);for(p=0;p<O.length;p++)n=O[p],i.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(h,n)&&(G[n]=h[n])}return G}function Y(h){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(h)}function se(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function ae(h,i){for(var n=0;n<i.length;n++){var p=i[n];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}function H(h,i,n){return i&&ae(h.prototype,i),n&&ae(h,n),h}function j(h,i){return(j=Object.setPrototypeOf||function(n,p){return n.__proto__=p,n})(h,i)}function x(h,i,n){return i in h?Object.defineProperty(h,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):h[i]=n,h}v.d(y,"default",function(){return I});var N=[m.a.string,m.a.number,m.a.array,m.a.object],M=[m.a.string,m.a.array],X=[m.a.object,m.a.bool],I=function(h){function i(n){var p,G,O;return function(R,Q){if(!(R instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,i),G=this,O=Y(i).call(this,n),p=!O||ee(O)!=="object"&&typeof O!="function"?se(G):O,x(se(p),"setTimer",function(){var R=p.props.interval;p.clearTimer(),i.pooledTimer||R===0||(p.timer=setInterval(function(){p.update(p.props)},R))}),x(se(p),"getTitle",function(){var R=p.props.titleFormat,Q=i.getDatetime(p.props),z=R||i.globalFormat;return Q.format(z)}),x(se(p),"clearTimer",function(){!i.pooledTimer&&p.timer&&(clearInterval(p.timer),p.timer=null),i.pooledTimer&&!p.timer&&i.removePooledElement(se(p))}),i.globalMoment||(i.globalMoment=u.a),p.state={content:""},p.timer=null,p}return function(n,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(p&&p.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),p&&j(n,p)}(i,E.a.Component),H(i,null,[{key:"startPooledTimer",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6e4;i.clearPooledTimer(),i.pooledTimer=setInterval(function(){i.pooledElements.forEach(function(p){p.props.interval!==0&&p.update()})},n)}},{key:"clearPooledTimer",value:function(){i.pooledTimer&&(clearInterval(i.pooledTimer),i.pooledTimer=null,i.pooledElements=[])}},{key:"pushPooledElement",value:function(n){n instanceof i?i.pooledElements.indexOf(n)===-1&&i.pooledElements.push(n):console.error("Element not an instance of Moment.")}},{key:"removePooledElement",value:function(n){var p=i.pooledElements.indexOf(n);p!==-1&&i.pooledElements.splice(p,1)}},{key:"getDatetime",value:function(n){var p=n.utc,G=n.unix,O=n.date,R=n.locale,Q=n.parse,z=n.tz,$=n.local;O=O||n.children,Q=Q||i.globalParse,$=$||i.globalLocal,z=z||i.globalTimezone,R=i.globalLocale?i.globalLocale:R||i.globalMoment.locale();var F=null;return F=p?i.globalMoment.utc(O,Q,R):G?i.globalMoment(1e3*O,Q,R):i.globalMoment(O,Q,R),z?F=F.tz(z):$&&(F=F.local()),F}},{key:"getContent",value:function(n){var p=n.fromNow,G=n.fromNowDuring,O=n.from,R=n.add,Q=n.subtract,z=n.toNow,$=n.to,F=n.ago,pe=n.calendar,fe=n.diff,me=n.duration,we=n.durationFromNow,c=n.unit,o=n.decimal,d=n.format;d=d||i.globalFormat;var w=i.getDatetime(n);R&&w.add(R),Q&&w.subtract(Q);var b=!!G&&-w.diff(u()())<G,U="";return U=d&&!b?w.format(d):O?w.from(O,F):p||b?w.fromNow(F):$?w.to($,F):z?w.toNow(F):pe?w.calendar(null,pe):fe?w.diff(fe,c,o):me?w.diff(me):we?u()().diff(w):w.toString(),(me||we)&&(U=(U=u.a.duration(U)).format(d)),U=(i.globalFilter||n.filter)(U)}}]),H(i,[{key:"componentDidMount",value:function(){this.setTimer(),i.pooledTimer&&i.pushPooledElement(this)}},{key:"componentDidUpdate",value:function(n){var p=this.props.interval;n.interval!==p&&this.setTimer()}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"update",value:function(n){var p=n||this.props,G=p.onChange,O=i.getContent(p);this.setState({content:O},function(){G(O)})}},{key:"render",value:function(){var n,p,G,O,R=this.props,Q=R.withTitle,z=R.element,$=B(R,["withTitle","element"]),F=this.state.content,pe=(n=$,p=i.propTypes,G=Object.keys(p),O=Object.assign({},n),Object.keys(O).filter(function(fe){return G.indexOf(fe)!==-1}).forEach(function(fe){return delete O[fe]}),O);return Q&&(pe.title=this.getTitle()),E.a.createElement(z||i.globalElement,function(fe){for(var me=1;me<arguments.length;me++){var we=arguments[me]!=null?arguments[me]:{},c=Object.keys(we);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(we).filter(function(o){return Object.getOwnPropertyDescriptor(we,o).enumerable}))),c.forEach(function(o){x(fe,o,we[o])})}return fe}({dateTime:i.getDatetime(this.props)},pe),F)}}],[{key:"getDerivedStateFromProps",value:function(n){return{content:i.getContent(n)}}}]),i}();x(I,"propTypes",{element:m.a.any,date:m.a.oneOfType(N),parse:m.a.oneOfType(M),format:m.a.string,add:m.a.object,subtract:m.a.object,ago:m.a.bool,fromNow:m.a.bool,fromNowDuring:m.a.number,from:m.a.oneOfType(N),toNow:m.a.bool,to:m.a.oneOfType(N),calendar:m.a.oneOfType(X),unix:m.a.bool,utc:m.a.bool,local:m.a.bool,tz:m.a.string,withTitle:m.a.bool,titleFormat:m.a.string,locale:m.a.string,interval:m.a.number,diff:m.a.oneOfType(N),duration:m.a.oneOfType(N),durationFromNow:m.a.bool,unit:m.a.string,decimal:m.a.bool,filter:m.a.func,onChange:m.a.func}),x(I,"defaultProps",{element:null,fromNow:!1,toNow:!1,calendar:!1,ago:!1,unix:!1,utc:!1,local:!1,unit:null,withTitle:!1,decimal:!1,titleFormat:"",interval:6e4,filter:function(h){return h},onChange:function(){}}),x(I,"globalMoment",null),x(I,"globalLocale",null),x(I,"globalLocal",null),x(I,"globalFormat",null),x(I,"globalParse",null),x(I,"globalFilter",null),x(I,"globalElement","time"),x(I,"globalTimezone",null),x(I,"pooledElements",[]),x(I,"pooledTimer",null)}])})})(yt);var ss=yt.exports;const ot=Ot(ss),ft=""+new URL("e-mail-success-yPNYiCaE.svg",import.meta.url).href,wt=""+new URL("message-sending-pkz27BBZ.svg",import.meta.url).href,as=""+new URL("helper-BecZvtOp.svg",import.meta.url).href,ht=""+new URL("explorer-error-_xqJrvyA.svg",import.meta.url).href,ze={CLOSED:"notAvailable",MAX_PDS:"pro",FACT_KO:"deprecated",DOSSIER_KO:"dossierKO"};function rs({variant:t,dateDossier:a}){const{t:f}=Ae();return e.jsxDEV(r.SzCard,{className:"cy-result-page mb-2 container mt-3 bg-white",children:e.jsxDEV("div",{className:"row px-4 py-2 align-items-center",children:[e.jsxDEV("div",{className:"col-7",children:[t===ze.MAX_PDS&&e.jsxDEV(r.SzTypographie,{color:"disabled",className:"mb-6",weight:"regular",children:e.jsxDEV(qe,{content:f("waterleak.contractErrorCard.pro",{customerServiceLink:Ye})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:32,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:31,columnNumber:13},this),t===ze.CLOSED&&e.jsxDEV(r.SzTypographie,{color:"disabled",className:"mb-6",weight:"regular",children:e.jsxDEV(qe,{content:f("waterleak.contractErrorCard.notAvailable",{customerServiceLink:Ye})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:41,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:40,columnNumber:13},this),t===ze.FACT_KO&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:f("waterleak.contractErrorCard.deprecated1")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:50,columnNumber:15},this),e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:f("waterleak.contractErrorCard.deprecated2")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:54,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:49,columnNumber:13},this),t===ze.DOSSIER_KO&&e.jsxDEV(r.SzTypographie,{color:"disabled",className:"mb-6",weight:"regular",children:e.jsxDEV(qe,{content:f("waterleak.contractErrorCard.dossierKO",{dateDossier:a,requestCelUrl:Rt})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:61,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:60,columnNumber:13},this),e.jsxDEV("div",{className:"row px-3 pt-5 mb-3 justify-content-between",children:[e.jsxDEV(r.SzButton,{"data-cy":"waterleak-close-form",variant:"contained",className:"col-5",onClick:()=>window.location.assign(at.HOME),children:f("waterleak.closeForm")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:71,columnNumber:13},this),t!==ze.DOSSIER_KO&&e.jsxDEV(r.SzButton,{variant:"text",className:"col-5",onClick:()=>window.location.assign(Ye),children:f("waterleak.customerService")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:29,columnNumber:9},this),e.jsxDEV("div",{className:"col-5",children:e.jsxDEV("img",{src:as,style:{minHeight:"20vh"},alt:f("waterleak.contractErrorCard.image")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:91,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:28,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:27,columnNumber:5},this)}function ns(){const{t}=Ae();return e.jsxDEV(r.SzCard,{className:"cy-result-page my-5 px-4 py-3 bg-white align-items-center",children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-12 col-md-7",children:[e.jsxDEV(r.SzTypographie,{variant:"huge",className:"mb-3",weight:"bold",align:"left",children:e.jsxDEV(qe,{content:t("waterleak.error500.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:115,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:109,columnNumber:11},this),e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:[e.jsxDEV(qe,{content:t("waterleak.error500.content1")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:118,columnNumber:13},this),e.jsxDEV(ot,{format:"DD/MM/YYYY, à HH:mm",children:new Date},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:119,columnNumber:13},this),".",e.jsxDEV("br",{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:120,columnNumber:13},this),t("waterleak.error500.content2")]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:117,columnNumber:11},this),e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:t("waterleak.error500.content3")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:123,columnNumber:11},this),e.jsxDEV("div",{className:"col-12 d-block d-md-none",children:e.jsxDEV("img",{src:ht,style:{minHeight:"15vh"},alt:t("waterleak.error500.image")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:127,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:126,columnNumber:11},this),e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-12 col-lg-6 mb-4 mb-lg-0",children:e.jsxDEV(r.SzButton,{"data-cy":"waterleak-close-form",variant:"contained",className:"col-12",onClick:()=>window.location.assign(at.HOME),children:t("waterleak.closeForm")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:136,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:135,columnNumber:13},this),e.jsxDEV("div",{className:"col-12 col-lg-6",children:e.jsxDEV(r.SzButton,{className:"col-12",variant:"outlined",onClick:()=>window.location.assign(Ye),icon:"headphones-customer-support",children:t("waterleak.customerService")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:146,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:108,columnNumber:9},this),e.jsxDEV("div",{className:"col-5 d-none d-md-block",children:e.jsxDEV("img",{src:ht,alt:t("waterleak.error500.image")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:158,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:157,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:107,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:106,columnNumber:5},this)}function os(){const{t}=Ae();return e.jsxDEV(r.SzCard,{className:"cy-result-page my-5 px-4 py-3  bg-white align-items-center",children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-12 col-md-7",children:[e.jsxDEV(r.SzTypographie,{variant:"huge",className:"mb-3",weight:"bold",align:"left",children:t("waterleak.successCard.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:172,columnNumber:11},this),e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:t("waterleak.successCard.content")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:180,columnNumber:11},this),e.jsxDEV("div",{className:"col-12 d-block d-md-none",children:e.jsxDEV("img",{src:ft,style:{minHeight:"20vh"},alt:t("waterleak.successCard.image")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:184,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:183,columnNumber:11},this),e.jsxDEV(r.SzButton,{variant:"text",className:"mt-md-5",icon:"layout-dashboard",onClick:()=>window.location.assign(at.DASHBOARD),children:t("waterleak.dashboard")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:190,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:171,columnNumber:9},this),e.jsxDEV("div",{className:"col-5 d-none d-md-block",children:e.jsxDEV("img",{src:ft,alt:t("waterleak.successCard.image")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:200,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:170,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:169,columnNumber:5},this)}function vt({variant:t}){const{t:a}=Ae();return e.jsxDEV(r.SzCard,{className:"cy-result-page my-5 px-4 py-3 bg-white align-items-center",children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-12 col-md-7",children:[e.jsxDEV(r.SzTypographie,{variant:"huge",className:"mb-3",weight:"bold",align:"left",children:a("waterleak.failCard.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:263,columnNumber:11},this),e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:a(t==="warsmann"?"waterleak.failCard.contentWarsmann":"waterleak.failCard.content")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:271,columnNumber:11},this),e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:a("waterleak.failCard.notEligible")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:276,columnNumber:11},this),e.jsxDEV("div",{className:"col-5  d-block d-md-none",children:e.jsxDEV("img",{src:wt,style:{minHeight:"35vh"},alt:a("waterleak.imageHourglass")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:280,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:279,columnNumber:11},this),e.jsxDEV(r.SzButton,{variant:"text",className:"mt-md-5",icon:"layout-dashboard",onClick:()=>window.location.assign(at.DASHBOARD),children:a("waterleak.dashboard")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:286,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:262,columnNumber:9},this),e.jsxDEV("div",{className:"col-5 d-none d-md-block",children:e.jsxDEV("img",{src:wt,alt:a("waterleak.imageHourglass")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:296,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:295,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:261,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/MessagesCard.jsx",lineNumber:260,columnNumber:5},this)}function is(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"row mb-3 mt-4 mx-1 py-3 dataCard",children:[e.jsxDEV("div",{className:"row col-6 align-items-center",children:[e.jsxDEV("div",{className:"col-3",children:e.jsxDEV(De,{height:30,width:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:10,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:9,columnNumber:11},this),e.jsxDEV("div",{className:"col-9",children:e.jsxDEV(De,{count:3},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:13,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:12,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:8,columnNumber:9},this),e.jsxDEV("div",{className:"row col-6 align-items-center",children:[e.jsxDEV("div",{className:"col-3",children:e.jsxDEV(De,{height:30,width:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:18,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:17,columnNumber:11},this),e.jsxDEV("div",{className:"col-9",children:e.jsxDEV(De,{count:3},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:21,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:20,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:16,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:7,columnNumber:7},this),e.jsxDEV("div",{className:"row mb-2 mt-4 mx-1 pt-1 pb-2 dataCard",children:e.jsxDEV("div",{className:"row col-12 align-items-center",children:[e.jsxDEV("div",{className:"col-1",children:e.jsxDEV(De,{height:30,width:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:28,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:27,columnNumber:11},this),e.jsxDEV("div",{className:"col-6",children:e.jsxDEV(De,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:31,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:30,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:26,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:25,columnNumber:7},this),e.jsxDEV("div",{className:"row mb-3 mt-4 mx-1 pt-1 pb-2 dataCard",children:e.jsxDEV("div",{className:"row col-12 align-items-center",children:[e.jsxDEV("div",{className:"col-1",children:e.jsxDEV(De,{height:30,width:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:38,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:37,columnNumber:11},this),e.jsxDEV("div",{className:"col-9",children:e.jsxDEV(De,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:41,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:40,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:36,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:35,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/SkeletonStep1.jsx",lineNumber:6,columnNumber:5},this)}function ls({matricule:t,onChange:a}){var u,ee;const f={input0:k.useRef(null),input1:k.useRef(null),input2:k.useRef(null),input3:k.useRef(null),input4:k.useRef(null)},l=k.useContext(Ke),L=rt(l.WaterLeakService,B=>B);let y=[],v={input0:"",input1:"",input2:"",input3:"",input4:""};(u=L==null?void 0:L.context)!=null&&u.index&&(y=(ee=L==null?void 0:L.context)==null?void 0:ee.index.split(""),v={input0:y[0],input1:y[1],input2:y[2],input3:y[3],input4:y[4]});const[g,E]=k.useState(!0),P="Un seul chiffre par cellule",m="Votre saisie est incomplète, merci de renseigner les 5 champs ci-dessus.",V=At().shape({input0:$e().length(1,P).required(m),input1:$e().length(1,P).required(m),input2:$e().length(1,P).required(m),input3:$e().length(1,P).required(m),input4:$e().length(1,P).required(m)});return e.jsxDEV("div",{className:"row py-3 mx-1 align-items-center photometerCard",children:[e.jsxDEV("div",{className:"row col-sm-12  col-md-4 align-items-center",children:[e.jsxDEV(r.SzIcon,{icon:"gauge-dashboard-1",className:"col-2",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:60,columnNumber:9},this),e.jsxDEV("div",{className:"col-9",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:"N° du compteur"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:62,columnNumber:11},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:65,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:61,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:59,columnNumber:7},this),e.jsxDEV(Kt,{initialValues:v,validationSchema:V,validateOnChange:!1,validateOnBlur:!1,onSubmit:()=>{},children:({values:B,errors:Y,handleChange:se,handleSubmit:ae,setErrors:H})=>{V.isValid(B).then(N=>{N&&g&&E(!1),N||E(!0)});const j=N=>{let M="";for(const X in N){const I=N[X].current.value;parseInt(I)>=0&&(M+=I)}return M},x=N=>{N.preventDefault(),N.stopPropagation();const{value:M,name:X}=N.target,I=/^\d?$/,h=Object.keys(f).indexOf(X)+1,i=Object.keys(f).length,n="input"+h;if(Y[X]){const p={...Y};delete p[X],H(p)}(I.test(M)||B[X].toString().length>M.toString().length)&&(se(N),h<i&&M.length>0&&f[n].current.focus(),j(f),a(j(f)))};return e.jsxDEV("div",{onSubmit:ae,className:"col-12 col-md-5 justify-content-center",children:[e.jsxDEV(r.SzInput,{ref:f.input0,name:"input0",type:"text",value:B.input0,onChange:x,placeholder:"-",className:"p-0 border border-secondary rounded number-box mr-2 text-center",pattern:"^\\d?$",maxLength:1},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:147,columnNumber:15},this),e.jsxDEV(r.SzInput,{ref:f.input1,name:"input1",type:"text",value:B.input1,onChange:x,placeholder:"-",className:"p-0 border border-secondary rounded number-box mr-2 text-center",pattern:"^\\d?$",maxLength:1},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:159,columnNumber:15},this),e.jsxDEV(r.SzInput,{ref:f.input2,name:"input2",type:"text",value:B.input2,onChange:x,placeholder:"-",className:"p-0 border border-secondary rounded number-box mr-2 text-center",pattern:"^\\d?$",maxLength:1},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:171,columnNumber:15},this),e.jsxDEV(r.SzInput,{ref:f.input3,name:"input3",type:"text",value:B.input3,onChange:x,placeholder:"-",className:"p-0 border border-secondary rounded number-box mr-2 text-center",pattern:"^\\d?$",maxLength:1},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:183,columnNumber:15},this),e.jsxDEV(r.SzInput,{ref:f.input4,name:"input4",type:"text",value:B.input4,onChange:x,placeholder:"-",className:"p-0 border border-secondary rounded number-box mr-2 text-center",pattern:"^\\d?$",maxLength:1},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:195,columnNumber:15},this),e.jsxDEV("div",{className:"sz-form-group",children:e.jsxDEV("div",{className:"input-group",children:e.jsxDEV("div",{className:"sz-form-group__input p-0 border rounded fixed-box mr-2 text-center form-control fakeDisabledPhotoMeterInput",children:"X"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:209,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:208,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:207,columnNumber:15},this),e.jsxDEV("div",{className:"sz-form-group",children:e.jsxDEV("div",{className:"input-group",children:e.jsxDEV("div",{className:"sz-form-group__input p-0 border rounded fixed-box mr-2 text-center form-control fakeDisabledPhotoMeterInput",children:"X"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:217,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:216,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:215,columnNumber:15},this),e.jsxDEV("div",{className:"sz-form-group",children:e.jsxDEV("div",{className:"input-group",children:e.jsxDEV("div",{className:"sz-form-group__input p-0 border rounded fixed-box mr-2 text-center form-control fakeDisabledPhotoMeterInput",children:"X"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:225,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:224,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:143,columnNumber:13},this)}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:71,columnNumber:7},this),e.jsxDEV("div",{className:"row col-sm-12 col-md-3",children:[e.jsxDEV(r.SzIcon,{icon:"information-circle",className:"col-1",variant:"bold"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:236,columnNumber:9},this),e.jsxDEV("div",{className:"col-8",children:e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:["Les chiffres sur fond noir indiquent les m",e.jsxDEV("sup",{children:"3"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:239,columnNumber:55},this),"."]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:238,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:237,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:235,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/components/SimplePhotoMeter/index.jsx",lineNumber:58,columnNumber:5},this)}const cs=""+new URL("timer-1A4MS7RV.svg",import.meta.url).href;function Nt(t,a){return t==null?void 0:t.map(f=>({...f,value:f[a.value],label:f[a.label||a.value]}))}const ms={ESTIMATION:"estimée",RELEVÉ:"relevée"};function us({goToNextStep:t}){var le,A,ve,re,ge,ne,be,ye,he,ue,K,je,S,C,te,oe,We,ce,Se,Z,Ne,xe,Ce,Te,ke,Pe,Xe,Qe,Ze,ie,Ie,Be;const a=xt(),f=St(),{t:l}=Ae(),L={ESTIMATION:"ESTIMATION"},y={OK:"OK"},[v,g]=k.useState(!1),[E,P]=k.useState(!1),m=k.useContext(Ke),{send:V}=m.WaterLeakService,u=rt(m.WaterLeakService,W=>W),ee=document.getElementById("app").getAttribute("degrevement-edito"),B=k.useRef(null),Y=k.useRef(null),se=k.useRef(null),ae=lt(),H=()=>{g(!1)},j=()=>{g(!0)},x=({target:W})=>{V({type:"CONFIRM_INFO",toggleConfirmInfo:W.checked})},N=({target:W})=>{V({type:"CONFIRM_INVOICE",toggleConfirmInvoice:W.checked})},M=({target:W})=>{V({type:"CONFIRM_PHOTOMETER",toggleConfirmPhotometerFiles:W.checked})},X=({reference:W})=>{V({type:"SELECTED_CONTRACT",reference:W}),w(!0)},I=({value:W,label:Ee,..._e})=>{V({type:"SELECTED_METER",selectedMeter:{..._e}})},h=()=>{P(!0)},i=()=>{P(!1)},[n,p]=k.useState([]),[G,O]=k.useState(!1),{getRootProps:R,getInputProps:Q,open:z,fileRejections:$}=gt({accept:Ft,maxFiles:1,maxSize:jt,onDrop:async W=>{O(!0);try{const Ee=W[0],{fileConvert:_e,objectURL:Re}=await bt(Ee);p([Object.assign(Ee,{preview:Re})]),V({type:"DROP_FILE",photo:_e})}catch(Ee){console.error("Error during file processing:",Ee)}finally{O(!1)}},onDropRejected:()=>{O(!1)}});k.useEffect(()=>()=>{n.forEach(W=>URL.revokeObjectURL(W.preview))},[n]);const F=Nt((le=u.context)==null?void 0:le.contracts,{value:"reference"}),[pe,fe]=k.useState({});k.useEffect(()=>{if(F.length===1){fe({value:F[0]});const{reference:W}=F[0];V({type:"SELECTED_CONTRACT",reference:W})}},[(A=u.context)==null?void 0:A.contracts]);const me=u.context.toggleConfirmInfo&&((ve=u.context.selectedContract)==null?void 0:ve.multicounter)&&u.context.selectedContract.eligibility===y.OK,we=u.context.selectedContract&&u.context.toggleConfirmInfo&&u.matches({step1:{contract:{invoice:"lastInvoice"}}})&&!u.context.toggleConfirmInvoice&&u.context.selectedContract.eligibility===y.OK,c=u.context.selectedContract&&u.context.toggleConfirmInfo&&u.context.selectedContract.eligibility==y.OK&&u.matches({step1:{contract:{invoice:"lastInvoice"}}}),o=u.context.toggleConfirmInfo&&u.context.toggleConfirmInvoice&&((ge=(re=u.context)==null?void 0:re.selectedMeter)==null?void 0:ge.type)===L.ESTIMATION&&u.matches({step1:{contract:{photoMeter:"idle"}}});k.useEffect(()=>{if(me){const{current:W}=B;ae(W==null?void 0:W.offsetTop)}},[me]),k.useEffect(()=>{if(c){const{current:W}=Y;ae(W==null?void 0:W.offsetTop)}},[c]),k.useEffect(()=>{if(o){const{current:W}=se;ae(W==null?void 0:W.offsetTop)}},[o]);const[d,w]=k.useState(!1),[b,U]=k.useState(!1);return k.useEffect(()=>{var W,Ee,_e,Re;(Ee=(W=u.context)==null?void 0:W.selectedContract)!=null&&Ee.address||(Re=(_e=u.context)==null?void 0:_e.selectedContract)!=null&&Re.identity?U(!0):U(!1)},[u.context]),e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r.SzModal,{show:v,handleClose:H,size:"xl",backdrop:"static",className:"modal-index",children:[e.jsxDEV("div",{className:"row px-5 mb-2 align-items-center",children:[e.jsxDEV("div",{className:"col-12 col-md-8",children:[e.jsxDEV(r.SzTypographie,{variant:"large",className:"mb-3",weight:"bold",align:"left",children:l("waterleak.step1.modal.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:246,columnNumber:13},this),e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:[l("waterleak.step1.modal.desc1"),e.jsxDEV(ot,{format:"DD/MM/YY",children:(be=(ne=u.context.selectedContract)==null?void 0:ne.invoice)==null?void 0:be.date},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:257,columnNumber:17},this),l("waterleak.step1.modal.desc2")]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:254,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:245,columnNumber:11},this),e.jsxDEV("div",{className:"col-4",children:e.jsxDEV("img",{src:cs,style:{minHeight:"30vh",width:"100%"},alt:""},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:265,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:244,columnNumber:9},this),e.jsxDEV("div",{className:"row px-5 py-3 justify-content-between",style:{rowGap:"2rem"},children:[e.jsxDEV(r.SzButton,{className:"col-12 col-md-4  bg-transparent",variant:"outlined",onClick:()=>H(),children:l("waterleak.step1.modal.ok")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:276,columnNumber:11},this),e.jsxDEV(r.SzButton,{variant:"contained",className:"col-12 col-md-5",onClick:()=>window.location.assign(ee),children:l("waterleak.step1.modal.ko")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:284,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:272,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:237,columnNumber:7},this),e.jsxDEV(r.SzCard,{className:"bg-white mb-2 mt-3",children:e.jsxDEV("div",{className:"container px-md-4 py-3",children:[e.jsxDEV(r.SzTypographie,{variant:"h2",weight:"bold",align:"left",children:l("waterleak.step1.card.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:295,columnNumber:11},this),e.jsxDEV("div",{className:"row mb-3",children:e.jsxDEV(r.SzSelect,{placeholder:l("waterleak.step1.card.refContract.placeholder"),options:F,className:"cy-select-contract col-12 col-md-5",label:l("waterleak.step1.card.refContract.label"),onChange:X,name:"refContract",...pe},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:299,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:298,columnNumber:11},this),d&&e.jsxDEV(e.Fragment,{children:[!b&&e.jsxDEV(is,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:311,columnNumber:45},this),b&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"row mb-3 mt-4 mx-1 py-3 dataCard",children:[e.jsxDEV("div",{className:"row col-12 col-md-6 align-items-center",children:[e.jsxDEV(r.SzIcon,{icon:"maps-pin-1",className:"col-2 col-md-1",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:316,columnNumber:23},this),e.jsxDEV("div",{className:"col-10 col-md-11",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:l("waterleak.step1.card.servedAddress")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:323,columnNumber:25},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:(he=(ye=u.context)==null?void 0:ye.selectedContract)==null?void 0:he.address},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:330,columnNumber:25},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:322,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:315,columnNumber:21},this),e.jsxDEV("div",{className:"row col-12 col-md-6 align-items-center",children:[e.jsxDEV(r.SzIcon,{icon:"single-neutral-id-card-3",className:"col-2 col-md-1",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:336,columnNumber:23},this),e.jsxDEV("div",{className:"col-10 col-md-11",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:l("waterleak.step1.card.identity")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:343,columnNumber:25},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:(K=(ue=u.context)==null?void 0:ue.selectedContract)==null?void 0:K.identity},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:350,columnNumber:25},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:342,columnNumber:23},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:335,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:314,columnNumber:19},this),e.jsxDEV("div",{className:"row ml-1 mt-4 mb-3 ml-md-0 pl-md-3 mb-3",children:e.jsxDEV(r.SzCheckbox,{id:"checkbox",name:"checkbox",className:"cy-check-home",label:l("waterleak.step1.card.checkbox.label"),type:"checkbox",checked:u.context.toggleConfirmInfo||!1,onChange:x},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:357,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:356,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:313,columnNumber:17},this),!u.context.toggleConfirmInfo&&b&&e.jsxDEV(r.SzAlert,{variant:"info",className:"my-2",transparent:!0,children:e.jsxDEV("div",{children:[l("waterleak.step1.card.otherLocation"),e.jsxDEV("a",{href:Ye,className:"basic-link",children:l("waterleak.step1.card.customerService")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:373,columnNumber:21},this),"."]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:371,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:370,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:310,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:294,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:293,columnNumber:7},this),u.context.toggleConfirmInfo&&u.context.selectedContract.eligibility!==y.OK&&e.jsxDEV(rs,{variant:ze[(je=u.context.selectedContract)==null?void 0:je.eligibility],dateDossier:(S=u.context.selectedContract)==null?void 0:S.dateHeureCreationDossier},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:386,columnNumber:11},this),me&&e.jsxDEV(r.SzCard,{className:"bg-white mb-2 mt-3",children:e.jsxDEV("div",{ref:B,className:"container px-md-4 py-3",children:[e.jsxDEV(r.SzTypographie,{variant:"h2",weight:"bold",align:"left",children:l("waterleak.step1.multiMeters.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:399,columnNumber:13},this),e.jsxDEV("div",{className:"row mb-3",style:{rowGap:"1rem"},children:[e.jsxDEV(r.SzSelect,{placeholder:l("waterleak.step1.multiMeters.refMultiMeterContract.placeholder"),options:Nt((C=u.context.selectedContract)==null?void 0:C.counters,{value:"matricule"}),className:"cy-select-meter col-12 col-md-5",label:l("waterleak.step1.multiMeters.refMultiMeterContract.label"),onChange:I,name:"refMultiMeterContract"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:403,columnNumber:15},this),e.jsxDEV("div",{className:"col-12 col-md-7  helperCard",children:e.jsxDEV("div",{className:"row align-items-center py-1",children:[e.jsxDEV(r.SzIcon,{icon:"information-circle",className:"col-1",variant:"bold"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:419,columnNumber:19},this),e.jsxDEV(r.SzTypographie,{className:"col-9",variant:"caption",color:"dark",weight:"regular",children:l("waterleak.step1.multiMeters.twoMeters")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:424,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:418,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:417,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:402,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:398,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:397,columnNumber:9},this),c&&e.jsxDEV(r.SzCard,{className:"mb-2 mt-3 bg-white",children:e.jsxDEV("div",{ref:Y,className:"container px-md-4 py-3",children:[e.jsxDEV(r.SzTypographie,{variant:"h2",weight:"bold",align:"left",children:l("waterleak.step1.bills.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:441,columnNumber:13},this),e.jsxDEV(r.SzCard,{className:"billCard",children:e.jsxDEV("div",{className:"row align-items-center billCard-row",children:[e.jsxDEV("div",{className:"col-6 col-md-3 pl-4 border-right",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:l("waterleak.step1.bills.invoiceNumber")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:448,columnNumber:19},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:(oe=(te=u.context.selectedContract)==null?void 0:te.invoice)==null?void 0:oe.number},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:455,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:447,columnNumber:17},this),e.jsxDEV("div",{className:"col-6 col-md-3",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:l("waterleak.step1.bills.invoiceDate")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:460,columnNumber:19},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:e.jsxDEV(ot,{format:"DD/MM/YY",children:(ce=(We=u.context.selectedContract)==null?void 0:We.invoice)==null?void 0:ce.date},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:468,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:467,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:459,columnNumber:17},this),e.jsxDEV("div",{className:"col-6 col-md-3 pl-4",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:l("waterleak.step1.bills.invoiceAmount")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:474,columnNumber:19},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:`${(Z=(Se=u.context.selectedContract)==null?void 0:Se.invoice)==null?void 0:Z.amount} €`},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:481,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:473,columnNumber:17},this),e.jsxDEV("div",{className:"row col-6 col-md-3 ",children:e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:`Conso. ${ms[((xe=(Ne=u.context)==null?void 0:Ne.selectedMeter)==null?void 0:xe.type)||((Ce=u.context.selectedContract)==null?void 0:Ce.counters[0].type)]}`},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:487,columnNumber:21},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:`${((ke=(Te=u.context)==null?void 0:Te.selectedMeter)==null?void 0:ke.consumption)||((Pe=u.context.selectedContract)==null?void 0:Pe.counters[0].consumption)}
                      m3`},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:499,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:486,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:485,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:446,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:445,columnNumber:13},this),e.jsxDEV("div",{className:"row ml-1 mt-4 mb-3 ml-md-0 pl-md-3 mb-3",children:e.jsxDEV(r.SzCheckbox,{id:"checkboxConfirmInvoice",name:"checkboxConfirmInvoice",label:l("waterleak.step1.bills.checkboxConfirmInvoice.label"),type:"checkbox",checked:u.context.toggleConfirmInvoice||!1,onChange:N,className:"cy-check-leak"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:512,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:511,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:440,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:439,columnNumber:9},this),o&&e.jsxDEV(r.SzCard,{className:"mb-2 mt-3 bg-white",children:e.jsxDEV("div",{ref:se,className:"container px-md-4 py-3",children:[e.jsxDEV(r.SzTypographie,{variant:"h2",weight:"bold",align:"left",children:l("waterleak.step1.index.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:528,columnNumber:13},this),e.jsxDEV(ls,{matricule:(Qe=(Xe=u.context)==null?void 0:Xe.selectedMeter)==null?void 0:Qe.matricule,index:(Ze=u.context)==null?void 0:Ze.index,onChange:W=>{V({type:"INDEX_SET",index:W})}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:531,columnNumber:13},this),e.jsxDEV("div",{className:"row py-3 mx-1 pl-2 align-items-center upLoadCard dropzone",children:[G?e.jsxDEV("div",{className:"col-12 px-0",children:e.jsxDEV(De,{variant:"rectangular",height:50},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:542,columnNumber:19},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:541,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r.SzButton,{className:`cy-upload-photo col-12 ${n.length>0?"col-md-3":"col-md-5"} bg-transparent`,variant:"outlined",icon:n.length>0?"view-1":"attachment",onClick:n.length>0?h:z,children:n.length>0?l("waterleak.step1.index.displayPhoto"):l(a?"waterleak.step1.index.addPhoto.mobile":"waterleak.step1.index.addPhoto.desktop")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:546,columnNumber:19},this),e.jsxDEV("div",{className:`col-12 col-md-5 ${$.length>0&&"pt-4 "}`,...R(),children:[$.length<1?e.jsxDEV(r.SzTypographie,{variant:"caption",color:n.length<1?"disabled":"dark",weight:n.length<1?"light":"bold",children:n.length>0?f&&n[n.length-1].name:l("waterleak.step1.index.fileFormat")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:567,columnNumber:23},this):e.jsxDEV(r.SzAlert,{variant:"danger",children:l("waterleak.step1.index.fileFormat")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:577,columnNumber:23},this),e.jsxDEV(r.SzInput,{placeholder:l("waterleak.step1.index.fileFormat"),...Q(),className:"transparent"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:581,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:560,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:545,columnNumber:17},this),n.length>0&&e.jsxDEV(r.SzButton,{variant:"text",className:"col-12 col-md-4",icon:"pencil-write",alignIcon:"right",onClick:z,children:l("waterleak.step1.index.editPhoto")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:591,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:539,columnNumber:13},this),e.jsxDEV("div",{className:"row ml-1 mt-4 mb-3 ml-md-0 pl-md-3 mb-3",children:((ie=u.context.index)==null?void 0:ie.length)>4&&n.length>0&&e.jsxDEV(r.SzCheckbox,{id:"checkboxEstimateConfirm",name:"checkboxEstimateConfirm",className:"cy-check-capture",label:l("waterleak.step1.index.checkboxEstimateConfirm.label"),type:"checkbox",checked:u.context.toggleConfirmPhotometerFiles||!1,onChange:M},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:605,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:603,columnNumber:13},this),e.jsxDEV(r.SzModal,{show:$.length>0?!1:E,handleClose:i,size:"xl",className:"modal-index",centered:!0,children:e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"pictureContainer m-2",...R(),children:n.length>0&&e.jsxDEV("img",{src:n[n.length-1].preview,alt:""},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:628,columnNumber:21},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:626,columnNumber:17},this),$.length>0&&e.jsxDEV(r.SzAlert,{variant:"danger",className:"mx-auto",children:l("waterleak.step1.index.fileFormat")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:632,columnNumber:19},this),e.jsxDEV(r.SzButton,{variant:"text",className:"col-12",icon:"pencil-write",alignIcon:"right",onClick:z,children:n.length>0?l("waterleak.step1.index.editPhoto"):l("waterleak.step1.index.addPhoto.short")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:636,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:625,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:618,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:527,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:526,columnNumber:9},this),e.jsxDEV("div",{className:"container",children:e.jsxDEV("div",{className:"row px-5 py-3 justify-content-between",style:{rowGap:"2rem"},children:[we&&e.jsxDEV(r.SzButton,{className:"col-12 col-md-3 bg-transparent",variant:"outlined",onClick:()=>j(),children:l("waterleak.step1.wrongInvoice")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:658,columnNumber:13},this),e.jsxDEV(r.SzButton,{variant:"contained",className:`cy-btn-step-1 col-12 col-md-3 ${!we&&"m-auto"} ${u.context.toggleConfirmInfo&&u.context.selectedContract.eligibility!==y.OK?"invisible":""}`,onClick:()=>{t()},isDisabled:(u.context.toggleConfirmInvoice&&((Be=(Ie=u.context)==null?void 0:Ie.selectedMeter)==null?void 0:Be.type)===L.ESTIMATION?!u.context.toggleConfirmPhotometerFiles:!u.context.toggleConfirmInvoice)||!u.context.toggleConfirmInfo||u.matches({step1:{contract:{go2Step2:{}}}}),type:"submit",children:l("waterleak.step1.nextStep")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:667,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:653,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:652,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step1.jsx",lineNumber:236,columnNumber:5},this)}const ds=""+new URL("contract-CA8kcRkR.svg",import.meta.url).href;function ps({goPreviousStep:t}){var U,le,A,ve,re,ge,ne,be,ye,he,ue,K,je;const a=xt(),f=St(),{t:l}=Ae(),[L,y]=k.useState(!1),[v,g]=k.useState([]),[E,P]=k.useState([!1,!1,!1]),[m,V]=k.useState(),[u,ee]=k.useState([!1,!1]),B=k.useRef(null),Y=k.useRef(null),se=k.useRef(null),ae=k.useContext(Ke),{send:H}=ae.WaterLeakService,j=rt(ae.WaterLeakService,S=>S),x=j.matches({formSubmitResponse:"KO_400"}),N=j.context.errorsValidation,[M,X]=k.useState(!1);let I=l("waterleak.step2.error");const{degrevementEdito:h,isIntranet:i}=window.tsme_data,n=lt(),p=[{label:l("waterleak.step2.leak_place.canapcpt"),checked:!1,value:"CANAPCPT"},{label:l("waterleak.step2.leak_place.accapcpt"),checked:!1,value:"ACCAPCPT"},{label:l("waterleak.step2.leak_place.other"),checked:!1}],G=[{label:l("waterleak.step2.leak_place_rare.value01"),checked:!1,value:!0},{label:l("waterleak.step2.leak_place_rare.value02"),checked:!1,value:!1}],O=[{value:"EQPSANIT",label:l("waterleak.step2.location.eqpsanit")},{value:"EQPSANIT ",label:l("waterleak.step2.eqpsanit2")},{value:"EQPCHAUF",label:l("waterleak.step2.location.eqpchauf")},{value:"EQPCHAUF",label:l("waterleak.step2.location.eqpchauf2")},{value:"APPMENAG",label:l("waterleak.step2.location.appmenag")},{value:"INSTPRIV",label:l("waterleak.step2.location.instpriv")},{value:"INSTPRIV",label:l("waterleak.step2.location.instpriv2")},{value:"INSTPRIV",label:l("waterleak.step2.location.instpriv3")},{value:"INSTPRIV",label:l("waterleak.step2.location.instpriv4")}];x&&(N!=null&&N.validation_errors)&&(I="",Object.entries(N==null?void 0:N.validation_errors).slice(0,2).forEach(([,C])=>{I+=`${C} <br/>`})),k.useEffect(()=>{X(!1)},[x]);const R=({target:S})=>{P(()=>{let C=[!1,!1,!1];return C[S.value]=S.checked,C},S.value==2?H({type:"SELECTED_PLACE_OTHER"}):H({type:"SELECTED_PLACE",selectedLeakPlace:p[S.value].value}))},Q=({target:S})=>{ee(()=>{let C=[!1,!1];return C[S.value]=S.checked,C},H({type:"SELECTED_WASTE",leakInWasteWater:G[S.value].value}))},z=()=>{y(!1)},$=()=>{y(!0)},[F,pe]=k.useState(!1),{getInputProps:fe,open:me,fileRejections:we}=gt({accept:zt,maxSize:jt,maxFiles:1,onDrop:async S=>{pe(!0);try{const C=S[0];if(C.type!=="application/pdf"){const{fileConvert:te,objectURL:oe}=await bt(C);g([Object.assign(C,{preview:oe})]),H({type:"DROP_FILE",attachFile:te})}else{const te=C,oe=URL.createObjectURL(C);g([Object.assign(C,{preview:oe})]),H({type:"DROP_FILE",attachFile:te})}}catch(C){console.error("Error during file processing:",C)}finally{pe(!1)}}});k.useEffect(()=>()=>{v.forEach(S=>URL.revokeObjectURL(S.preview))},[v]);const c=()=>{g([]),H({type:"DELETE_FILE",attachFile:[]})},o=S=>{V(S,H({type:"SELECTED_PRECISION",selectedLeakPlace:S.value}))},d=({target:S})=>{H({type:"CONFIRM_FORM",toggleConfirmFormData:S.checked})},w=((U=j.context)==null?void 0:U.attachFile)&&j.context.toggleLeakPlaceOther&&j.matches({step2:"leakPrecision"}),b=((le=j.context)==null?void 0:le.attachFile)&&j.context.toggleLeakPlaceWaste&&j.matches({step2:"waste"});return k.useEffect(()=>{var S;if((S=j.context)!=null&&S.attachFile){const{current:C}=B;n(C==null?void 0:C.offsetTop)}},[(A=j.context)==null?void 0:A.attachFile]),k.useEffect(()=>{if(w){const{current:S}=Y;n(S==null?void 0:S.offsetTop)}},[w]),k.useEffect(()=>{if(b){const{current:S}=se;n(S==null?void 0:S.offsetTop)}},[b]),e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r.SzModal,{show:L,handleClose:z,size:"xl",backdrop:"static",className:"modal-index",children:[e.jsxDEV("div",{className:"row px-5 mb-3",children:[e.jsxDEV("div",{className:"col-8",children:[e.jsxDEV(r.SzTypographie,{variant:"large",className:"mb-3",weight:"bold",align:"left",children:l("waterleak.step2.no_certificate")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:284,columnNumber:13},this),e.jsxDEV(r.SzTypographie,{color:"disabled",weight:"regular",children:l("waterleak.step2.no_certificate_info")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:292,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:283,columnNumber:11},this),e.jsxDEV("div",{className:"col-4",children:e.jsxDEV("img",{src:ds,style:{minHeight:"30vh"},alt:l("waterleak.step2.representation_of_contracts")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:297,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:296,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:282,columnNumber:9},this),e.jsxDEV("div",{className:"row px-5 py-3 justify-content-between",style:{rowGap:"2rem"},children:[e.jsxDEV(r.SzButton,{className:"col-12 col-md-4 bg-transparent",variant:"outlined",onClick:z,children:l("waterleak.step2.i_have_certificate")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:308,columnNumber:11},this),e.jsxDEV(r.SzButton,{className:"col-12 col-md-6",onClick:()=>window.location.assign(h),children:l("waterleak.step2.leave_request_form")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:316,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:304,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:275,columnNumber:7},this),e.jsxDEV(r.SzCard,{className:"mb-2 mt-3 bg-white",children:e.jsxDEV("div",{className:"row  mx-1 justify-content-center",children:[e.jsxDEV("div",{className:"row col-12 col-md-6 align-items-center",children:[e.jsxDEV(r.SzIcon,{icon:"pin-location-1",className:"col-2 col-md-1",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:327,columnNumber:13},this),e.jsxDEV("div",{className:"col-10 col-md-11",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:l("waterleak.step2.address_served")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:334,columnNumber:15},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:(re=(ve=j.context)==null?void 0:ve.selectedContract)==null?void 0:re.address},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:341,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:333,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:326,columnNumber:11},this),e.jsxDEV("div",{className:"row col-12 col-md-6 align-items-center",children:[e.jsxDEV(r.SzIcon,{icon:"common-file-text",className:"col-2 col-md-1",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:347,columnNumber:13},this),e.jsxDEV("div",{className:"col-10 col-md-11",children:[e.jsxDEV(r.SzTypographie,{variant:"caption",color:"disabled",weight:"regular",children:l("waterleak.step2.invoice_to_process")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:354,columnNumber:15},this),e.jsxDEV(r.SzTypographie,{variant:"text",weight:"medium",children:(ne=(ge=j.context.selectedContract)==null?void 0:ge.invoice)==null?void 0:ne.number},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:361,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:353,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:346,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:325,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:324,columnNumber:7},this),e.jsxDEV(r.SzCard,{className:"bg-white mb-2 mt-3 ",children:e.jsxDEV("div",{className:"container px-md-4 py-3",children:[e.jsxDEV(r.SzTypographie,{variant:"h2",weight:"bold",align:"left",children:l("waterleak.step2.send_us_repair_certificate_or_invoice")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:371,columnNumber:11},this),F?e.jsxDEV("div",{className:"col-12 mb-2 px-0",children:e.jsxDEV(De,{variant:"rectangular",height:50},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:377,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:376,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r.SzInput,{...fe(),className:"transparent"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:381,columnNumber:15},this),e.jsxDEV("div",{className:"row ml-1 p-3 mb-3 align-items-center attachementCard",children:[e.jsxDEV(r.SzButton,{variant:v.length>0?"text":"outlined",className:"cy-upload-attestation col-12 col-md-5",icon:v.length>0?"pencil-write":"attachment",onClick:me,children:v.length>0?"Changer d'attestation":"Joindre votre attestation"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:383,columnNumber:17},this),v.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r.SzTypographie,{variant:"caption",className:"col-5",color:"disabled",weight:"regular",children:v.length>0&&f&&v[v.length-1].name},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:395,columnNumber:21},this),e.jsxDEV(r.SzButton,{variant:"text",className:"col-12 col-md-2",icon:f&&"bin-2-alternate",onClick:c,children:a&&"Supprimer"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:406,columnNumber:21},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:394,columnNumber:19},this):e.jsxDEV(r.SzTypographie,{className:"col-12 col-md-7",variant:"caption",color:we.length>0?"danger":"disabled",weight:"regular",children:l("waterleak.step2.accepted_files")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:416,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:382,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:380,columnNumber:13},this),!((be=j.context)!=null&&be.attachFile)&&e.jsxDEV("div",{className:"row ml-1 p-3 mb-3 align-items-center helperCard",children:[e.jsxDEV(r.SzIcon,{icon:"information-circle",className:"col-1",variant:"bold"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:431,columnNumber:15},this),e.jsxDEV(r.SzTypographie,{className:"col-9",variant:"caption",color:"dark",weight:"regular",children:[l("waterleak.step2.must_specify"),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:l("waterleak.step2.companys_siretsiren_number")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:444,columnNumber:19},this),e.jsxDEV("li",{children:l("waterleak.step2.location_leak")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:445,columnNumber:19},this),e.jsxDEV("li",{children:l("waterleak.step2.mention_leak_repaired")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:446,columnNumber:19},this),e.jsxDEV("li",{children:l("waterleak.step2.date_repair")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:447,columnNumber:19},this),e.jsxDEV("li",{children:l("waterleak.step2.report_certificate")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:448,columnNumber:19},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:443,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:436,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:430,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:370,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:369,columnNumber:7},this),((ye=j.context)==null?void 0:ye.attachFile)&&e.jsxDEV(r.SzCard,{className:"mb-2 mt-3 bg-white",children:e.jsxDEV("div",{ref:B,className:"cy-bloc-where-leak container px-md-4 py-3",children:[e.jsxDEV(r.SzTypographie,{variant:"h2",className:"mb-3",weight:"bold",align:"left",children:l("waterleak.step2.where_is_leak")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:462,columnNumber:13},this),p.map((S,C)=>e.jsxDEV(r.SzCheckbox,{id:`leakPlace${C}`,name:`leakPlace${C}`,label:S.label,type:"radio",className:"my-3",value:C,checked:E[C]||!1,onChange:R},`leakPlace${C}`,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:473,columnNumber:17},this)),!E.find(S=>S===!0)&&e.jsxDEV("div",{className:"row ml-1 p-3 mt-4 mb-3 align-items-center helperCard",children:[e.jsxDEV(r.SzIcon,{icon:"information-circle",className:"col-1",variant:"bold"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:491,columnNumber:17},this),e.jsxDEV(r.SzTypographie,{className:"col-9",variant:"caption",color:"dark",weight:"regular",children:l("waterleak.step2.leak_place_info")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:496,columnNumber:17},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:490,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:458,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:457,columnNumber:9},this),w&&e.jsxDEV(r.SzCard,{className:"mb-2 mt-3 bg-white",children:e.jsxDEV("div",{ref:Y,className:"cy-bloc-desc-other container px-md-4 py-3",children:[e.jsxDEV(r.SzTypographie,{variant:"h2",className:"mb-3",weight:"bold",align:"left",children:l("waterleak.step2.please_specify_location_leak")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:516,columnNumber:13},this),e.jsxDEV("div",{className:"row no-gutters mb-3",children:e.jsxDEV(r.SzSelect,{placeholder:"Choisissez parmi les propositions",options:O,value:m,className:"col-12 col-md-6",onChange:o,name:"locationLeak"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:525,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:524,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:512,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:511,columnNumber:9},this),b&&e.jsxDEV(r.SzCard,{className:"mb-2 mt-3 bg-white",children:e.jsxDEV("div",{ref:se,className:"cy-bloc-choice-water container px-md-4 py-3",children:[e.jsxDEV(r.SzTypographie,{variant:"h2",className:"mb-3",weight:"bold",align:"left",children:l("waterleak.step2.regarding_volume_water_leak")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:544,columnNumber:13},this),G.map((S,C)=>e.jsxDEV(r.SzCheckbox,{id:`leakPlaceRareCase${C}`,name:`leakPlaceRareCase${C}`,label:S.label,type:"radio",className:"my-3",value:C,checked:u[C]||!1,onChange:Q},`leakPlaceRareCase${C}`,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:555,columnNumber:17},this))]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:540,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:539,columnNumber:9},this),((he=j.context)==null?void 0:he.attachFile)&&((ue=j.context)==null?void 0:ue.selectedLeakPlace)&&e.jsxDEV("div",{className:"container",children:e.jsxDEV("div",{className:"row px-4 ml-1 mt-4 mb-3 ml-md-0 mb-3",children:e.jsxDEV(r.SzCheckbox,{id:"checkboxConfirm",name:"checkboxConfirm",className:"cy-check-confirm-validation",label:"Je confirme l’exactitude des informations transmises et je souhaite que ma demande de remise sur facture suite à une fuite soit étudiée dans le cadre de la loi Warsmann.",type:"checkbox",checked:j.context.toggleConfirmFormData||!1,onChange:d},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:574,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:573,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:572,columnNumber:9},this),x&&e.jsxDEV("div",{className:"container",children:e.jsxDEV("div",{className:"row justify-content-between",style:{rowGap:"2rem"},children:e.jsxDEV(r.SzAlert,{variant:"danger",className:"col-12 py-2",children:e.jsxDEV("div",{dangerouslySetInnerHTML:{__html:I}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:594,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:593,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:589,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:588,columnNumber:9},this),e.jsxDEV("div",{className:"container",children:e.jsxDEV("div",{className:"row px-5 py-3 justify-content-between",style:{rowGap:"2rem"},children:[e.jsxDEV(r.SzButton,{className:"col-12 col-md-3 bg-transparent",variant:"outlined",icon:"arrow-left",onClick:()=>{t()},children:l("waterleak.step2.previous_step")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:605,columnNumber:11},this),!((K=j.context)!=null&&K.attachFile)&&e.jsxDEV(r.SzButton,{className:"col-12 col-md-3 ml-auto mr-1 bg-transparent",variant:"text",icon:"messages-bubble-question",alignIcon:"right",onClick:$,children:l("waterleak.step2.i_dont_have_certificate")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:617,columnNumber:13},this),e.jsxDEV(r.SzButton,{variant:"contained",loader:M,className:"cy-btn-step2 col-12 col-md-3",onClick:()=>{X(!0,H("SUBMIT_FORM"))},isDisabled:i||!((je=j.context)!=null&&je.attachFile)||!j.context.toggleConfirmFormData,type:"submit",children:l("waterleak.step2.send_request")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:628,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:601,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:600,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Step2.jsx",lineNumber:274,columnNumber:5},this)}const fs={activeStep:0,variant:"complexed",displayProgress:!0,header:["Facture à traiter","Informations concernant la fuite"]};function ws(t){const a=t.indice||0,[f,l]=k.useState(a),L=k.useContext(Ke),{send:y}=L.WaterLeakService,v=lt({top:0}),g=()=>{l(f+1,y("click"))},E=()=>{l(f-1,y("click"))};return k.useEffect(()=>{v()},[f]),e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"container mt-4 p-0 position-relative",children:e.jsxDEV(r.SzStepper,{...fs,className:"bg-transparent",activeStep:f,children:[e.jsxDEV(r.SzStepper.SzHeader,{className:"bg-transparent mx-auto justify-content-center"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Stepper.jsx",lineNumber:43,columnNumber:11},this),e.jsxDEV(r.SzStepper.SzStep,{className:"bg-transparent p-0",index:0,children:e.jsxDEV(us,{goToNextStep:g},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Stepper.jsx",lineNumber:45,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Stepper.jsx",lineNumber:44,columnNumber:11},this),e.jsxDEV(r.SzStepper.SzStep,{className:"bg-transparent p-0",index:1,children:e.jsxDEV(ps,{goPreviousStep:E},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Stepper.jsx",lineNumber:48,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Stepper.jsx",lineNumber:47,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Stepper.jsx",lineNumber:38,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Stepper.jsx",lineNumber:37,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/Stepper.jsx",lineNumber:36,columnNumber:5},this)}const hs=t=>{const a=t.matches("serverError"),f=t.matches({formSubmitResponse:"KO_DELAI"}),l=t.matches({formSubmitResponse:"KO_LOC"}),L=t.matches({formSubmitResponse:"OK"});return[a,f,l,L]},vs=()=>{const t=k.useContext(Ke),[a,f,l,L]=rt(t.WaterLeakService,hs);return a?e.jsxDEV("div",{className:"container",children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:29,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:28,columnNumber:7},void 0):f?e.jsxDEV("div",{className:"container",children:e.jsxDEV(vt,{variant:"warsmann"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:35,columnNumber:7},void 0):l?e.jsxDEV("div",{className:"container",children:e.jsxDEV(vt,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:43,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:42,columnNumber:7},void 0):L?e.jsxDEV("div",{className:"container",children:e.jsxDEV(os,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:51,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:50,columnNumber:7},void 0):e.jsxDEV(ws,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:55,columnNumber:10},void 0)};function zs(){return e.jsxDEV(ts,{children:e.jsxDEV(vs,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:61,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/WaterLeak/index.jsx",lineNumber:60,columnNumber:5},this)}export{zs as default};

import{j as e,b as l}from"./index-BzhTyqaY.js";import{r as x}from"./index-0X8QCd_i.js";import{C as k,v as z}from"./react-spring-web.esm-DsMzZgQq.js";import{M as U}from"./index-kwWzU9du.js";import{K as A,R as I,O as r}from"./main-BbuvrTKi.js";import{u as _}from"./useQuery-DDRZMcvI.js";import{M as C}from"./index-E8Xemi00.js";import{S as t}from"./index-R4VhrMC6.js";import{E as F}from"./index-CrOxkS7a.js";import{u as L}from"./useResponsive-DQBhMvnf.js";import{a as O,A as B}from"./AxiosInstance-BZZbXQ8a.js";import{u as m}from"./useTranslation-BYGhmYBG.js";import"./index-BoI371yk.js";import"./index-4p5aklhB.js";import"./throttle-C5YRRb_b.js";import"./_baseIsEqual-DwR-aJgz.js";import"./formik.esm-DgjVmEdT.js";import"./index-m5SwaE3w.js";import"./recaptcha-wrapper-CLWKokWK.js";/* empty css              */import"./useMutation-DnofRurj.js";/* empty css                         */import"./nonIterableRest-CnCppAvF.js";import"./useIsFetching-B7nv8BYd.js";import"./index-CxdTol_D.js";import"./iframe-CrganuSH.js";import"../sb-preview/runtime.js";import"./Tips-j9k3pi84.js";import"./useInterweave-MFQvh887.js";import"./light-bulb-shine-BN5xHApG.js";import"./createWithBsPrefix--uDGuUX5.js";import"./divWithClassName-BF71WaKi.js";function G(){return e.jsxDEV("div",{className:"my-requests-skeleton w-100",children:[e.jsxDEV("div",{className:"row px-lg-0 py-3 py-lg-0 pb-lg-3",children:[e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:250,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:10,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:9,columnNumber:9},this),e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:100,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:13,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:12,columnNumber:9},this),e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:120,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:15,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:8,columnNumber:7},this),e.jsxDEV("div",{className:"d-flex py-3 my-requests-skeleton-row",children:[e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:200},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:21,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:20,columnNumber:9},this),e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:200},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:24,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:23,columnNumber:9},this),e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:180},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:27,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:26,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:19,columnNumber:7},this),e.jsxDEV("div",{className:"d-flex py-3 my-requests-skeleton-row",children:[e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:300},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:32,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:31,columnNumber:9},this),e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:200},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:35,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:34,columnNumber:9},this),e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:200},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:38,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:30,columnNumber:7},this),e.jsxDEV("div",{className:"d-flex py-3 my-requests-skeleton-row",children:[e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:180},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:43,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:42,columnNumber:9},this),e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:200},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:46,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:45,columnNumber:9},this),e.jsxDEV("div",{className:"col",children:e.jsxDEV(t,{width:150},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:41,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Skeleton/MyRequests/index.jsx",lineNumber:7,columnNumber:5},this)}const P=()=>{const{t:s}=m();return["requestObject","date","status"].map((o,n)=>e.jsxDEV("tr",{children:e.jsxDEV("th",{className:"text-left",children:e.jsxDEV(l.SzTypographie,{variant:"H3",size:"L",weight:"medium",tag:"h2",className:"mb-0",children:s("myRequestsFollowUp.table",{context:o})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:23,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:22,columnNumber:7},void 0)},n,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:21,columnNumber:5},void 0))},H=({appointment:s})=>{const a=L(),{t:o}=m(),{date:n,start_hour:w,end_hour:c}=s;return e.jsxDEV("div",{className:"col-12 col-md-6 border p-3 mt-3 sz-border-1 rounded-2 appointment",children:e.jsxDEV("div",{className:"d-flex align-items-center",children:[e.jsxDEV(l.SzIcon,{icon:"calendar-3",variant:"line",className:"text-primary-dark appointment-icon"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:44,columnNumber:9},void 0),e.jsxDEV(l.SzTypographie,{variant:a?"caption":"body",size:a?"M":"S",weight:"medium",className:"mb-0 ml-2 text-primary-dark",children:o("myRequestsFollowUp.appointmentInfo",{date:n,start:w,end:c})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:49,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:43,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:42,columnNumber:5},void 0)},Q=({channel:s})=>{const{t:a}=m();return e.jsxDEV("div",{className:"row no-gutters",children:[e.jsxDEV(l.SzTypographie,{variant:"caption",size:"M",className:"text-dark mt-3 mr-1 mb-0",children:a("myRequestsFollowUp.requestChannel")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:70,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{variant:"caption",size:"M",className:"text-dark mt-3 mb-0",children:a(`myRequestsFollowUp.channel.${s}`)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:77,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:69,columnNumber:5},void 0)},X=({status_code:s})=>{switch(s){case r.STATUS.REGISTERED:return e.jsxDEV(l.SzIcon,{icon:"hourglass-1",variant:"line",className:"registered-icon"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:88,columnNumber:9},void 0);case r.STATUS.PENDING:case r.STATUS.IBAN:return e.jsxDEV(l.SzIcon,{icon:"alarm-bell",variant:"line",className:"pending-icon"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:93,columnNumber:9},void 0);case r.STATUS.ONGOING:return e.jsxDEV(l.SzIcon,{icon:"time-clock-circle-1",variant:"line",className:"ongoing-icon"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:97,columnNumber:9},void 0);case r.STATUS.ACCEPTED:case r.STATUS.DONE:return e.jsxDEV(l.SzIcon,{icon:"check-1",variant:"line",className:"done-icon"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:105,columnNumber:14},void 0);case r.STATUS.CANCELED:case r.STATUS.REFUSED:return e.jsxDEV(l.SzIcon,{icon:"close",variant:"line",className:"canceled-icon"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:108,columnNumber:14},void 0);case r.STATUS.ERROR:return e.jsxDEV(l.SzIcon,{icon:"alert-triangle",variant:"line",className:"error-icon"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:111,columnNumber:9},void 0);default:return null}},K=({status_code:s,status_label:a})=>e.jsxDEV("div",{className:"d-flex align-items-center mt-2 mt-md-0",children:[e.jsxDEV(X,{status_code:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:121,columnNumber:7},void 0),e.jsxDEV(l.SzTypographie,{variant:"body",size:"S",weight:"medium",className:"text-dark text-left ml-2 mb-0",children:a},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:122,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:120,columnNumber:5},void 0),$=({appointment:s,channel:a,status_code:o})=>{const{t:n}=m();return e.jsxDEV(l.SzTypographie,{variant:"body",size:"S",weight:"medium",className:"text-dark mb-0",tag:"span",children:[e.jsxDEV(C,{content:n(`myRequestsFollowUp.status.${o}`,{customerServiceLink:A,ibanLink:I.ACCOUNT_IBAN})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:145,columnNumber:7},void 0),s&&e.jsxDEV(H,{appointment:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:151,columnNumber:23},void 0),a&&e.jsxDEV(Q,{channel:a},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:152,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:138,columnNumber:5},void 0)};function W(){const{t:s}=m(),[a,o]=x.useState([]),[n,w]=x.useState(!1),{data:c,isError:v,isFetching:y}=_("requests_list",()=>O.get(B.REQUESTS_GET_LIST),{onSuccess:({data:u})=>{const{cases:i}=(u==null?void 0:u.content)||[];N(i,r.MAX_ITEMS_LIST),w(r.MAX_ITEMS_LIST<i.length)}}),N=(u,i=null)=>{let f=[];i&&(u=u.slice(0,i)),u.map(g=>{var j;const{ats:p,canal:E,created_at_date:R,created_at_time:D,object:S,status_code:b,status_label:T}=g,M=p[0]&&((j=p[0])==null?void 0:j.appointment),V={fields:{title:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(l.SzTypographie,{variant:"body",className:"text-dark text-left mb-0",children:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:194,columnNumber:15},this),e.jsxDEV(l.SzTypographie,{variant:"body",className:"text-dark text-left mr-md-2 mb-0",children:s("myRequestsFollowUp.requestDateRegistered",{date:R,hour:D})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:200,columnNumber:15},this),e.jsxDEV(K,{status_code:b,status_label:T},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:193,columnNumber:13},this),content:e.jsxDEV($,{appointment:M,channel:E,status_code:b},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:216,columnNumber:13},this)}};f.push(V)}),o(f)},h=()=>{var i;const{cases:u}=((i=c==null?void 0:c.data)==null?void 0:i.content)||[];N(u),w(!1)},d="bg-white rounded-2 shadow-sm p-lg-5";if(y)return e.jsxDEV("div",{className:d,children:e.jsxDEV(G,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:242,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:241,columnNumber:7},this);if(v)return e.jsxDEV("div",{className:d,children:e.jsxDEV(l.SzTypographie,{variant:"caption",color:"danger",children:s("errors.techError")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:250,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:249,columnNumber:7},this);const q=a&&a.length>0;return e.jsxDEV("div",{className:d,children:[q?e.jsxDEV("table",{className:"requests-table w-100",role:"presentation",children:[e.jsxDEV("thead",{className:"table-header px-3 px-lg-0 py-3 py-lg-0 pb-lg-3",children:e.jsxDEV(P,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:264,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:263,columnNumber:11},this),e.jsxDEV("tbody",{children:e.jsxDEV("tr",{children:e.jsxDEV("td",{children:e.jsxDEV(F,{className:"mt-0",toggle:!0,activeKey:"",data:a,buttonArrow:!0,borderBottom:!1,isTable:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:269,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:268,columnNumber:15},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:267,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:266,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:262,columnNumber:9},this):e.jsxDEV(l.SzTypographie,{variant:"text",className:"text-dark mb-2",children:s("myRequestsFollowUp.no_requests")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:283,columnNumber:9},this),n&&e.jsxDEV(l.SzButton,{className:"ml-3 ml-lg-0 my-4 mt-lg-4 mb-lg-0",variant:"contained",border:"soft",onClick:h,children:s("myRequestsFollowUp.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:289,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/MyRequestsTable.jsx",lineNumber:260,columnNumber:5},this)}const J=""+new URL("hands_waterglass-BdwhwCgg.jpg",import.meta.url).href;function Me(){const{t:s}=m();return e.jsxDEV(k,{fullscreen:!0,className:"p-0",tag:"main",children:[e.jsxDEV(z,{ellipseImg:J,children:[e.jsxDEV("div",{className:"row pt-5 pt-md-3 pt-lg-0",children:e.jsxDEV("div",{className:"col-12 mt-5",children:e.jsxDEV(l.SzTypographie,{variant:"H1",size:"XL",color:"white",className:"text-uppercase",weight:"black",children:s("myRequestsFollowUp.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:19,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:18,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:17,columnNumber:9},this),e.jsxDEV("div",{className:"my-requests-container",children:e.jsxDEV("div",{className:"col-12 p-0 mx-auto",children:e.jsxDEV(W,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:32,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:31,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:30,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:16,columnNumber:7},this),e.jsxDEV(U,{needMessage:!1},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:36,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/my-requests-follow-up/index.jsx",lineNumber:15,columnNumber:5},this)}export{Me as default};

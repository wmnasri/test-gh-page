import{j as l,b as L}from"./index-BAjkLHRS.js";import{u as z,a7 as I,a8 as X,M as T,L as U}from"./react-spring-web.esm-BXduOQz-.js";import{E as $}from"./EcoWaterCard-gENYlceX.js";import{r as x}from"./index-Djf8kdDz.js";import{u as A}from"./useTranslation-Cclpl_OC.js";const Y="Left",H="Right",B="Up",q="Down",N={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},M={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},k="mousemove",C="mouseup",F="touchend",G="touchmove",K="touchstart";function J(t,m,o,a){return t>m?o>0?H:Y:a>0?q:B}function R(t,m){if(m===0)return t;const o=Math.PI/180*m,a=t[0]*Math.cos(o)+t[1]*Math.sin(o),f=t[1]*Math.cos(o)-t[0]*Math.sin(o);return[a,f]}function Q(t,m){const o=s=>{const n="touches"in s;n&&s.touches.length>1||t((e,r)=>{r.trackMouse&&!n&&(document.addEventListener(k,a),document.addEventListener(C,p));const{clientX:h,clientY:i}=n?s.touches[0]:s,u=R([h,i],r.rotationAngle);return r.onTouchStartOrOnMouseDown&&r.onTouchStartOrOnMouseDown({event:s}),Object.assign(Object.assign(Object.assign({},e),M),{initial:u.slice(),xy:u,start:s.timeStamp||0})})},a=s=>{t((n,e)=>{const r="touches"in s;if(r&&s.touches.length>1)return n;if(s.timeStamp-n.start>e.swipeDuration)return n.swiping?Object.assign(Object.assign({},n),{swiping:!1}):n;const{clientX:h,clientY:i}=r?s.touches[0]:s,[u,d]=R([h,i],e.rotationAngle),g=u-n.xy[0],w=d-n.xy[1],j=Math.abs(g),v=Math.abs(w),D=(s.timeStamp||0)-n.start,P=Math.sqrt(j*j+v*v)/(D||1),_=[g/(D||1),w/(D||1)],W=J(j,v,g,w),y=typeof e.delta=="number"?e.delta:e.delta[W.toLowerCase()]||N.delta;if(j<y&&v<y&&!n.swiping)return n;const S={absX:j,absY:v,deltaX:g,deltaY:w,dir:W,event:s,first:n.first,initial:n.initial,velocity:P,vxvy:_};S.first&&e.onSwipeStart&&e.onSwipeStart(S),e.onSwiping&&e.onSwiping(S);let V=!1;return(e.onSwiping||e.onSwiped||e[`onSwiped${W}`])&&(V=!0),V&&e.preventScrollOnSwipe&&e.trackTouch&&s.cancelable&&s.preventDefault(),Object.assign(Object.assign({},n),{first:!1,eventData:S,swiping:!0})})},f=s=>{t((n,e)=>{let r;if(n.swiping&&n.eventData){if(s.timeStamp-n.start<e.swipeDuration){r=Object.assign(Object.assign({},n.eventData),{event:s}),e.onSwiped&&e.onSwiped(r);const h=e[`onSwiped${r.dir}`];h&&h(r)}}else e.onTap&&e.onTap({event:s});return e.onTouchEndOrOnMouseUp&&e.onTouchEndOrOnMouseUp({event:s}),Object.assign(Object.assign(Object.assign({},n),M),{eventData:r})})},c=()=>{document.removeEventListener(k,a),document.removeEventListener(C,p)},p=s=>{c(),f(s)},b=(s,n)=>{let e=()=>{};if(s&&s.addEventListener){const r=Object.assign(Object.assign({},N.touchEventOptions),n.touchEventOptions),h=[[K,o,r],[G,a,Object.assign(Object.assign({},r),n.preventScrollOnSwipe?{passive:!1}:{})],[F,f,r]];h.forEach(([i,u,d])=>s.addEventListener(i,u,d)),e=()=>h.forEach(([i,u])=>s.removeEventListener(i,u))}return e},E={ref:s=>{s!==null&&t((n,e)=>{if(n.el===s)return n;const r={};return n.el&&n.el!==s&&n.cleanUpTouch&&(n.cleanUpTouch(),r.cleanUpTouch=void 0),e.trackTouch&&s&&(r.cleanUpTouch=b(s,e)),Object.assign(Object.assign(Object.assign({},n),{el:s}),r)})}};return m.trackMouse&&(E.onMouseDown=o),[E,b]}function Z(t,m,o,a){return!m.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?m.preventScrollOnSwipe!==o.preventScrollOnSwipe||m.touchEventOptions.passive!==o.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:a(t.el,m)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:a(t.el,m)})}function ee(t){const{trackMouse:m}=t,o=x.useRef(Object.assign({},M)),a=x.useRef(Object.assign({},N)),f=x.useRef(Object.assign({},a.current));f.current=Object.assign({},a.current),a.current=Object.assign(Object.assign({},N),t);let c;for(c in N)a.current[c]===void 0&&(a.current[c]=N[c]);const[p,b]=x.useMemo(()=>Q(O=>o.current=O(o.current,a.current),{trackMouse:m}),[m]);return o.current=Z(o.current,a.current,f.current,b),p}const te=({data:t,children:m})=>{const{t:o}=A(),a=300,f=z(),c=f?-10:0,[p,b]=x.useState(1),[O]=x.useState(t.length),[E,s]=x.useState(c),[n,e]=I(()=>({config:{duration:250},left:c,onRest:({value:i})=>{s(i.left)}})),r=ee({trackMouse:!0,onSwiped:({dir:i})=>{const u=n.left.get(),d=-Math.abs((t.length-1)*a),g=-(a*(t.length-1))+c;i==="Left"&&(u<=d?(e.start({left:c}),b(1)):(E===0||u<E)&&(e.start({left:-(a*p)+c}),b(w=>w+1))),i==="Right"&&(u>c?(e.start({left:g}),b(t.length)):(e.start({left:-(a*(p-2))+c}),b(w=>w-1)))},onSwiping:({dir:i,velocity:u})=>{const d=n.left.get(),g=-Math.abs((t.length-1)*a),w=f?120:80,j=115;if(i==="Left"){const v=d-j*u;g-w<v?e.start({left:v}):e.start({left:g-w})}if(i==="Right"){const v=d+j*u;d<c+w?e.start({left:v}):e.start({left:c+w})}}}),h=i=>{const u=d=>-((d-1)*a)+c;b(d=>d===1&&i===1?(e.start({left:u(t.length)}),t.length):d===t.length&&i===t.length?(e.start({left:c}),1):(e.start({left:u(i)}),i))};return l.jsxDEV("div",{...r,className:"carousel",children:l.jsxDEV("div",{className:"carousel__wrapper overflow-hidden",children:[l.jsxDEV(X.div,{style:{left:n.left.to(i=>`${i}px`),position:"relative"},className:"carousel__container d-inline-flex py-5 py-sm-4 px-0 px-sm-5",children:t.map((i,u)=>l.jsxDEV("div",{className:"carousel__item px-3",children:m(i)},`carousel__item${u}`,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:113,columnNumber:13},void 0))},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:105,columnNumber:9},void 0),l.jsxDEV("div",{className:"carousel__nav d-flex d-md-block justify-content-center pl-0 pr-4 pl-sm-5 pr-sm-0 ml-0 ml-sm-3 my-3",children:l.jsxDEV(L.SzPagination,{totalItemsCount:O,activePage:p,onChange:h,itemsCountPerPage:1,pageRangeDisplayed:1,variant:"custom",aria:{prevLabel:o("aria.previous"),nextLabel:o("aria.next")}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:119,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:118,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:104,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/Carousel/index.tsx",lineNumber:103,columnNumber:5},void 0)},ne=({title:t,description:m,button:o,cards:a})=>l.jsxDEV("div",{className:"row no-gutters",children:[l.jsxDEV("div",{className:"col-12 col-sm-4 pr-3 pr-sm-0 pt-3",style:{zIndex:1},children:[l.jsxDEV(L.SzTypographie,{variant:"H1",size:"L",children:l.jsxDEV(T,{noWrap:!0,content:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:27,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:26,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4",children:l.jsxDEV(L.SzTypographie,{size:"XL",className:"text-dark",children:l.jsxDEV(T,{noWrap:!0,content:m},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:31,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:30,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:29,columnNumber:9},void 0),o&&l.jsxDEV(L.SzButton,{variant:"contained",border:"soft",className:"mt-3",children:l.jsxDEV(U,{to:o[0],className:"text-decoration-none text-white",children:l.jsxDEV(T,{noWrap:!0,content:o[1]},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:40,columnNumber:15},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:36,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:35,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:25,columnNumber:7},void 0),l.jsxDEV("div",{className:"col-12 col-sm-8",children:l.jsxDEV(te,{data:a,children:f=>{const c=f.title.toLowerCase().replace(/\s+/g,"-");return l.jsxDEV(U,{to:f.link[0],className:"text-decoration-none d-flex h-100","data-cy":`card-lame-${c}`,children:l.jsxDEV($,{title:f.title,photo:f.photo,type:f.type,scale:f.scale,link:f.link},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:57,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:52,columnNumber:15},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:46,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ecoWater/EcoWaterLame.tsx",lineNumber:24,columnNumber:5},void 0),ce=ne;export{ce as E,ee as u};

import{j as n,b as y,c as Ea,v as Aa,w as Da}from"./index-BAjkLHRS.js";import{g as Ze,r as D,R as da,a as Sa}from"./index-Djf8kdDz.js";import{bv as Ma,bw as Va,bx as Ba,O as _e,d as Z,by as X,$ as re,L as Ee,u as Ae,h as De,S as K,Y as U,ao as ka,W as ba,V as be,B as ee,t as F,k as ie,A as oe,l as Se,bz as Pa,a as fe,br as ce,q as fa,bA as pa,y as de,az as Ra,aA as Ca,bB as Xe}from"./react-spring-web.esm-BXduOQz-.js";/* empty css              *//* empty css                         */import{r as Fa}from"./index-CCqWUn_M.js";import{B as ha}from"./index-BYcN8_oV.js";import{F as pe}from"./index-CMwthcxG.js";import{u as P}from"./useTranslation-Cclpl_OC.js";import{F as se}from"./FormError-B1L9786s.js";import{p as Na,I as va}from"./PhoneInput-B4baFBfA.js";import{n as Qe}from"./index-CnVkoL_H.js";import{G as ga}from"./index-B1FFCuch.js";import{P as La,u as $a}from"./PaymentChoice-CjOlchtg.js";var Ie={};const Oa=Ze(Ma),Ta=Ze(Va),za=Ze(Ba);(function(e){function t(o){return o&&typeof o=="object"&&"default"in o?o.default:o}Object.defineProperty(e,"__esModule",{value:!0});var s=Oa,r=t(D),a=Ta,i=t(za);function l(){return(l=Object.assign||function(o){for(var I=1;I<arguments.length;I++){var w=arguments[I];for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(o[_]=w[_])}return o}).apply(this,arguments)}function c(o,I){o.prototype=Object.create(I.prototype),u(o.prototype.constructor=o,I)}function u(o,I){return(u=Object.setPrototypeOf||function(w,_){return w.__proto__=_,w})(o,I)}function f(o,I){if(o==null)return{};var w,_,M={},V=Object.keys(o);for(_=0;_<V.length;_++)w=V[_],0<=I.indexOf(w)||(M[w]=o[w]);return M}var g=function(o){function I(){for(var w,_=arguments.length,M=new Array(_),V=0;V<_;V++)M[V]=arguments[V];return(w=o.call.apply(o,[this].concat(M))||this).history=a.createBrowserHistory(w.props),w}return c(I,o),I.prototype.render=function(){return r.createElement(s.Router,{history:this.history,children:this.props.children})},I}(r.Component),p=function(o){function I(){for(var w,_=arguments.length,M=new Array(_),V=0;V<_;V++)M[V]=arguments[V];return(w=o.call.apply(o,[this].concat(M))||this).history=a.createHashHistory(w.props),w}return c(I,o),I.prototype.render=function(){return r.createElement(s.Router,{history:this.history,children:this.props.children})},I}(r.Component),b=function(o,I){return typeof o=="function"?o(I):o},j=function(o,I){return typeof o=="string"?a.createLocation(o,null,null,I):o},A=function(o){return o},m=r.forwardRef;function N(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}m===void 0&&(m=A);var v=m(function(o,I){var w=o.innerRef,_=o.navigate,M=o.onClick,V=f(o,["innerRef","navigate","onClick"]),k=V.target,R=l({},V,{onClick:function(B){try{M&&M(B)}catch(C){throw B.preventDefault(),C}B.defaultPrevented||B.button!==0||k&&k!=="_self"||N(B)||(B.preventDefault(),_())}});return R.ref=A!==m&&I||w,r.createElement("a",R)}),h=m(function(o,I){var w=o.component,_=w===void 0?v:w,M=o.replace,V=o.to,k=o.innerRef,R=f(o,["component","replace","to","innerRef"]);return r.createElement(s.__RouterContext.Consumer,null,function(B){B||i(!1);var C=B.history,L=j(b(V,B.location),B.location),z=L?C.createHref(L):"",H=l({},R,{href:z,navigate:function(){var W=b(V,B.location),G=a.createPath(B.location)===a.createPath(j(W));(M||G?C.replace:C.push)(W)}});return A!==m?H.ref=I||k:H.innerRef=k,r.createElement(_,H)})}),d=function(o){return o},E=r.forwardRef;function x(){for(var o=arguments.length,I=new Array(o),w=0;w<o;w++)I[w]=arguments[w];return I.filter(function(_){return _}).join(" ")}E===void 0&&(E=d);var S=E(function(o,I){var w=o["aria-current"],_=w===void 0?"page":w,M=o.activeClassName,V=M===void 0?"active":M,k=o.activeStyle,R=o.className,B=o.exact,C=o.isActive,L=o.location,z=o.sensitive,H=o.strict,W=o.style,G=o.to,q=o.innerRef,J=f(o,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(s.__RouterContext.Consumer,null,function(we){we||i(!1);var ae=L||we.location,ye=j(b(G,ae),ae),We=ye.pathname,Ye=We&&We.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),qe=Ye?s.matchPath(ae.pathname,{path:Ye,exact:B,sensitive:z,strict:H}):null,xe=!!(C?C(qe,ae):qe),Be=typeof R=="function"?R(xe):R,ke=typeof W=="function"?W(xe):W;xe&&(Be=x(Be,V),ke=l({},ke,k));var Pe=l({"aria-current":xe&&_||null,className:Be,style:ke,to:ye},J);return d!==E?Pe.ref=I||q:Pe.innerRef=q,r.createElement(h,Pe)})});Object.defineProperty(e,"MemoryRouter",{enumerable:!0,get:function(){return s.MemoryRouter}}),Object.defineProperty(e,"Prompt",{enumerable:!0,get:function(){return s.Prompt}}),Object.defineProperty(e,"Redirect",{enumerable:!0,get:function(){return s.Redirect}}),Object.defineProperty(e,"Route",{enumerable:!0,get:function(){return s.Route}}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return s.Router}}),Object.defineProperty(e,"StaticRouter",{enumerable:!0,get:function(){return s.StaticRouter}}),Object.defineProperty(e,"Switch",{enumerable:!0,get:function(){return s.Switch}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return s.generatePath}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return s.matchPath}}),Object.defineProperty(e,"useHistory",{enumerable:!0,get:function(){return s.useHistory}}),Object.defineProperty(e,"useLocation",{enumerable:!0,get:function(){return s.useLocation}}),Object.defineProperty(e,"useParams",{enumerable:!0,get:function(){return s.useParams}}),Object.defineProperty(e,"useRouteMatch",{enumerable:!0,get:function(){return s.useRouteMatch}}),Object.defineProperty(e,"withRouter",{enumerable:!0,get:function(){return s.withRouter}}),e.BrowserRouter=g,e.HashRouter=p,e.Link=h,e.NavLink=S})(Ie);/*!
 * @license
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. *//**
 * Validation, extraction and creation of IBAN, BBAN, BIC/SWIFT numbers plus some other helpful stuff
 * @package Documentation
 * @author Saša Jovanić
 * @module ibantools
 * @version 4.3.0
 * @license MPL-2.0
 * @preferred
 */function Za(e,t){if(t===void 0&&(t={allowQRIBAN:!0}),e==null)return!1;var s=new RegExp("^[0-9]{2}$",""),r=e.slice(0,2),a=wa[r];return a===void 0||a.bban_regexp===void 0||a.bban_regexp===null||a.chars===void 0?!1:a.chars===e.length&&s.test(e.slice(2,4))&&Ua(e.slice(4),r)&&Wa(e)&&(t.allowQRIBAN||!Ha(e))}var Je;(function(e){e[e.NoIBANProvided=0]="NoIBANProvided",e[e.NoIBANCountry=1]="NoIBANCountry",e[e.WrongBBANLength=2]="WrongBBANLength",e[e.WrongBBANFormat=3]="WrongBBANFormat",e[e.ChecksumNotNumber=4]="ChecksumNotNumber",e[e.WrongIBANChecksum=5]="WrongIBANChecksum",e[e.WrongAccountBankBranchChecksum=6]="WrongAccountBankBranchChecksum",e[e.QRIBANNotAllowed=7]="QRIBANNotAllowed"})(Je||(Je={}));function Ua(e,t){if(e==null||t===void 0||t===null)return!1;var s=wa[t];return s==null||s.bban_regexp===void 0||s.bban_regexp===null||s.chars===void 0||s.chars===null?!1:s.chars-4===e.length&&Ga(e,s.bban_regexp)?s.bban_validation_func?s.bban_validation_func(e.replace(/[\s.]+/g,"")):!0:!1}function Ha(e){if(e==null)return!1;var t=e.slice(0,2),s=["LX","CH"];if(!s.includes(t))return!1;var r=new RegExp("^3[0-1]{1}[0-9]{3}$","");return r.test(e.slice(4,9))}function Ga(e,t){var s=new RegExp(t,"");return s.test(e)}function Ka(e){return typeof e!="string"?null:e.replace(/[-\ ]/g,"").toUpperCase()}function Wa(e){var t=e.slice(0,2),s=parseInt(e.slice(2,4),10),r=e.slice(4),a=Ya("".concat(r).concat(t,"00")),i=Ue(a);return 98-i===s}function Ya(e){return e.split("").map(function(t){var s=t.charCodeAt(0);return s>=65?(s-55).toString():t}).join("")}var ea;(function(e){e[e.NoBICProvided=0]="NoBICProvided",e[e.NoBICCountry=1]="NoBICCountry",e[e.WrongBICFormat=2]="WrongBICFormat"})(ea||(ea={}));var qa=function(e){for(var t=[5,4,3,2,7,6,5,4,3,2],s=e.replace(/[\s.]+/g,""),r=parseInt(s.charAt(10),10),a=s.substring(0,10),i=0,l=0;l<10;l++)i+=parseInt(a.charAt(l),10)*t[l];var c=i%11;return r===(c===0?0:11-c)},Xa=function(e){var t=e.replace(/[\s.]+/g,""),s=parseInt(t.substring(0,t.length-2),10),r=parseInt(t.substring(t.length-2,t.length),10),a=s%97===0?97:s%97;return a===r},Ue=function(e){for(;e.length>2;){var t=e.slice(0,6),s=parseInt(t,10);if(isNaN(s))return NaN;e=s%97+e.slice(t.length)}return parseInt(e,10)%97},ne=function(e){var t=e.replace(/[\s.]+/g,""),s=Ue(t);return s===1},Qa=function(e){for(var t=[3,9,7,1,3,9,7],s=parseInt(e.charAt(7),10),r=e.substring(0,7),a=0,i=0;i<7;i++)a+=parseInt(r.charAt(i),10)*t[i];var l=a%10;return s===(l===0?0:10-l)},Ja=function(e){for(var t=[4,8,5,10,9,7,3,6],s=[1,2,4,8,5,10,9,7,3,6],r=parseInt(e.charAt(8),10),a=parseInt(e.charAt(9),10),i=e.substring(0,8),l=e.substring(10,20),c=0,u=0;u<8;u++)c+=parseInt(i.charAt(u),10)*t[u];var f=c%11;if(r!==(f===0?0:f===1?1:11-f))return!1;c=0;for(var u=0;u<10;u++)c+=parseInt(l.charAt(u),10)*s[u];return f=c%11,a===(f===0?0:f===1?1:11-f)},aa=function(e,t){for(var s=10,r=0;r<e.length;r++)s+=parseInt(e.charAt(r),10),s%10!==0&&(s=s%10),s=s*2,s=s%11;return t===(11-s===10?0:11-s)},en=function(e){var t=parseInt(e.charAt(6),10),s=parseInt(e.charAt(16),10),r=e.substring(0,6),a=e.substring(7,16);return aa(r,t)&&aa(a,s)},na=function(e){for(var t=[10,5,8,4,2,1],s=[6,3,7,9,10,5,8,4,2,1],r=parseInt(e.charAt(9),10),a=parseInt(e.charAt(19),10),i=e.substring(4,9),l=e.substring(10,19),c=0,u=0;u<i.length;u++)c+=parseInt(i.charAt(u),10)*t[u];var f=c%11;if(r!==(f===0?0:f===1?1:11-f))return!1;c=0;for(var u=0;u<l.length;u++)c+=parseInt(l.charAt(u),10)*s[u];return f=c%11,a===(f===0?0:f===1?1:11-f)},an=function(e){for(var t=[7,1,3,7,1,3,7,1,3,7,1,3,7],s=parseInt(e.charAt(15),10),r=e.substring(2,15),a=0,i=0;i<r.length;i++)a+=parseInt(r.charAt(i),10)*t[i];var l=a%10;return s===(l===0?0:10-l)},ta=function(e){for(var t=[2,1,2,1,2,1,2,1,2,1,2,1,2],s=parseInt(e.charAt(13),10),r=e.substring(0,13),a=0,i=0;i<r.length;i++)if(t[i]===1)a+=parseInt(r.charAt(i),10)*t[i];else{var l=parseInt(r.charAt(i),10)*t[i];a+=Math.floor(l/10)+l%10}var c=a+s,u=Math.floor(c/10),f=u*10,g=f-a;return g===s},sa=function(e){for(var t=e.replace(/[\s.]+/g,""),s=Array.from(t),r=0;r<t.length;r++){var a=s[r].charCodeAt(0);if(a>=65)switch(a){case 65:case 74:s[r]="1";break;case 66:case 75:case 83:s[r]="2";break;case 67:case 76:case 84:s[r]="3";break;case 68:case 77:case 85:s[r]="4";break;case 69:case 78:case 86:s[r]="5";break;case 70:case 79:case 87:s[r]="6";break;case 71:case 80:case 88:s[r]="7";break;case 72:case 81:case 89:s[r]="8";break;case 73:case 82:case 90:s[r]="9";break}}var i=Ue(s.join(""));return i===0},nn=function(e){for(var t=[9,7,3,1,9,7,3,1,9,7,3,1,9,7,3],s=parseInt(e.charAt(7),10),r=e.substring(0,7),a=0,i=0;i<r.length;i++)a+=parseInt(r.charAt(i),10)*t[i];var l=a%10;if(s!==(l===0?0:10-l))return!1;if(a=0,e.endsWith("00000000")){for(var c=e.substring(8,15),u=parseInt(e.charAt(15),10),i=0;i<c.length;i++)a+=parseInt(c.charAt(i),10)*t[i];var f=a%10;return u===(f===0?0:10-f)}else{for(var c=e.substring(8,23),u=parseInt(e.charAt(23),10),i=0;i<c.length;i++)a+=parseInt(c.charAt(i),10)*t[i];var g=a%10;return u===(g===0?0:10-g)}},wa={AD:{chars:24,bban_regexp:"^[0-9]{8}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},AE:{chars:23,bban_regexp:"^[0-9]{3}[0-9]{16}$",IBANRegistry:!0},AF:{},AG:{},AI:{},AL:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0},AM:{},AO:{chars:25,bban_regexp:"^[0-9]{21}$"},AQ:{},AR:{},AS:{},AT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},AU:{},AW:{},AX:{chars:18,bban_regexp:"^[0-9]{14}$",bban_validation_func:ta,IBANRegistry:!0},AZ:{chars:28,bban_regexp:"^[A-Z]{4}[A-Z0-9]{20}$",IBANRegistry:!0},BA:{chars:20,bban_regexp:"^[0-9]{16}$",bban_validation_func:ne,IBANRegistry:!0},BB:{},BD:{},BE:{chars:16,bban_regexp:"^[0-9]{12}$",bban_validation_func:Xa,IBANRegistry:!0,SEPA:!0},BF:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BG:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{6}[A-Z0-9]{8}$",IBANRegistry:!0,SEPA:!0},BH:{chars:22,bban_regexp:"^[A-Z]{4}[A-Z0-9]{14}$",IBANRegistry:!0},BI:{chars:27,bban_regexp:"^[0-9]{23}$"},BJ:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BL:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},BM:{},BN:{},BO:{},BQ:{},BR:{chars:29,bban_regexp:"^[0-9]{23}[A-Z]{1}[A-Z0-9]{1}$",IBANRegistry:!0},BS:{},BT:{},BV:{},BW:{},BY:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{16}$",IBANRegistry:!0},BZ:{},CA:{},CC:{},CD:{},CF:{chars:27,bban_regexp:"^[0-9]{23}$"},CG:{chars:27,bban_regexp:"^[0-9]{23}$"},CH:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},CI:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$"},CK:{},CL:{},CM:{chars:27,bban_regexp:"^[0-9]{23}$"},CN:{},CO:{},CR:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},CU:{},CV:{chars:25,bban_regexp:"^[0-9]{21}$"},CW:{},CX:{},CY:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},CZ:{chars:24,bban_regexp:"^[0-9]{20}$",bban_validation_func:na,IBANRegistry:!0,SEPA:!0},DE:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0,SEPA:!0},DJ:{chars:27,bban_regexp:"^[0-9]{23}$"},DK:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},DM:{},DO:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},DZ:{chars:26,bban_regexp:"^[0-9]{22}$"},EC:{},EE:{chars:20,bban_regexp:"^[0-9]{16}$",bban_validation_func:an,IBANRegistry:!0,SEPA:!0},EG:{chars:29,bban_regexp:"^[0-9]{25}",IBANRegistry:!0},EH:{},ER:{},ES:{chars:24,bban_validation_func:Ja,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},ET:{},FI:{chars:18,bban_regexp:"^[0-9]{14}$",bban_validation_func:ta,IBANRegistry:!0,SEPA:!0},FJ:{},FK:{},FM:{},FO:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},FR:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",bban_validation_func:sa,IBANRegistry:!0,SEPA:!0},GA:{chars:27,bban_regexp:"^[0-9]{23}$"},GB:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},GD:{},GE:{chars:22,bban_regexp:"^[A-Z0-9]{2}[0-9]{16}$",IBANRegistry:!0},GF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GG:{},GH:{},GI:{chars:23,bban_regexp:"^[A-Z]{4}[A-Z0-9]{15}$",IBANRegistry:!0,SEPA:!0},GL:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},GM:{},GN:{},GP:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GQ:{chars:27,bban_regexp:"^[0-9]{23}$"},GR:{chars:27,bban_regexp:"^[0-9]{7}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},GS:{},GT:{chars:28,bban_regexp:"^[A-Z0-9]{24}$",IBANRegistry:!0},GU:{},GW:{chars:25,bban_regexp:"^[A-Z]{2}[0-9]{19}$"},GY:{},HK:{},HM:{},HN:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$"},HR:{chars:21,bban_regexp:"^[0-9]{17}$",bban_validation_func:en,IBANRegistry:!0,SEPA:!0},HT:{},HU:{chars:28,bban_regexp:"^[0-9]{24}$",bban_validation_func:nn,IBANRegistry:!0,SEPA:!0},ID:{},IE:{chars:22,bban_regexp:"^[A-Z0-9]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},IL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},IM:{},IN:{},IO:{},IQ:{chars:23,bban_regexp:"^[A-Z]{4}[0-9]{15}$",IBANRegistry:!0},IR:{chars:26,bban_regexp:"^[0-9]{22}$"},IS:{chars:26,bban_regexp:"^[0-9]{22}$",IBANRegistry:!0,SEPA:!0},IT:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},JE:{},JM:{},JO:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{18}$",IBANRegistry:!0},JP:{},KE:{},KG:{},KH:{},KI:{},KM:{chars:27,bban_regexp:"^[0-9]{23}$"},KN:{},KP:{},KR:{},KW:{chars:30,bban_regexp:"^[A-Z]{4}[A-Z0-9]{22}$",IBANRegistry:!0},KY:{},KZ:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0},LA:{},LB:{chars:28,bban_regexp:"^[0-9]{4}[A-Z0-9]{20}$",IBANRegistry:!0},LC:{chars:32,bban_regexp:"^[A-Z]{4}[A-Z0-9]{24}$",IBANRegistry:!0},LI:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},LK:{},LR:{},LS:{},LT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},LU:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LV:{chars:21,bban_regexp:"^[A-Z]{4}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LY:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},MA:{chars:28,bban_regexp:"^[0-9]{24}$"},MC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",bban_validation_func:sa,IBANRegistry:!0,SEPA:!0},MD:{chars:24,bban_regexp:"^[A-Z0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},ME:{chars:22,bban_regexp:"^[0-9]{18}$",bban_validation_func:ne,IBANRegistry:!0},MF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MG:{chars:27,bban_regexp:"^[0-9]{23}$"},MH:{},MK:{chars:19,bban_regexp:"^[0-9]{3}[A-Z0-9]{10}[0-9]{2}$",bban_validation_func:ne,IBANRegistry:!0},ML:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},MM:{},MN:{chars:20,bban_regexp:"^[0-9]{16}$"},MO:{},MP:{},MQ:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MR:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!0},MS:{},MT:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{5}[A-Z0-9]{18}$",IBANRegistry:!0,SEPA:!0},MU:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{19}[A-Z]{3}$",IBANRegistry:!0},MV:{},MW:{},MX:{},MY:{},MZ:{chars:25,bban_regexp:"^[0-9]{21}$"},NA:{},NC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},NE:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},NF:{},NG:{},NI:{chars:32,bban_regexp:"^[A-Z]{4}[0-9]{24}$"},NL:{chars:18,bban_regexp:"^[A-Z]{4}[0-9]{10}$",IBANRegistry:!0,SEPA:!0},NO:{chars:15,bban_regexp:"^[0-9]{11}$",bban_validation_func:qa,IBANRegistry:!0,SEPA:!0},NP:{},NR:{},NU:{},NZ:{},OM:{},PA:{},PE:{},PF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PG:{},PH:{},PK:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},PL:{chars:28,bban_validation_func:Qa,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0,SEPA:!0},PM:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PN:{},PR:{},PS:{chars:29,bban_regexp:"^[A-Z0-9]{4}[0-9]{21}$",IBANRegistry:!0},PT:{chars:25,bban_regexp:"^[0-9]{21}$",bban_validation_func:ne,IBANRegistry:!0,SEPA:!0},PW:{},PY:{},QA:{chars:29,bban_regexp:"^[A-Z]{4}[A-Z0-9]{21}$",IBANRegistry:!0},RE:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},RO:{chars:24,bban_regexp:"^[A-Z]{4}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},RS:{chars:22,bban_regexp:"^[0-9]{18}$",bban_validation_func:ne,IBANRegistry:!0},RU:{chars:33,bban_regexp:"^[0-9]{14}[A-Z0-9]{15}$",IBANRegistry:!0},RW:{},SA:{chars:24,bban_regexp:"^[0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},SB:{},SC:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{20}[A-Z]{3}$",IBANRegistry:!0},SD:{},SE:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},SG:{},SH:{},SI:{chars:19,bban_regexp:"^[0-9]{15}$",bban_validation_func:ne,IBANRegistry:!0,SEPA:!0},SJ:{},SK:{chars:24,bban_regexp:"^[0-9]{20}$",bban_validation_func:na,IBANRegistry:!0,SEPA:!0},SL:{},SM:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},SN:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},SO:{},SR:{},SS:{},ST:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},SV:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},SX:{},SY:{},SZ:{},TC:{},TD:{chars:27,bban_regexp:"^[0-9]{23}$"},TF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},TG:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},TH:{},TJ:{},TK:{},TL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},TM:{},TN:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},TO:{},TR:{chars:26,bban_regexp:"^[0-9]{5}[A-Z0-9]{17}$",IBANRegistry:!0},TT:{},TV:{},TW:{},TZ:{},UA:{chars:29,bban_regexp:"^[0-9]{6}[A-Z0-9]{19}$",IBANRegistry:!0},UG:{},UM:{},US:{},UY:{},UZ:{},VA:{chars:22,bban_regexp:"^[0-9]{18}",IBANRegistry:!0},VC:{},VE:{},VG:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},VI:{},VN:{},VU:{},WF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},WS:{},XK:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},YE:{},YT:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},ZA:{},ZM:{},ZW:{}};const{ibanPrefixList:tn,footer:Re}=window.tsme_data;var ma,ca;const sn=(ca=(ma=Re==null?void 0:Re.links_bottom)==null?void 0:ma.credits_url)==null?void 0:ca.link,rn=`${sn}#ListeSEPA`,on=new RegExp(/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/),le=/^[A-Za-z0-9\s]{4}$/,He=e=>_e().shape({ownerName:Z().required(e("IBAN.errors.mandatory")).matches(/^[A-Za-z0-9\s]{0,30}$/,e("IBAN.errors.name"))}),ln=()=>n.jsxDEV(y.SzTypographie,{weight:"medium",className:"text-danger",children:n.jsxDEV(re,{i18nKey:"IBAN.errors.unauthorized_country",components:{redirect:n.jsxDEV(Ee,{decorate:!0,to:rn,target:"_blank",className:"text-danger"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/iban-form-model.jsx",lineNumber:32,columnNumber:11},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/iban-form-model.jsx",lineNumber:28,columnNumber:5},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/iban-form-model.jsx",lineNumber:27,columnNumber:3},void 0),he=e=>_e().shape({iban:Z().test({name:"iban-valid",test(t){if(t){if(t.length>0&&on.test(t))return this.createError({message:e("IBAN.errors.special_characters")});if(t.length>=2){const s=t.slice(0,2);if(!tn.includes(s))return this.createError({message:n.jsxDEV(ln,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/iban-form-model.jsx",lineNumber:64,columnNumber:28},this)});const a=Ka(t);if(!Za(a))return this.createError({message:e("IBAN.errors.invalid")})}}return!0}}).required(e("IBAN.errors.mandatory"))}),Ne=e=>_e({iban_field_1:Z().test({name:"iban-1",test(t){if(t){const s=new RegExp("^FR").test(t),r=new RegExp("^[A-Z0-9s]{4}").test(t);if(!s||!r)return this.createError({message:e("IBAN.errors.iban",{length:X})})}return!0}}),iban_field_2:Z().matches(le,e("IBAN.errors.iban",{length:X})).required(),iban_field_3:Z().matches(le,e("IBAN.errors.iban",{length:X})).required(),iban_field_4:Z().matches(le,e("IBAN.errors.iban",{length:X})).required(),iban_field_5:Z().matches(le,e("IBAN.errors.iban",{length:X})).required(),iban_field_6:Z().matches(le,e("IBAN.errors.iban",{length:X})).required(),iban_field_7:Z().matches(/^[A-Za-z0-9\s]{3}$/,e("IBAN.errors.iban",{length:X})).required()}),Ge=({showOwner:e,holderValue:t,ibanValue:s})=>{const{t:r}=P();return n.jsxDEV("div",{className:"col-12 col-lg-10 bg-gray-100 rounded-2 p-3 py-lg-3 px-lg-4","data-cy":"registered-iban",children:n.jsxDEV("div",{className:"d-flex flex-column flex-lg-row align-items-lg-center",children:[n.jsxDEV("div",{className:"iban-icon bg-white rounded-circle d-flex align-items-center justify-content-center mb-3 mb-lg-0",children:n.jsxDEV(y.SzIcon,{icon:"credit-card-1",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:21,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:20,columnNumber:9},void 0),n.jsxDEV("div",{className:"ml-lg-3",children:[n.jsxDEV(y.SzTypographie,{variant:"caption",size:"M",weight:"regular",className:"text-dark mb-1",children:r("IBAN.registeredIban.bankInfos")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:24,columnNumber:11},void 0),e&&n.jsxDEV("div",{className:"row no-gutters mb-1","data-cy":"registered-iban-owner",children:[n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",className:"mb-0",children:r("IBAN.registeredIban.owner")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:34,columnNumber:15},void 0),n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",weight:"bold",className:"ml-1 mb-0",children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:37,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:33,columnNumber:13},void 0),n.jsxDEV("div",{className:"row no-gutters","data-cy":"registered-iban-iban",children:n.jsxDEV("p",{children:[n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",className:"mb-0",tag:"span",children:r("IBAN.registeredIban.iban")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:49,columnNumber:15},void 0),n.jsxDEV(y.SzTypographie,{tag:"span",variant:"body",size:"M",weight:"bold",className:"ml-1 mb-0",children:s},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:57,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:48,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:47,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:23,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:19,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/RegisteredIbanBlock/index.tsx",lineNumber:18,columnNumber:5},void 0)},Q=da.createContext({setCodeValidation:()=>{},setShowEditIban:()=>{},setIsUpdateIbanAuthorized:()=>{},setIbanValue:()=>{},setIsErrorValidation:()=>{},setIbanError:()=>{},ibanError:"",isErrorValidation:"",showEditIban:"",isUpdateIbanAuthorized:"",holderValue:"",ibanValue:""});function un(){var z;const[e,t]=D.useState(!1),[s,r]=D.useState(),[a,i]=D.useState(!1),[l,c]=D.useState(null),[u,f]=D.useState(null),[g,p]=D.useState(!1),[b,j]=D.useState(!1),{t:A}=P(),m=Ae(),{data:N,isLoading:v,isError:h}=De("getBankInfos",()=>ie.get(oe.GET_BANK_INFOS),{onSuccess:({data:H})=>{const W=H.content,{authorisation:G,holder:q,iban:J,requestStatus:we,updatingIban:ae,updatingHolder:ye}=W;G&&i(!0),we?(c(ye),f(ae)):(c(q),f(J))}}),d=((z=N==null?void 0:N.data)==null?void 0:z.content)||{},{requestStatus:E,holder:x,iban:S,updatingIban:o}=d,I=!!E,w=!!x,_=!!S,M=!I&&!w&&!_,V=!I&&w&&_,k=I&&!!o||s===U.OK,R=M&&!k||e,B=h||s===U.INVALID,C=V&&!R&&!k&&!B,L=k&&!R&&!B;return n.jsxDEV(Q.Provider,{value:{setCodeValidation:r,setShowEditIban:t,setIsUpdateIbanAuthorized:i,setIbanValue:f,setIbanError:j,setIsErrorValidation:p,showEditIban:e,isUpdateIbanAuthorized:a,holderValue:l,ibanValue:u,ibanError:b,isErrorValidation:g},children:n.jsxDEV(ha,{id:"payback-container",type:"payback",children:[n.jsxDEV(y.SzTypographie,{variant:"H1",size:m?"L":"XL",align:"center",color:"light",weight:"black",className:"mb-4 text-uppercase",children:A("IBAN.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:115,columnNumber:9},this),n.jsxDEV("div",{className:"bg-white rounded-3 position-relative mx-auto mb-lg-3 px-3 px-lg-6 py-4 py-lg-5",style:{maxWidth:750},children:v?n.jsxDEV(n.Fragment,{children:[n.jsxDEV(K,{width:300,height:28,className:"mb-3 mb-lg-4"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:131,columnNumber:15},this),n.jsxDEV(K,{width:m?300:600,height:100},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:132,columnNumber:15},this),n.jsxDEV("div",{className:"row no-gutters"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:133,columnNumber:15},this),n.jsxDEV("div",{className:"row-no-gutters mt-4",children:n.jsxDEV(K,{width:200,height:48},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:135,columnNumber:17},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:130,columnNumber:13},this):n.jsxDEV(n.Fragment,{children:[R&&!B&&n.jsxDEV(cn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:140,columnNumber:46},this),C&&n.jsxDEV(mn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:141,columnNumber:38},this),L&&n.jsxDEV(dn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:142,columnNumber:36},this),B&&n.jsxDEV(bn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:143,columnNumber:29},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:139,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:125,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:114,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:98,columnNumber:5},this)}const mn=()=>{const{t:e}=P(),{holderValue:t,ibanValue:s,setShowEditIban:r}=D.useContext(Q);return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:e("IBAN.registeredIban.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:159,columnNumber:7},void 0),n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",className:"text-dark mb-4",children:e("IBAN.registeredIban.subtitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:162,columnNumber:7},void 0),n.jsxDEV("div",{className:"mb-4",children:n.jsxDEV(Ge,{showOwner:!0,holderValue:t,ibanValue:s},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:166,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:165,columnNumber:7},void 0),n.jsxDEV(y.SzButton,{variant:"contained",border:"soft",onClick:()=>{r(!0)},children:e("IBAN.updateIban.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:172,columnNumber:7},void 0),n.jsxDEV(y.SzTypographie,{variant:"caption",size:"M",weight:"regular",className:"mt-3",children:n.jsxDEV(re,{i18nKey:"IBAN.registeredIban.deleteIban",components:{redirect:n.jsxDEV(Ee,{decorate:!0,to:ka},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:190,columnNumber:23},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:187,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:181,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:158,columnNumber:5},void 0)},cn=()=>{const{t:e}=P(),{showEditIban:t,setCodeValidation:s,setShowEditIban:r,setIsUpdateIbanAuthorized:a,setIbanValue:i,setIsErrorValidation:l}=D.useContext(Q),[c,u]=D.useState(!1),f=tsme_data.isIntranet==="1",g=He(e),p=c?g.concat(he(e)):g.concat(Ne(e)),{isLoading:b,data:j,isSuccess:A,...m}=ba(v=>ie.post(oe.VALIDATE_BANK_INFOS,v),{onSuccess:({data:v})=>{const{message:h,content:d}=v,E=U.OK===h,x=!!(d!=null&&d.authorisation),S=U.IBAN_72H===h;E?(i(d.iban),s(U.OK),r(!1),a(!!x)):S&&(s(U.INVALID),r(!1))},onError:v=>{const{status:h,data:d}=v.response,{message:E}=d,x=[U.KO_COHERENCE,U.KO_CONFORMITE].includes(E);h===400&&x?l(!0):(s(U.INVALID),r(!1))}}),N=async({ownerName:v,iban:h,...d})=>{const E=0<h.length?h:Object.values(d).join();m.mutate({holder:v,iban:E.replace(/[ ,]/g,"")})};return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-0",children:e(t?"IBAN.updateIban.title":"IBAN.addIban.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:265,columnNumber:7},void 0),n.jsxDEV(be,{initialValues:{ownerName:"",iban:"",iban_field_1:"",iban_field_2:"",iban_field_3:"",iban_field_4:"",iban_field_5:"",iban_field_6:"",iban_field_7:""},validationSchema:p,validateOnChange:!1,validateOnBlur:!0,onSubmit:N,children:({handleSubmit:v})=>n.jsxDEV("form",{id:"iban-form",onSubmit:v,children:[n.jsxDEV("div",{className:"row no-gutters mt-0 mb-4",children:n.jsxDEV(ge,{displayOwnerName:!0,isInternational:!0,displayInternationalIban:c,setDisplayInternationalIban:u},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:289,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:288,columnNumber:15},void 0),n.jsxDEV("div",{className:"row no-gutters",children:n.jsxDEV(y.SzButton,{type:"submit",variant:"contained",border:"soft",isDisabled:f,loader:b,children:e(t?"IBAN.updateIban.button":"IBAN.addIban.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:297,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:296,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:287,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:268,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:264,columnNumber:5},void 0)},dn=()=>{const{t:e}=P(),{ibanValue:t,setShowEditIban:s,isUpdateIbanAuthorized:r}=D.useContext(Q);return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3 mb-lg-4",children:e("IBAN.validateIban.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:324,columnNumber:7},void 0),n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",weight:"regular",className:"text-dark new-line",children:n.jsxDEV(re,{i18nKey:"IBAN.validateIban.text",values:{iban:t},components:{bold:n.jsxDEV(y.SzTypographie,{tag:"span",className:"sz-typo-body md font-family-bold"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:343,columnNumber:15},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:338,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:332,columnNumber:7},void 0),n.jsxDEV(ee,{variant:"contained",border:"soft",className:"mt-lg-2",to:F.DASHBOARD,children:e("IBAN.validateIban.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:351,columnNumber:7},void 0),r&&n.jsxDEV("div",{className:"row no-gutters mt-3 mt-lg-0",children:n.jsxDEV(y.SzButton,{id:"show-edit-iban",variant:"text",className:"pl-0",onClick:()=>{s(!0)},children:n.jsxDEV(y.SzTypographie,{variant:"caption",weight:"regular",size:"M",className:"text-left",children:e("IBAN.validateIban.update_link")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:369,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:361,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:360,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:323,columnNumber:5},void 0)},bn=()=>{const{t:e}=P();return n.jsxDEV(ga,{context:"IBAN",children:[n.jsxDEV("div",{className:"row no-gutters",children:n.jsxDEV(ee,{variant:"contained",border:"soft",to:F.DASHBOARD,children:e("managePayments.form.errors.dashboard_btn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:390,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:389,columnNumber:7},void 0),n.jsxDEV("div",{className:"row no-gutters",children:n.jsxDEV(ee,{variant:"text",icon:"keyboard-arrow-right",alignIcon:"right",to:F.CUSTOMER_SERVICE,className:"pl-0 mt-2",children:e("IBAN.errors.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:395,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:394,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payback/index.jsx",lineNumber:388,columnNumber:5},void 0)},lt=Object.freeze(Object.defineProperty({__proto__:null,PaybackContext:Q,default:un},Symbol.toStringTag,{value:"Module"})),fn=D.forwardRef(function({onChange:t,variant:s,setIbanFieldFocused:r},a){const{handleBlur:i,handleChange:l,values:c,errors:u,setErrors:f,setFieldValue:g,setFieldTouched:p,validateForm:b}=Se(),j=Pa,A=D.useMemo(()=>{const v={};for(const h of Object.keys(j))h==="iban_field_1"?v[h]=a:v[h]=da.createRef();return v},[]),m=v=>{const{value:h,name:d}=v.target;v.target.value=h.toUpperCase().replace(/\s+/g,"");const E=/^.{4}$/,x=Object.keys(j).indexOf(d)+2,S=Object.keys(j).length,o=`iban_field_${x}`;if(d.includes("iban_field_7")&&h.length>3||d.includes("iban_field_")&&h.length>4)return;const I=Object.keys(u).filter(w=>!w.includes("iban_field_")).reduce((w,_)=>Object.assign(w,{[_]:u[_]}),{});if(f(I),r(!1),l(v),t(),E.test(h)){const w=A[o].current.value;x<S+1&&h.length>0&&!w&&(r(!0),A[o].current.focus())}},N=v=>{const{name:h}=v.target;if(h==="iban_field_1"){const x=v.clipboardData.getData("Text").replace(/\s+/g,"").toUpperCase().substring(0,27).match(/.{1,4}/g),S=x==null?void 0:x.map((o,I)=>{const w=`iban_field_${I+1}`;return p(w,!0,!0),g(w,o),[w,o]});b({...c,...Object.fromEntries(S)}).then(()=>A.iban_field_7.current.focus())}};return Object.entries(j).map(([v,h],d)=>{const{schema:E,placeholder:x,...S}=h,o=Ea(`cy-input-${d+1}-iban iban-input col-3 col-md-1 px-1 mx-0`,{"variant-iban":s});return n.jsxDEV("div",{className:o,children:n.jsxDEV(y.SzInput,{className:"border-btn-disabled",name:v,id:v,value:c[v],placeholder:x,ref:A[v],autocomplete:"off",onBlur:i,onChange:m,onPaste:N,...S},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/IbanInput.jsx",lineNumber:104,columnNumber:9},this)},v,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/IbanInput.jsx",lineNumber:103,columnNumber:7},this)})});var ya={exports:{}};function Ke(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Ce=Ke(D),pn=Fa,ra=Ke(Aa),ia=Ke(Da);function hn(e,t){for(var s=Object.getOwnPropertyNames(t),r=0;r<s.length;r++){var a=s[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&e[a]===void 0&&Object.defineProperty(e,a,i)}return e}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},je.apply(this,arguments)}function Nn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hn(e,t)}function vn(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e,t,s){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=s;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",s-t),r.select()}}function gn(e){var t=0,s=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,s=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),s=-r.moveEnd("character",-e.value.length))}return{start:t,end:s,length:s-t}}var wn={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},yn="_";function Fe(e,t,s){var r="",a="",i=null,l=[];if(t===void 0&&(t=yn),s==null&&(s=wn),!e||typeof e!="string")return{maskChar:t,formatChars:s,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var c=!1;return e.split("").forEach(function(u){!c&&u==="\\"?c=!0:(c||!s[u]?(l.push(r.length),r.length===l.length-1&&(a+=u)):i=r.length+1,r+=u,c=!1)}),{maskChar:t,formatChars:s,prefix:a,mask:r,lastEditablePosition:i,permanents:l}}function O(e,t){return e.permanents.indexOf(t)!==-1}function Me(e,t,s){var r=e.mask,a=e.formatChars;if(!s)return!1;if(O(e,t))return r[t]===s;var i=r[t],l=a[i];return new RegExp(l).test(s)}function la(e,t){return t.split("").every(function(s,r){return O(e,r)||!Me(e,r,s)})}function ue(e,t){var s=e.maskChar,r=e.prefix;if(!s){for(;t.length>r.length&&O(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var a=r.length,i=t.length;i>=r.length;i--){var l=t[i],c=!O(e,i)&&Me(e,i,l);if(c){a=i+1;break}}return a}function xa(e,t){return ue(e,t)===e.mask.length}function Y(e,t){var s=e.maskChar,r=e.mask,a=e.prefix;if(!s){for(t=Te(e,"",t,0),t.length<a.length&&(t=a);t.length<r.length&&O(e,t.length);)t+=r[t.length];return t}if(t){var i=Y(e,"");return Te(e,i,t,0)}for(var l=0;l<r.length;l++)O(e,l)?t+=r[l]:t+=s;return t}function xn(e,t,s,r){var a=s+r,i=e.maskChar,l=e.mask,c=e.prefix,u=t.split("");if(!i){for(var f=a;f<u.length;f++)O(e,f)&&(u[f]="");return s=Math.max(c.length,s),u.splice(s,a-s),t=u.join(""),Y(e,t)}return u.map(function(g,p){return p<s||p>=a?g:O(e,p)?l[p]:i}).join("")}function Te(e,t,s,r){var a=e.mask,i=e.maskChar,l=e.prefix,c=s.split(""),u=xa(e,t),f=function(b,j){return!O(e,b)||j===a[b]},g=function(b,j){return!i||!O(e,j)||b!==i};return!i&&r>t.length&&(t+=a.slice(t.length,r)),c.every(function(p){for(;!f(r,p);){if(r>=t.length&&(t+=a[r]),!g(p,r))return!0;if(r++,r>=a.length)return!1}var b=Me(e,r,p)||p===i;return b?(r<t.length?i||u||r<l.length?t=t.slice(0,r)+p+t.slice(r+1):(t=t.slice(0,r)+p+t.slice(r),t=Y(e,t)):i||(t+=p),r++,r<a.length):!0}),t}function In(e,t,s,r){var a=e.mask,i=e.maskChar,l=s.split(""),c=r,u=function(g,p){return!O(e,g)||p===a[g]};return l.every(function(f){for(;!u(r,f);)if(r++,r>=a.length)return!1;var g=Me(e,r,f)||f===i;return g&&r++,r<a.length}),r-c}function jn(e,t){for(var s=t;s>=0;--s)if(!O(e,s))return s;return null}function me(e,t){for(var s=e.mask,r=t;r<s.length;++r)if(!O(e,r))return r;return null}function Le(e){return!e&&e!==0?"":e+""}function _n(e,t,s,r,a){var i=e.mask,l=e.prefix,c=e.lastEditablePosition,u=t,f="",g=0,p=0,b=Math.min(a.start,s.start);if(s.end>a.start?(f=u.slice(a.start,s.end),g=In(e,r,f,b),g?p=a.length:p=0):u.length<r.length&&(p=r.length-u.length),u=r,p){if(p===1&&!a.length){var j=a.start===s.start;b=j?me(e,s.start):jn(e,s.start)}u=xn(e,u,b,p)}return u=Te(e,u,f,b),b=b+g,b>=i.length?b=i.length:b<l.length&&!g?b=l.length:b>=l.length&&b<c&&g&&(b=me(e,b)),u=Y(e,u),f||(f=null),{value:u,enteredString:f,selection:{start:b,end:b}}}function En(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),s=navigator.userAgent;return e.test(s)&&t.test(s)}function $(e){return typeof e=="function"}function An(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function Ia(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function ua(e){var t=!!Ia(),s;return t?s=An():s=function(){return setTimeout(e,1e3/60)},s(e)}function $e(e){var t=Ia()||clearTimeout;t(e)}var Dn=function(e){Nn(t,e);function t(r){var a;a=e.call(this,r)||this,a.focused=!1,a.mounted=!1,a.previousSelection=null,a.selectionDeferId=null,a.saveSelectionLoopDeferId=null,a.saveSelectionLoop=function(){a.previousSelection=a.getSelection(),a.saveSelectionLoopDeferId=ua(a.saveSelectionLoop)},a.runSaveSelectionLoop=function(){a.saveSelectionLoopDeferId===null&&a.saveSelectionLoop()},a.stopSaveSelectionLoop=function(){a.saveSelectionLoopDeferId!==null&&($e(a.saveSelectionLoopDeferId),a.saveSelectionLoopDeferId=null,a.previousSelection=null)},a.getInputDOMNode=function(){if(!a.mounted)return null;var m=pn.findDOMNode(te(te(a))),N=typeof window<"u"&&m instanceof window.Element;if(m&&!N)return null;if(m.nodeName!=="INPUT"&&(m=m.querySelector("input")),!m)throw new Error("react-input-mask: inputComponent doesn't contain input node");return m},a.getInputValue=function(){var m=a.getInputDOMNode();return m?m.value:null},a.setInputValue=function(m){var N=a.getInputDOMNode();N&&(a.value=m,N.value=m)},a.setCursorToEnd=function(){var m=ue(a.maskOptions,a.value),N=me(a.maskOptions,m);N!==null&&a.setCursorPosition(N)},a.setSelection=function(m,N,v){v===void 0&&(v={});var h=a.getInputDOMNode(),d=a.isFocused();if(!(!h||!d)){var E=v,x=E.deferred;x||oa(h,m,N),a.selectionDeferId!==null&&$e(a.selectionDeferId),a.selectionDeferId=ua(function(){a.selectionDeferId=null,oa(h,m,N)}),a.previousSelection={start:m,end:N,length:Math.abs(N-m)}}},a.getSelection=function(){var m=a.getInputDOMNode();return gn(m)},a.getCursorPosition=function(){return a.getSelection().start},a.setCursorPosition=function(m){a.setSelection(m,m)},a.isFocused=function(){return a.focused},a.getBeforeMaskedValueChangeConfig=function(){var m=a.maskOptions,N=m.mask,v=m.maskChar,h=m.permanents,d=m.formatChars,E=a.props.alwaysShowMask;return{mask:N,maskChar:v,permanents:h,alwaysShowMask:!!E,formatChars:d}},a.isInputAutofilled=function(m,N,v,h){var d=a.getInputDOMNode();try{if(d.matches(":-webkit-autofill"))return!0}catch{}return a.focused?h.end<v.length&&N.end===m.length:!0},a.onChange=function(m){var N=te(te(a)),v=N.beforePasteState,h=te(te(a)),d=h.previousSelection,E=a.props.beforeMaskedValueChange,x=a.getInputValue(),S=a.value,o=a.getSelection();a.isInputAutofilled(x,o,S,d)&&(S=Y(a.maskOptions,""),d={start:0,end:0,length:0}),v&&(d=v.selection,S=v.value,o={start:d.start+x.length,end:d.start+x.length,length:0},x=S.slice(0,d.start)+x+S.slice(d.end),a.beforePasteState=null);var I=_n(a.maskOptions,x,o,S,d),w=I.enteredString,_=I.selection,M=I.value;if($(E)){var V=E({value:M,selection:_},{value:S,selection:d},w,a.getBeforeMaskedValueChangeConfig());M=V.value,_=V.selection}a.setInputValue(M),$(a.props.onChange)&&a.props.onChange(m),a.isWindowsPhoneBrowser?a.setSelection(_.start,_.end,{deferred:!0}):a.setSelection(_.start,_.end)},a.onFocus=function(m){var N=a.props.beforeMaskedValueChange,v=a.maskOptions,h=v.mask,d=v.prefix;if(a.focused=!0,a.mounted=!0,h){if(a.value)ue(a.maskOptions,a.value)<a.maskOptions.mask.length&&a.setCursorToEnd();else{var E=Y(a.maskOptions,d),x=Y(a.maskOptions,E),S=ue(a.maskOptions,x),o=me(a.maskOptions,S),I={start:o,end:o};if($(N)){var w=N({value:x,selection:I},{value:a.value,selection:null},null,a.getBeforeMaskedValueChangeConfig());x=w.value,I=w.selection}var _=x!==a.getInputValue();_&&a.setInputValue(x),_&&$(a.props.onChange)&&a.props.onChange(m),a.setSelection(I.start,I.end)}a.runSaveSelectionLoop()}$(a.props.onFocus)&&a.props.onFocus(m)},a.onBlur=function(m){var N=a.props.beforeMaskedValueChange,v=a.maskOptions.mask;if(a.stopSaveSelectionLoop(),a.focused=!1,v&&!a.props.alwaysShowMask&&la(a.maskOptions,a.value)){var h="";if($(N)){var d=N({value:h,selection:null},{value:a.value,selection:a.previousSelection},null,a.getBeforeMaskedValueChangeConfig());h=d.value}var E=h!==a.getInputValue();E&&a.setInputValue(h),E&&$(a.props.onChange)&&a.props.onChange(m)}$(a.props.onBlur)&&a.props.onBlur(m)},a.onMouseDown=function(m){if(!a.focused&&document.addEventListener){a.mouseDownX=m.clientX,a.mouseDownY=m.clientY,a.mouseDownTime=new Date().getTime();var N=function v(h){if(document.removeEventListener("mouseup",v),!!a.focused){var d=Math.abs(h.clientX-a.mouseDownX),E=Math.abs(h.clientY-a.mouseDownY),x=Math.max(d,E),S=new Date().getTime()-a.mouseDownTime;(x<=10&&S<=200||x<=5&&S<=300)&&a.setCursorToEnd()}};document.addEventListener("mouseup",N)}$(a.props.onMouseDown)&&a.props.onMouseDown(m)},a.onPaste=function(m){$(a.props.onPaste)&&a.props.onPaste(m),m.defaultPrevented||(a.beforePasteState={value:a.getInputValue(),selection:a.getSelection()},a.setInputValue(""))},a.handleRef=function(m){a.props.children==null&&$(a.props.inputRef)&&a.props.inputRef(m)};var i=r.mask,l=r.maskChar,c=r.formatChars,u=r.alwaysShowMask,f=r.beforeMaskedValueChange,g=r.defaultValue,p=r.value;a.maskOptions=Fe(i,l,c),g==null&&(g=""),p==null&&(p=g);var b=Le(p);if(a.maskOptions.mask&&(u||b)&&(b=Y(a.maskOptions,b),$(f))){var j=r.value;r.value==null&&(j=g),j=Le(j);var A=f({value:b,selection:null},{value:j,selection:null},null,a.getBeforeMaskedValueChangeConfig());b=A.value}return a.value=b,a}var s=t.prototype;return s.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=En(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},s.componentDidUpdate=function(){var a=this.previousSelection,i=this.props,l=i.beforeMaskedValueChange,c=i.alwaysShowMask,u=i.mask,f=i.maskChar,g=i.formatChars,p=this.maskOptions,b=c||this.isFocused(),j=this.props.value!=null,A=j?Le(this.props.value):this.value,m=a?a.start:null;if(this.maskOptions=Fe(u,f,g),this.maskOptions.mask)!p.mask&&this.isFocused()&&this.runSaveSelectionLoop();else{p.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate());return}var N=this.maskOptions.mask&&this.maskOptions.mask!==p.mask;if(!p.mask&&!j&&(A=this.getInputValue()),(N||this.maskOptions.mask&&(A||b))&&(A=Y(this.maskOptions,A)),N){var v=ue(this.maskOptions,A);(m===null||v<m)&&(xa(this.maskOptions,A)?m=v:m=me(this.maskOptions,v))}this.maskOptions.mask&&la(this.maskOptions,A)&&!b&&(!j||!this.props.value)&&(A="");var h={start:m,end:m};if($(l)){var d=l({value:A,selection:h},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());A=d.value,h=d.selection}this.value=A;var E=this.getInputValue()!==this.value;E?(this.setInputValue(this.value),this.forceUpdate()):N&&this.forceUpdate();var x=!1;h.start!=null&&h.end!=null&&(x=!a||a.start!==h.start||a.end!==h.end),(x||E)&&this.setSelection(h.start,h.end)},s.componentWillUnmount=function(){this.mounted=!1,this.selectionDeferId!==null&&$e(this.selectionDeferId),this.stopSaveSelectionLoop()},s.render=function(){var a=this.props,i=a.mask;a.alwaysShowMask;var l=a.maskChar,c=a.formatChars,u=a.inputRef;a.beforeMaskedValueChange;var f=a.children,g=vn(a,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]),p;if(ia(!g.maxLength||!Fe(i,l,c).mask,"react-input-mask: maxLength property shouldn't be passed to the masked input. It breaks masking and unnecessary because length is limited by the mask length."),f){$(f)||ra(!1,"react-input-mask: children must be a function");var b=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],j=je({},g);b.forEach(function(N){return delete j[N]}),p=f(j);var A=b.filter(function(N){return p.props[N]!=null&&p.props[N]!==g[N]});A.length&&ra(!1,"react-input-mask: the following props should be passed to the react-input-mask's component and should not be altered in children's function: "+A.join(", ")),ia(!u,"react-input-mask: inputRef is ignored when children is passed, attach ref to the children instead")}else p=Ce.createElement("input",je({ref:this.handleRef},g));var m={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(!g.disabled&&!g.readOnly&&(m.onChange=this.onChange,m.onPaste=this.onPaste,m.onMouseDown=this.onMouseDown),g.value!=null&&(m.value=this.value)),p=Ce.cloneElement(p,m),p},t}(Ce.Component),Sn=Dn;ya.exports=Sn;var Mn=ya.exports;const Vn=Sa(Mn);function Bn(e,t){switch(t.type){case"paymentMethod":return{...e,paymentMethod:t.payload};case"showEditIban":return{...e,showEditIban:t.payload};case"titulaire":return{...e,titulaire:t.payload};case"libelleCalcul":return{...e,libelleCalcul:t.payload};case"montantMensu":return{...e,montantMensu:t.payload};case"iban":return{...e,iban:t.payload};case"lastUrlEfacture":return{...e,lastUrlEfacture:t.payload};case"hasMandate":return{...e,hasMandate:t.payload};case"isIbanDifferentWithSearchMandate":return{...e,isIbanDifferentWithSearchMandate:t.payload};case"isLoadingSubmit":return{...e,isLoadingSubmit:t.payload};case"isDisabledBtn":return{...e,isDisabledBtn:t.payload};case"errorIban":return{...e,errorIban:t.payload};default:throw new Error("Not a reducer")}}const ve=({isFinalize:e,redirectKey:t="managePayments.form.CGU"})=>{var a,i,l;const{t:s}=P(),{link:r}=(l=(i=(a=window.tsme_data)==null?void 0:a.footer)==null?void 0:i.links_bottom)==null?void 0:l.credits_url;return n.jsxDEV("div",{className:"col-12 col-lg-10 px-0",children:[n.jsxDEV(y.SzTypographie,{variant:"caption",size:"M",weight:"light",children:n.jsxDEV(re,{i18nKey:t,components:{redirect:n.jsxDEV(Ee,{decorate:!0,to:r,target:"_blank",className:"sz-typo-caption font-family-medium"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/CGU.tsx",lineNumber:25,columnNumber:15},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/CGU.tsx",lineNumber:21,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/CGU.tsx",lineNumber:20,columnNumber:7},void 0),e&&n.jsxDEV(y.SzTypographie,{variant:"caption",size:"M",weight:"light",children:s("managePayments.form.redirect_info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/CGU.tsx",lineNumber:36,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/CGU.tsx",lineNumber:19,columnNumber:5},void 0)},kn=({label:e,children:t})=>n.jsxDEV("div",{className:"col-12 col-lg-10 border border-1 border-expert-blue rounded-3 p-4",children:n.jsxDEV("div",{className:"d-flex align-items-baseline",children:n.jsxDEV("div",{className:"pr-3 pr-lg-0",children:[n.jsxDEV(y.SzTypographie,{variant:"H4",size:"L",weight:"medium",className:"mb-1",children:e},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/paymentMethods/PaymentMethodBlock.tsx",lineNumber:17,columnNumber:11},void 0),t]},void 0,!0,{fileName:"/usr/var/www/assets/js/ez-components/paymentMethods/PaymentMethodBlock.tsx",lineNumber:16,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/paymentMethods/PaymentMethodBlock.tsx",lineNumber:15,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/ez-components/paymentMethods/PaymentMethodBlock.tsx",lineNumber:14,columnNumber:5},void 0),Ve=()=>{const{t:e}=P(),{state:t}=D.useContext(T),s=t||{},{libelleCalcul:r,montantMensu:a,paymentMethod:i}=s;return n.jsxDEV("div",{className:"pt-3 pb-4 pt-lg-4 pb-lg-5",children:n.jsxDEV(kn,{label:e("managePayments.form.title",{context:`${i}`}),children:[n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",weight:"regular",className:"text-dark",children:n.jsxDEV(re,{i18nKey:`managePayments.form.mensu_description_${i}`,values:{value:a},components:{amount:n.jsxDEV(y.SzTypographie,{weight:"bold",className:"mb-0 text-blue-electric",tag:"span"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/InfoPayment.tsx",lineNumber:34,columnNumber:17},void 0)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/InfoPayment.tsx",lineNumber:29,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/InfoPayment.tsx",lineNumber:23,columnNumber:9},void 0),i==="M"&&n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",weight:"regular",className:"text-dark",children:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/InfoPayment.tsx",lineNumber:45,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/InfoPayment.tsx",lineNumber:18,columnNumber:7},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/InfoPayment.tsx",lineNumber:17,columnNumber:5},void 0)},Pn=()=>{const{t:e}=P(),{state:t,dispatch:s,onSubmit:r}=D.useContext(T),a=t||{},{titulaire:i,iban:l,isLoadingSubmit:c,isDisabledBtn:u}=a,f={label:e("managePayments.form.goNext"),align:"right",loader:c,onClick:()=>{s({type:"isLoadingSubmit",payload:!0}),s({type:"isDisabledBtn",payload:!0}),r({type:"noDataForm"})}},g={enabled:!0,disabled:u,label:e("managePayments.form.goBack"),align:"left",onClick:()=>window.location.assign(F.MANAGE_PAYMENTS_URL.INDEX)};return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3 mb-lg-4",children:e("managePayments.form.title_civility")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/RegisteredIban.tsx",lineNumber:41,columnNumber:7},void 0),n.jsxDEV("div",{className:"mb-3",children:n.jsxDEV(Ge,{showOwner:!0,holderValue:i,ibanValue:l},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/RegisteredIban.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/RegisteredIban.tsx",lineNumber:49,columnNumber:7},void 0),n.jsxDEV(y.SzButton,{id:"update-iban",variant:"outlined",border:"soft",isDisabled:u,onClick:()=>{s({type:"showEditIban",payload:!0})},className:"mb-4",children:e("IBAN.updateIban.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/RegisteredIban.tsx",lineNumber:56,columnNumber:7},void 0),n.jsxDEV(ve,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/RegisteredIban.tsx",lineNumber:68,columnNumber:7},void 0),n.jsxDEV(pe,{next:f,previous:g},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/RegisteredIban.tsx",lineNumber:69,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/RegisteredIban.tsx",lineNumber:40,columnNumber:5},void 0)},Rn=()=>{const[e,t]=D.useState(!1),[s,r]=D.useState(!1),a=fe(),{t:i}=P(),{state:l,dispatch:c,onSubmit:u}=D.useContext(T),f=l||{},{isLoadingSubmit:g,isDisabledBtn:p,errorIban:b}=f,j=Ne(i),A=he(i),m=He(i),N=j.concat(m),v=A.concat(m),h=o=>{c({type:"isLoadingSubmit",payload:!0}),c({type:"isDisabledBtn",payload:!0}),o.type="noIbanMandate",u(o)},d=()=>{c({type:"errorIban",payload:""})},E=()=>{r(!0),a.push(F.MANAGE_PAYMENTS_URL.INDEX)},x={label:i("managePayments.form.goNext"),align:"right",loader:g},S={enabled:!0,disabled:p,label:i("managePayments.form.goBack"),align:"left",onClick:E,loader:s};return n.jsxDEV(be,{initialValues:{ownerName:"",iban:"",iban_field_1:"",iban_field_2:"",iban_field_3:"",iban_field_4:"",iban_field_5:"",iban_field_6:"",iban_field_7:""},validationSchema:e?v:N,validateOnBlur:!0,validateOnChange:!1,onSubmit:h,children:({handleSubmit:o,resetForm:I})=>n.jsxDEV("form",{onSubmit:o,children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:i("IBAN.updateIban.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:101,columnNumber:13},void 0),n.jsxDEV(ge,{displayOwnerName:!0,isInternational:!0,displayInternationalIban:e,setDisplayInternationalIban:t,validationError:b,resetValidationError:d},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:109,columnNumber:13},void 0),n.jsxDEV(y.SzButton,{variant:"outlined",border:"soft",isDisabled:p,onClick:()=>{I(),c({type:"showEditIban",payload:!1})},className:"mb-4",children:i("managePayments.form.cancelUpdateIban")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:117,columnNumber:13},void 0),n.jsxDEV(ve,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:129,columnNumber:13},void 0),n.jsxDEV(pe,{next:x,previous:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:100,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:77,columnNumber:5},void 0)},Cn=()=>{const{t:e}=P(),{state:t}=D.useContext(T),s=t||{},{showEditIban:r}=s;return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:e("managePayments.form.title_payment_mode_selected")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:148,columnNumber:7},void 0),n.jsxDEV(Ve,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:151,columnNumber:7},void 0),r?n.jsxDEV(Rn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:152,columnNumber:23},void 0):n.jsxDEV(Pn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:152,columnNumber:44},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanMandateForm.tsx",lineNumber:147,columnNumber:5},void 0)},ja=e=>_e().shape({civility:Z().required(e("managePayments.form.errors.mandatory")),surname:Z().required(e("managePayments.form.errors.mandatory")).matches(Qe,e("managePayments.form.errors.surname")),name:Z().required(e("managePayments.form.errors.mandatory")).matches(Qe,e("managePayments.form.errors.name"))}),Fn=()=>{const[e,t]=D.useState(!1),[s,r]=D.useState(!1),a=fe(),{t:i}=P(),{state:l,dispatch:c,onSubmit:u}=D.useContext(T),f=l||{},{showEditIban:g,iban:p,errorIban:b,isLoadingSubmit:j,isDisabledBtn:A}=f,m=[{label:i("civility.mrs"),value:"MME"},{label:i("civility.mr"),value:"M"}],N=Ne(i),v=he(i),h=Na(i),d=ja(i),E=h.concat(N).concat(d),x=h.concat(v).concat(d),S=h.concat(d),o=()=>{c({type:"errorIban",payload:""})},I=k=>{c({type:"isLoadingSubmit",payload:!0}),c({type:"isDisabledBtn",payload:!0}),u(k)},w=()=>{r(!0),a.push(F.MANAGE_PAYMENTS_URL.INDEX)},_={label:i("managePayments.form.goNext"),align:"right",loader:j},M={enabled:!0,disabled:A,label:i("managePayments.form.goBack"),align:"left",onClick:w,loader:s};let V=S;return g&&(V=e?x:E),n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:i("managePayments.form.title_payment_mode_selected")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:112,columnNumber:7},void 0),n.jsxDEV(Ve,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:115,columnNumber:7},void 0),n.jsxDEV(be,{initialValues:{civility:"",surname:"",name:"",phoneNumber:"",iban:"",iban_field_1:"",iban_field_2:"",iban_field_3:"",iban_field_4:"",iban_field_5:"",iban_field_6:"",iban_field_7:""},validationSchema:V,validateOnBlur:!0,validateOnChange:!1,onSubmit:I,children:({errors:k,touched:R,handleBlur:B,handleSubmit:C,values:L,setFieldTouched:z,setFieldValue:H,resetForm:W})=>n.jsxDEV("form",{onSubmit:C,children:[n.jsxDEV("div",{id:"owner-info",className:"mb-5",children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3 mb-lg-4",children:i("managePayments.form.title_civility")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:149,columnNumber:17},void 0),n.jsxDEV(y.SzTypographie,{variant:"caption",size:"M",className:"mb-2 mb-lg-3",children:i("managePayments.form.all_fields_mandatory")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:157,columnNumber:17},void 0),n.jsxDEV("div",{className:"col-12 col-lg-9 mb-3 px-0",children:[n.jsxDEV("label",{id:"civility-aria-label",className:"mb-1",htmlFor:"civilityInput",children:n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",className:"text-primary-dark mb-0",children:i("managePayments.form.label_civility")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:170,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:165,columnNumber:19},void 0),n.jsxDEV(y.SzSelect,{id:"civility",name:"civility",placeholder:i("managePayments.form.placeholder_civility"),options:m,value:L.civility,onChange:G=>{H("civility",G)},onBlur:()=>z("civility",!0),isSearchable:!1,variant:"outlined",inputId:"subjectInput","aria-labelledby":"civility-aria-label"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:178,columnNumber:19},void 0),n.jsxDEV("div",{className:"mt-2",children:n.jsxDEV(se,{customDisplay:R.civility&&k.civility,field:"civility"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:194,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:193,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:164,columnNumber:17},void 0),n.jsxDEV("div",{className:"col-12 col-lg-9 mb-3 px-0",children:[n.jsxDEV(y.SzInput,{name:"surname",id:"surname",value:L.surname,autocomplete:"given-name",onChange:G=>{const{value:q,name:J}=G.target;H(J,ce(q))},onBlur:B,label:i("customerService.label_firstName"),placeholder:i("customerService.placeholder_firstName"),variant:"outlined",valid:!k.surname},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:201,columnNumber:19},void 0),n.jsxDEV(se,{customDisplay:R.surname&&k.surname,field:"surname"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:216,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:200,columnNumber:17},void 0),n.jsxDEV("div",{className:"col-12 col-lg-9 mb-3 px-0",children:[n.jsxDEV(y.SzInput,{name:"name",id:"name",value:L.name,autocomplete:"family-name",onChange:G=>{const{value:q,name:J}=G.target;H(J,ce(q))},onBlur:B,label:i("customerService.label_lastName"),placeholder:i("customerService.placeholder_lastName"),variant:"outlined",valid:!k.name},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:222,columnNumber:19},void 0),n.jsxDEV(se,{customDisplay:R.name&&k.name,field:"name"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:237,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:221,columnNumber:17},void 0),n.jsxDEV("div",{className:"mb-3",children:n.jsxDEV(va,{info:i("phoneNumber.info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:243,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:242,columnNumber:17},void 0),n.jsxDEV(ve,{isFinalize:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:245,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:148,columnNumber:15},void 0),n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3",children:i("managePayments.form.title",{context:g?"update_iban":"your_iban"})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:248,columnNumber:15},void 0),g?n.jsxDEV(n.Fragment,{children:[n.jsxDEV(ge,{isInternational:!0,displayInternationalIban:e,setDisplayInternationalIban:t,validationError:b,resetValidationError:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:260,columnNumber:19},void 0),n.jsxDEV(y.SzButton,{variant:"outlined",border:"soft",isDisabled:A,onClick:()=>{W({values:{...L,iban:"",iban_field_1:"",iban_field_2:"",iban_field_3:"",iban_field_4:"",iban_field_5:"",iban_field_6:"",iban_field_7:""}}),c({type:"showEditIban",payload:!1})},className:"mb-4",children:i("managePayments.form.cancelUpdateIban")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:267,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:259,columnNumber:17},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"mb-3",children:n.jsxDEV(Ge,{showOwner:!1,holderValue:"Franck Dupont",ibanValue:p},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:296,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:295,columnNumber:19},void 0),n.jsxDEV(y.SzButton,{id:"update-iban",variant:"outlined",border:"soft",isDisabled:A,onClick:()=>{c({type:"showEditIban",payload:!0})},className:"mb-4",children:i("IBAN.updateIban.button")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:302,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:294,columnNumber:17},void 0),n.jsxDEV(pe,{next:_,previous:M},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:316,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:147,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:116,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/IbanNoMandateForm.tsx",lineNumber:111,columnNumber:5},void 0)},Ln=()=>{const[e,t]=D.useState(!1),[s,r]=D.useState(!1),{state:a,dispatch:i,onSubmit:l}=D.useContext(T),c=a||{},{isLoadingSubmit:u,errorIban:f,isDisabledBtn:g}=c,p=fe(),{t:b}=P(),j=Ne(b),A=he(b),m=He(b),N=m.concat(j),v=m.concat(A),h=()=>{i({type:"errorIban",payload:""})},d=o=>{i({type:"isLoadingSubmit",payload:!0}),i({type:"isDisabledBtn",payload:!0}),o.type="noIbanMandate",l(o)},E=()=>{r(!0),p.push(F.MANAGE_PAYMENTS_URL.INDEX)},x={label:b("managePayments.form.goNext"),align:"right",loader:u},S={enabled:!0,disabled:g,label:b("managePayments.form.goBack"),align:"left",onClick:E,loader:s};return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:b("managePayments.form.title_payment_mode_selected")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:77,columnNumber:7},void 0),n.jsxDEV(Ve,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:80,columnNumber:7},void 0),n.jsxDEV(be,{initialValues:{ownerName:"",iban:"",iban_field_1:"",iban_field_2:"",iban_field_3:"",iban_field_4:"",iban_field_5:"",iban_field_6:"",iban_field_7:""},validationSchema:e?v:N,validateOnBlur:!0,validateOnChange:!1,onSubmit:d,children:({handleSubmit:o})=>n.jsxDEV("form",{onSubmit:o,children:[n.jsxDEV("div",{id:"iban-form",children:n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:b("managePayments.form.title_add_iban")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:106,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:105,columnNumber:15},void 0),n.jsxDEV(ge,{displayOwnerName:!0,isInternational:!0,displayInternationalIban:e,setDisplayInternationalIban:t,validationError:f,resetValidationError:h},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:115,columnNumber:15},void 0),n.jsxDEV(ve,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:123,columnNumber:15},void 0),n.jsxDEV(pe,{next:x,previous:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:124,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:104,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:81,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanMandateForm.tsx",lineNumber:76,columnNumber:5},void 0)},$n=()=>{const[e,t]=D.useState(!1),[s,r]=D.useState(!1),{state:a,dispatch:i,onSubmit:l}=D.useContext(T),c=a||{},{isLoadingSubmit:u,errorIban:f,isDisabledBtn:g}=c,p=fe(),{t:b}=P(),j=[{label:b("civility.mrs"),value:"MME"},{label:b("civility.mr"),value:"M"}],A=Ne(b),m=he(b),N=Na(b),v=ja(b),h=N.concat(A).concat(v),d=N.concat(m).concat(v),E=()=>{i({type:"errorIban",payload:""})},x=()=>{r(!0),p.push(F.MANAGE_PAYMENTS_URL.INDEX)},S={label:b("managePayments.form.goNext"),align:"right",loader:u},o={enabled:!0,disabled:g,label:b("managePayments.form.goBack"),align:"left",onClick:x,loader:s},I=w=>{i({type:"isLoadingSubmit",payload:!0}),i({type:"isDisabledBtn",payload:!0}),l(w)};return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:b("managePayments.form.title_payment_mode_selected")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:97,columnNumber:7},void 0),n.jsxDEV(Ve,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:100,columnNumber:7},void 0),n.jsxDEV(be,{initialValues:{civility:"",surname:"",name:"",phoneNumber:"",iban:"",iban_field_1:"",iban_field_2:"",iban_field_3:"",iban_field_4:"",iban_field_5:"",iban_field_6:"",iban_field_7:""},validationSchema:e?d:h,validateOnBlur:!0,validateOnChange:!1,onSubmit:I,children:({errors:w,touched:_,handleBlur:M,handleSubmit:V,values:k,setFieldTouched:R,setFieldValue:B})=>n.jsxDEV("form",{onSubmit:V,children:[n.jsxDEV("div",{id:"owner-info",className:"mb-5",children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3 mb-lg-4",children:b("managePayments.form.title_civility")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:137,columnNumber:17},void 0),n.jsxDEV(y.SzTypographie,{variant:"caption",size:"M",className:"mb-2 mb-lg-3",children:b("managePayments.form.all_fields_mandatory")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:145,columnNumber:17},void 0),n.jsxDEV("div",{className:"col-12 col-lg-9 mb-3 px-0",children:[n.jsxDEV("label",{id:"civility-aria-label",className:"mb-1",htmlFor:"civilityInput",children:n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",className:"text-primary-dark mb-0",children:b("managePayments.form.label_civility")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:158,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:153,columnNumber:19},void 0),n.jsxDEV(y.SzSelect,{id:"civility",name:"civility",placeholder:b("managePayments.form.placeholder_civility"),options:j,value:k.civility,onChange:C=>{B("civility",C)},onBlur:()=>R("civility",!0),isSearchable:!1,variant:"outlined",inputId:"subjectInput","aria-labelledby":"civility-aria-label"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:166,columnNumber:19},void 0),n.jsxDEV("div",{className:"mt-2",children:n.jsxDEV(se,{customDisplay:_.civility&&w.civility,field:"civility"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:182,columnNumber:21},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:181,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:152,columnNumber:17},void 0),n.jsxDEV("div",{className:"col-12 col-lg-9 mb-3 px-0",children:[n.jsxDEV(y.SzInput,{name:"surname",id:"surname",value:k.surname,autocomplete:"given-name",onChange:C=>{const{value:L,name:z}=C.target;B(z,ce(L))},onBlur:M,label:b("customerService.label_firstName"),placeholder:b("customerService.placeholder_firstName"),variant:"outlined",valid:!w.surname},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:189,columnNumber:19},void 0),n.jsxDEV(se,{customDisplay:_.surname&&w.surname,field:"surname"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:204,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:188,columnNumber:17},void 0),n.jsxDEV("div",{className:"col-12 col-lg-9 mb-3 px-0",children:[n.jsxDEV(y.SzInput,{name:"name",id:"name",value:k.name,autocomplete:"family-name",onChange:C=>{const{value:L,name:z}=C.target;B(z,ce(L))},onBlur:M,label:b("customerService.label_lastName"),placeholder:b("customerService.placeholder_lastName"),variant:"outlined",valid:!w.name},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:210,columnNumber:19},void 0),n.jsxDEV(se,{customDisplay:_.name&&w.name,field:"name"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:225,columnNumber:19},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:209,columnNumber:17},void 0),n.jsxDEV("div",{className:"mb-3",children:n.jsxDEV(va,{info:b("phoneNumber.info")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:231,columnNumber:19},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:230,columnNumber:17},void 0),n.jsxDEV(ve,{isFinalize:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:233,columnNumber:17},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:136,columnNumber:15},void 0),n.jsxDEV("div",{id:"iban-form",children:n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:b("managePayments.form.title_add_iban")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:236,columnNumber:17},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:235,columnNumber:15},void 0),n.jsxDEV(ge,{isInternational:!0,displayInternationalIban:e,setDisplayInternationalIban:t,validationError:f,resetValidationError:E},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:245,columnNumber:15},void 0),n.jsxDEV(pe,{next:S,previous:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:252,columnNumber:15},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:135,columnNumber:13},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:101,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/NoIbanNoMandateForm.tsx",lineNumber:96,columnNumber:5},void 0)};function _a(){const{t:e}=P();return n.jsxDEV(n.Fragment,{children:n.jsxDEV(ga,{context:"IBAN",children:n.jsxDEV(ee,{id:"dashboard-redirect-btn",variant:"contained",border:"soft",to:F.DASHBOARD,children:e("managePayments.form.errors.dashboard_btn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodError.tsx",lineNumber:13,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodError.tsx",lineNumber:12,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodError.tsx",lineNumber:11,columnNumber:5},this)}function On(){const{t:e}=P();return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3",children:e("managePayments.monthly_amount_error.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:27,columnNumber:7},this),n.jsxDEV(y.SzTypographie,{className:"mb-4 mb-lg-5 new-line",children:e("managePayments.monthly_amount_error.body",{amount:pa})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:30,columnNumber:7},this),n.jsxDEV(ee,{id:"backBtn",variant:"contained",border:"soft",to:de(F.ACCOUNT_PAYMENT_METHODS),children:e("managePayments.monthly_amount_error.back")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:35,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:26,columnNumber:5},this)}const Tn=({data:e,isLoading:t,isError:s})=>{const{state:r}=D.useContext(T),{montantMensu:a,paymentMethod:i}=r||{};if(t)return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(K,{width:300,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:55,columnNumber:9},void 0),n.jsxDEV(K,{className:"mt-4",width:600,height:150},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:56,columnNumber:9},void 0),n.jsxDEV(K,{className:"mt-5",width:300,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:57,columnNumber:9},void 0),n.jsxDEV(K,{className:"mt-4",width:600,height:100},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:58,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:54,columnNumber:7},void 0);if(s||!e)return n.jsxDEV(_a,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:64,columnNumber:12},void 0);if(i==="M"&&pa>Number(a))return n.jsxDEV(On,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:68,columnNumber:12},void 0);const{has_mandate:l,iban:c}=e.data.content;return n.jsxDEV(n.Fragment,{children:[!l&&!c&&n.jsxDEV($n,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:75,columnNumber:33},void 0),!l&&c&&n.jsxDEV(Fn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:76,columnNumber:32},void 0),l&&c&&n.jsxDEV(Cn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:77,columnNumber:31},void 0),l&&!c&&n.jsxDEV(Ln,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:78,columnNumber:32},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:74,columnNumber:5},void 0)};function zn(){var u;const e=fa(),t=!!((u=e==null?void 0:e.state)!=null&&u.showEfacture),{state:s,dispatch:r}=D.useContext(T),{paymentMethod:a}=s||{},{data:i,isLoading:l,isError:c}=De("managePayment",()=>ie.get(oe.GET_MANAGE_PAYMENT,{params:{action:a,enable_tracking:1,e_invoice:t?1:0}}),{onSuccess:({data:f})=>{const{has_mandate:g,iban:p,titulaire:b,libelle_calcul:j,montant_mensu:A,is_iban_different_with_search_mandate:m}=f.content;r({type:"titulaire",payload:b}),r({type:"libelleCalcul",payload:j}),r({type:"montantMensu",payload:A}),r({type:"iban",payload:p}),r({type:"hasMandate",payload:g}),r({type:"isIbanDifferentWithSearchMandate",payload:m})}});return n.jsxDEV("div",{id:"payment-methods",children:n.jsxDEV(Tn,{data:i,isLoading:l,isError:c},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:126,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMode.tsx",lineNumber:125,columnNumber:5},this)}const Zn=()=>{var u;const e=Ae(),t=fe(),s=oe.PAYMENT.GET_PAYMENT_MODE_LIST,{data:r,isLoading:a}=De("getBankInfos",()=>ie.get(s),{onSuccess:({data:f})=>{const g=f.content,{paymentModesList:p}=g,b=Object.values(p).every(N=>!N),j=de(F.ACCOUNT_PAYMENT_METHODS),A=p.monthlyPayment&&p.directDebitPayment,m=p.monthlyPayment?Ra:p.directDebitPayment?Ca:"";A||t.push({pathname:j,search:`?payment_mode=${m}`,state:{showEfacture:!0}}),b&&t.push(F.ACCOUNT_PAYMENT_MANAGE)}}),i=((u=r==null?void 0:r.data)==null?void 0:u.content)||{},{paymentModesTitleCode:l,paymentModesList:c}=i;return n.jsxDEV(n.Fragment,{children:a?n.jsxDEV(n.Fragment,{children:[n.jsxDEV(K,{width:e?256:622,height:46,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/EfacturePaymentChoice.tsx",lineNumber:73,columnNumber:11},void 0),n.jsxDEV(K,{width:e?256:622,height:300},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/EfacturePaymentChoice.tsx",lineNumber:74,columnNumber:11},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/EfacturePaymentChoice.tsx",lineNumber:72,columnNumber:9},void 0):n.jsxDEV(n.Fragment,{children:n.jsxDEV(La,{paymentModesList:c,paymentListTitle:l,allModes:!1,efacture:!0},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/EfacturePaymentChoice.tsx",lineNumber:78,columnNumber:11},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/EfacturePaymentChoice.tsx",lineNumber:77,columnNumber:9},void 0)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/EfacturePaymentChoice.tsx",lineNumber:70,columnNumber:5},void 0)};function Un(){var m,N,v,h;const{t:e}=P(),t=Ae(),{search:s}=fa(),{link:r}=(v=(N=(m=window.tsme_data)==null?void 0:m.footer)==null?void 0:N.links_bottom)==null?void 0:v.credits_url,a=new URLSearchParams(s),i=a.get("e-facture")==="true",l=a.get("reference")||void 0;let c,u;i?(c=l?"managePayments.validate.efacture_ref.title":"managePayments.validate.efacture_no_ref.title",u=l?"managePayments.validate.efacture_ref.subtitle":"managePayments.validate.efacture_no_ref.subtitle"):(c=l?"managePayments.validate.no_efacture_ref.title":"managePayments.validate.no_efacture_no_ref.title",u=l?"managePayments.validate.no_efacture_ref.subtitle":"managePayments.validate.no_efacture_no_ref.subtitle");const{data:f,isError:g,isLoading:p,error:b}=De("postPaymentEInvoice",()=>ie.post(oe.PAYMENT.POST_PAYMENT_E_INVOICE),{enabled:i});if(p)return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(K,{width:t?256:622,height:46,className:"mb-3"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:56,columnNumber:9},this),n.jsxDEV(K,{width:t?256:622,height:300},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:57,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:55,columnNumber:7},this);const j=((h=f==null?void 0:f.data)==null?void 0:h.message)||"";(f&&j!==U.PAYMENT_E_INVOICE_OK||b&&b.code===U.ECONNABORTED||g)&&(c=l?"managePayments.validate.efacture_ref.title_ko":"managePayments.validate.efacture_no_ref.title_ko",u=l?"managePayments.validate.efacture_ref.subtitle_ko":"managePayments.validate.efacture_no_ref.subtitle_ko");const A=de(F.DOWNLOAD_MANDATE_PDF,{codeSystem:"98",refClient:l});return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(y.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-2",children:e(c)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:85,columnNumber:7},this),n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",className:"text-dark mb-4 new-line",children:n.jsxDEV(re,{i18nKey:u,components:{redirect:n.jsxDEV(Ee,{decorate:!0,to:r,target:"_blank",className:"sz-typo-caption font-family-medium"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:98,columnNumber:15},this)}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:94,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:89,columnNumber:7},this),n.jsxDEV("div",{className:"text-left",children:[l&&n.jsxDEV("div",{className:"d-block",children:n.jsxDEV(ee,{className:"",variant:"contained",border:"soft",to:A,target:"_blank",children:e("managePayments.validate.button_mandate")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:111,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:110,columnNumber:11},this),n.jsxDEV(ee,{id:"dashboard-redirect",className:"pl-0 mt-2",to:F.DASHBOARD,variant:"text",icon:"keyboard-arrow-left",alignIcon:"left",children:e("managePayments.validate.button_dashboard")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:123,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:108,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/PaymentMethodValidation.tsx",lineNumber:84,columnNumber:5},this)}const T=D.createContext({state:{},dispatch:()=>{},onSubmit:()=>{}}),ze={paymentMethod:"",showEditIban:!1,lastUrlEfacture:!1,isLoadingSubmit:!1,isDisabledBtn:!1,titulaire:"",errorIban:"",montant_mensu:"",libelle_calcul:"",iban:"",hasMandate:null,isIbanDifferentWithSearchMandate:null};function Hn(){var h;const e=Ae(),{t}=P(),s=Ie.useHistory(),r=Ie.useLocation(),{search:a}=r,{action:i}=Ie.useParams(),l=!!((h=r==null?void 0:r.state)!=null&&h.showEfacture),c=new URLSearchParams(a),u=c.get("payment_mode")||"",f=c.get("e-facture"),g=i==="confirmation",p={mensualisation:"M",prelevement:"P"};ze.paymentMethod=p[u];const[b,j]=D.useReducer(Bn,ze),A=D.useMemo(()=>({state:b,dispatch:j}),[b,j]);if(p[u]===void 0&&!g&&f!=="true"&&i!=="erreur")return s.push(F.ACCOUNT_PAYMENT_MANAGE),null;$a();const m=ba(d=>ie.post(oe.POST_MANAGE_PAYMENT,d),{onSuccess:({data:d})=>{const{urlSEPA:E}=(d==null?void 0:d.content)||"";if(j({type:"isLoadingSubmit",payload:!1}),j({type:"isDisabledBtn",payload:!1}),E)window.location.href=E;else{const x=new URLSearchParams;x.set("e-facture",l.toString());const S=de(F.ACCOUNT_PAYMENT_METHODS.concat(`?${x.toString()}`),{action:"confirmation"});s.push(S)}},onError:d=>{var E,x,S;j({type:"isLoadingSubmit",payload:!1}),j({type:"isDisabledBtn",payload:!1}),((E=d==null?void 0:d.response)==null?void 0:E.status)===400&&(((S=(x=d==null?void 0:d.response)==null?void 0:x.data)==null?void 0:S.trackableMessage)===U.IBAN_KO?j({type:"errorIban",payload:t("IBAN.errors.incorrect")}):window.location.href=de(F.ACCOUNT_PAYMENT_METHODS,{action:"erreur"}))}}),N=d=>{let E=b==null?void 0:b.iban;if(d.iban_field_1){E="";for(let x=0;x<7;x++)E+=d[`iban_field_${x+1}`]}else d.iban&&(E=d.iban);return E},v=d=>{var M;const E=b||{},{paymentMethod:x,iban:S,isIbanDifferentWithSearchMandate:o,hasMandate:I,titulaire:w}=E;let _={action:x,iban:S,has_iban_different_with_search_mandate:o||"0",has_mandate:I?"1":"0"};if((d==null?void 0:d.type)==="noIbanMandate")_.iban=N(d),_.holder=d==null?void 0:d.ownerName;else if((d==null?void 0:d.type)!=="noDataForm"){const V={M:t("managePayments.civilty.mr"),MME:t("managePayments.civilty.mrs")};_.iban=N(d),_.civility=V[(M=d==null?void 0:d.civility)==null?void 0:M.value],_.first_name=d==null?void 0:d.surname,_.last_name=d==null?void 0:d.name,_.mobile_phone=d==null?void 0:d.phoneNumber}else _.holder=w;j({type:"errorIban",payload:""}),m.mutate(_)};return n.jsxDEV(T.Provider,{value:{...A,onSubmit:v},children:n.jsxDEV(ha,{id:"payment-methods",type:"payment",children:[n.jsxDEV(y.SzTypographie,{variant:"H1",size:e?"L":"XL",align:"center",color:"light",weight:"black",className:"mb-4 text-uppercase",children:t("managePayments.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/index.tsx",lineNumber:212,columnNumber:9},this),n.jsxDEV("div",{className:"bg-white rounded-3 position-relative mx-auto mb-lg-3 px-3 px-lg-6 py-4 py-lg-5",style:{maxWidth:750},children:p[u]?n.jsxDEV(zn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/index.tsx",lineNumber:228,columnNumber:13},this):g?n.jsxDEV(Un,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/index.tsx",lineNumber:230,columnNumber:13},this):f==="true"?n.jsxDEV(Zn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/index.tsx",lineNumber:232,columnNumber:13},this):n.jsxDEV(_a,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/index.tsx",lineNumber:234,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/index.tsx",lineNumber:223,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/payment-methods/index.tsx",lineNumber:211,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/payment-methods/index.tsx",lineNumber:210,columnNumber:5},this)}const ut=Object.freeze(Object.defineProperty({__proto__:null,PaymentMethodsContext:T,default:Hn,initialState:ze},Symbol.toStringTag,{value:"Module"})),Gn=D.forwardRef(function(t,s){const{t:r}=P(),{values:a,setFieldValue:i,handleBlur:l,touched:c,errors:u}=Se(),{setIsErrorValidation:f}=D.useContext(Q),{dispatch:g}=D.useContext(T),p=j=>{Q&&f(!1),T&&g({type:"errorIban",payload:""});const{value:A,name:m}=j.target,N=A.replace(/\s+/g,"").toUpperCase();i(m,N),N.length>=34&&i(m,N.slice(0,34))},b=j=>{s.current=j};return n.jsxDEV("div",{className:"col-12 col-lg-9 px-0 mt-4",children:[n.jsxDEV("div",{className:"sz-form-group form-group-outlined",children:[n.jsxDEV("label",{className:"sz-line-height-normal mb-2",children:n.jsxDEV("span",{className:"sz-typo-body font-family-regular text-primary-dark",children:r("IBAN.addIban.iban_label")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:44,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:43,columnNumber:9},this),n.jsxDEV("div",{className:"input-group",children:n.jsxDEV(Vn,{name:"iban",className:"iban-input form-control rounded-1",mask:"#### #### #### #### #### #### #### #### ##",placeholder:"---- ---- ---- ---- ---- ---- ----",maskChar:"",onChange:p,onBlur:l,value:a.iban||"",formatChars:{"#":"^."},autoComplete:"off",id:"international-iban-input",inputRef:b},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:42,columnNumber:7},this),u.iban&&c.iban&&n.jsxDEV("div",{"data-cy":"error-iban",role:"alert",children:[n.jsxDEV(y.SzTypographie,{variant:"caption",color:"danger",className:"mb-2",children:u.iban},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:68,columnNumber:11},this),n.jsxDEV("span",{className:"sr-only",children:u.iban},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:67,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/InternationalIbanInput.jsx",lineNumber:41,columnNumber:5},this)});function Kn(){const{t:e}=P(),{values:t,touched:s,handleBlur:r,errors:a,setFieldValue:i}=Se(),l=c=>{const{value:u,name:f}=c.target;i(f,ce(u))};return n.jsxDEV("div",{className:"col-12 col-lg-9",children:[n.jsxDEV(y.SzInput,{variant:"outlined",name:"ownerName",value:t.ownerName,onChange:l,valid:!a.ownerName,label:e("IBAN.addIban.owner_label"),placeholder:e("IBAN.addIban.owner_label"),onBlur:r,autocomplete:"name"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/OwnerNameInput.jsx",lineNumber:19,columnNumber:7},this),a.ownerName&&s.ownerName&&n.jsxDEV("div",{"data-cy":"error-ownerName",role:"alert",children:[n.jsxDEV(y.SzTypographie,{variant:"caption",color:"danger",className:"mb-2",children:a.ownerName},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/OwnerNameInput.jsx",lineNumber:32,columnNumber:11},this),n.jsxDEV("span",{className:"sr-only",children:a.ownerName},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/OwnerNameInput.jsx",lineNumber:35,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/OwnerNameInput.jsx",lineNumber:31,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/OwnerNameInput.jsx",lineNumber:18,columnNumber:5},this)}function ge({displayOwnerName:e=!1,isInternational:t,displayInternationalIban:s,setDisplayInternationalIban:r,validationError:a,resetValidationError:i,disabledInternationalIban:l}){const{t:c}=P(),{resetForm:u,values:f,touched:g,errors:p}=Se(),[b,j]=D.useState(!1),{setIsErrorValidation:A,isErrorValidation:m,ibanError:N}=D.useContext(Q),v=D.useRef(),h=D.useRef(),d=Xe(g,"iban_field_"),E=Xe(p,"iban_field_"),x=Object.keys(d).length>0,S=Object.keys(E).length>0,o=h.current===document.activeElement,I=v.current===document.activeElement,w=()=>{a&&i(),A(!1)},_=()=>{u({values:{...f,iban:"",iban_field_1:"",iban_field_2:"",iban_field_3:"",iban_field_4:"",iban_field_5:"",iban_field_6:"",iban_field_7:""}}),w(),r(M=>!M)};return n.jsxDEV(n.Fragment,{children:[e&&n.jsxDEV("div",{className:"row no-gutters mt-4",children:n.jsxDEV(Kn,{},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:67,columnNumber:9},this),s?n.jsxDEV(n.Fragment,{children:[n.jsxDEV(Gn,{ref:h},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:73,columnNumber:11},this),n.jsxDEV(Oe,{condition:!o&&(m||N||a),children:c("IBAN.errors.incorrect")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:72,columnNumber:9},this):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("label",{className:"sz-form-group__label sz-line-height-normal mb-2 mt-4",children:n.jsxDEV(y.SzTypographie,{variant:"body",size:"M",weight:"regular",tag:"span",className:"text-primary-dark",children:c("IBAN.addIban.iban_label")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:86,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:85,columnNumber:11},this),n.jsxDEV("div",{className:"row no-gutters",children:[n.jsxDEV(fn,{setIbanFieldFocused:j,onChange:w,ref:v},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:97,columnNumber:13},this),n.jsxDEV(Oe,{condition:!b&&!I&&x&&S,children:c("IBAN.errors.iban",{length:X})},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:102,columnNumber:13},this),n.jsxDEV(Oe,{condition:!b&&!I&&(m||N||a),children:c("IBAN.errors.incorrect")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:84,columnNumber:9},this),t&&n.jsxDEV("div",{className:"row no-gutters",children:n.jsxDEV(y.SzButton,{onClick:_,variant:"text",isDisabled:l,className:"sz-typo-caption md pl-0",type:"button","data-cy":"iban-switch-display",children:c(s?"IBAN.international.french":"IBAN.international.foreign")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:126,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:125,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:65,columnNumber:5},this)}const Oe=({children:e,condition:t})=>t?n.jsxDEV("div",{className:"col-12 px-0","data-cy":"error-iban-validation",role:"alert",children:[n.jsxDEV(y.SzTypographie,{variant:"caption",color:"danger",className:"mb-2",children:e},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:149,columnNumber:7},void 0),n.jsxDEV("span",{className:"sr-only",children:e},void 0,!1,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:152,columnNumber:7},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/tsme-react-components/components/IbanForm/index.jsx",lineNumber:148,columnNumber:5},void 0):null;export{ge as I,Ge as R,Ne as a,Ie as b,lt as c,ut as d,he as i,Ta as r};

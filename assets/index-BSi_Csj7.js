import{j as e,b as s}from"./index-BzhTyqaY.js";import"./index-0X8QCd_i.js";import{R as w,L as h}from"./main-BbuvrTKi.js";import{u as k}from"./useMutation-DnofRurj.js";import{u as I}from"./useQuery-DDRZMcvI.js";import{f as z,C as T,a as D,A as g}from"./AxiosInstance-BZZbXQ8a.js";import{T as y,c as N,r as A,C as _,t as E,B as R}from"./react-spring-web.esm-DsMzZgQq.js";import{G as P}from"./index-2r8MWarU.js";import{u as c}from"./useTranslation-BYGhmYBG.js";import{S as u}from"./index-R4VhrMC6.js";import{u as O}from"./useResponsive-DQBhMvnf.js";import"./index-BoI371yk.js";import"./index-4p5aklhB.js";import"./throttle-C5YRRb_b.js";import"./_baseIsEqual-DwR-aJgz.js";import"./iframe-CrganuSH.js";import"../sb-preview/runtime.js";import"./nonIterableRest-CnCppAvF.js";import"./formik.esm-DgjVmEdT.js";import"./index-m5SwaE3w.js";import"./recaptcha-wrapper-CLWKokWK.js";import"./index-E8Xemi00.js";/* empty css              *//* empty css                         */function H(o=[],r,n){const a=o.filter(({role:i,reason_code:t})=>r.includes(i));return a.length?a[0]:{enabled:null,reason_code:null}}function M({contractName:o,onClick:r}){const{t:n}=c();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3",children:n("proofOfResidence.subscribProofTitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:17,columnNumber:7},this),e.jsxDEV(s.SzAlert,{variant:"success",className:"py-2 mb-4",children:e.jsxDEV(s.SzTypographie,{className:"my-3",children:e.jsxDEV(y,{i18nKey:"proofOfResidence.downloadSuccess",values:{contractName:o},components:[e.jsxDEV(s.SzButton,{className:"download-link m-0 p-0 h-auto","data-cy":"download-link",variant:"text",onClick:r},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:26,columnNumber:15},this)]},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:22,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:21,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:20,columnNumber:7},this),e.jsxDEV(N,{className:"pl-0",icon:"keyboard-arrow-left",to:w.DASHBOARD,children:n("proofOfResidence.dashboardBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:36,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:16,columnNumber:5},this)}function F({contractName:o,reason_code:r}){const{t:n}=c();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-3",children:n("proofOfResidence.subscribProofTitle")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:52,columnNumber:7},this),e.jsxDEV(s.SzAlert,{className:"py-3 mb-4",children:e.jsxDEV("div",{children:e.jsxDEV(s.SzTypographie,{className:"mb-0",children:n("proofOfResidence.downloadError",{context:r,contractName:o})},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:57,columnNumber:11},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:56,columnNumber:9},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:55,columnNumber:7},this),e.jsxDEV(N,{className:"pl-0",icon:"keyboard-arrow-left",to:w.DASHBOARD,children:n("proofOfResidence.dashboardBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:65,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/Download.jsx",lineNumber:51,columnNumber:5},this)}function L({isLoading:o,data:r}){const{t:n}=c(),{name:a,company_name:i,served_address:t,reference:l}=r;return e.jsxDEV("div",{className:"position-relative",children:[e.jsxDEV("div",{className:"bg-white d-flex align-items-center position-absolute",style:{top:"-20px",left:"1.5rem"},children:[e.jsxDEV(s.SzIcon,{icon:"business-contract-handshake-sign",variant:"line"},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:17,columnNumber:9},this),o?e.jsxDEV(u,{className:"mx-2",width:100,height:20},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:19,columnNumber:11},this):e.jsxDEV(s.SzTypographie,{weight:"bold",className:"ml-2 mb-0 text-uppercase",children:a},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:21,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:13,columnNumber:7},this),e.jsxDEV("div",{className:"row no-gutters justify-content-lg-between border rounded-1 mb-4 mb-lg-5 p-4 ",children:[e.jsxDEV(s.SzData,{className:"mb-3 mb-md-0",children:[e.jsxDEV(s.SzTypographie,{variant:"caption",size:"M",color:"disabled",children:n("proofOfResidence.contractOwner")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:28,columnNumber:11},this),o?e.jsxDEV(u,{width:150,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:32,columnNumber:13},this):e.jsxDEV(s.SzData.Title,{children:i},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:34,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:27,columnNumber:9},this),e.jsxDEV(s.SzData,{className:"mb-3 mb-md-0",children:[e.jsxDEV(s.SzTypographie,{variant:"caption",size:"M",color:"disabled",children:n("proofOfResidence.contractAddress")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:38,columnNumber:11},this),o?e.jsxDEV(u,{width:150,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:42,columnNumber:13},this):e.jsxDEV(s.SzData.Title,{children:t},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:44,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV(s.SzData,{className:"mb-3 mb-md-0",children:[e.jsxDEV(s.SzTypographie,{variant:"caption",size:"M",color:"disabled",children:n("proofOfResidence.contractRefClient")},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:48,columnNumber:11},this),o?e.jsxDEV(u,{width:150,height:30},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:52,columnNumber:13},this):e.jsxDEV(s.SzData.Title,{children:A(l)},void 0,!1,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:26,columnNumber:7},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/components/ContractInfosBlock/index.tsx",lineNumber:12,columnNumber:5},this)}function U({isLoading:o,data:r,onClick:n,btnLoading:a}){var t,l;const{t:i}=c();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s.SzTypographie,{variant:"H3",size:"L",weight:"medium",className:"mb-5",children:i("proofOfResidence.subscribeProofForContract")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/ContractInfos.jsx",lineNumber:16,columnNumber:7},this),e.jsxDEV(L,{data:((l=(t=r==null?void 0:r.data)==null?void 0:t.content)==null?void 0:l.contracts[0])||{},isLoading:o},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/ContractInfos.jsx",lineNumber:19,columnNumber:7},this),!o&&e.jsxDEV(s.SzButton,{"data-cy":"download-btn",variant:"contained",border:"soft",onClick:n,loader:a,children:i("proofOfResidence.downloadBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/ContractInfos.jsx",lineNumber:24,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/ContractInfos.jsx",lineNumber:15,columnNumber:5},this)}function Ne(){var j,v;const{t:o}=c(),r=O(),n=I("getUserPro",()=>D.get(g.GET_USER_PRO)),{isSuccess:a,isError:i,isLoading:t,data:l=z({contracts:{roles:[]}})}=n,{roles:V,name:p}=((v=(j=l.data)==null?void 0:j.content)==null?void 0:v.contracts[0])||{},{enabled:b,reason_code:S}=H(V,T.ATTESTATION_ABO),m=k(()=>D.get(g.CERTIFICATE_SUBSCRIPTION),{onSuccess:({data:d})=>{const{rawData:f,filename:C}=d.content;E.fromBase64(f,C,h)}}),x=()=>{if(m.isSuccess){const{rawData:d,filename:f}=m.data.data.content;E.fromBase64(d,f,h)}else m.mutate()},B=()=>e.jsxDEV(e.Fragment,{children:[(t||a&&b)&&e.jsxDEV(U,{...n,onClick:x,btnLoading:m.isLoading},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:62,columnNumber:11},this),!t&&b===!1&&e.jsxDEV(F,{contractName:p,reason_code:S},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:69,columnNumber:11},this),i&&e.jsxDEV(P,{context:"proofOfResidence",children:e.jsxDEV(N,{variant:"contained",border:"soft",to:w.DASHBOARD,children:o("proofOfResidence.dashboardBtn")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:60,columnNumber:7},this);return e.jsxDEV(_,{tag:"main",className:"px-0 bg-brand-dark proof-of-residence overflow-hidden",fullscreen:!0,children:e.jsxDEV("div",{className:"container pb-5 position-relative",children:[e.jsxDEV(G,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:89,columnNumber:9},this),e.jsxDEV(s.SzTypographie,{variant:"H1",weight:"black",size:r?"L":"XL",align:"center",color:"white",className:"mt-lg-3 mb-4 text-uppercase",children:o("proofOfResidence.title")},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:90,columnNumber:9},this),e.jsxDEV("div",{className:"bg-white rounded-3 position-relative mx-auto px-3 px-lg-6 py-4 py-lg-5 mb-6 mb-lg-0",style:{maxWidth:750},"data-cy":"por-content",children:m.isSuccess?e.jsxDEV(M,{contractName:p,onClick:x},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:106,columnNumber:13},this):e.jsxDEV(B,{},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:108,columnNumber:13},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:100,columnNumber:9},this)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:88,columnNumber:7},this)},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:83,columnNumber:5},this)}const G=()=>{const o=O(),{logo_background:r}=window.tsme_data.header;return e.jsxDEV("div",{className:"background",children:[e.jsxDEV(R,{color:"dark",size:o?"sm":"md",position:"31"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:122,columnNumber:7},void 0),e.jsxDEV(R,{color:"green",size:o?"sm":"md",position:"32"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:123,columnNumber:7},void 0),e.jsxDEV("div",{className:"rounded-img-1"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:124,columnNumber:7},void 0),e.jsxDEV("div",{className:"rounded-img-2"},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:125,columnNumber:7},void 0),r&&e.jsxDEV("div",{className:"s-suez",style:{backgroundImage:`url(${r})`}},void 0,!1,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:127,columnNumber:9},void 0)]},void 0,!0,{fileName:"/usr/var/www/assets/js/pages/proofOfResidence/index.jsx",lineNumber:121,columnNumber:5},void 0)};export{G as ProofOfResidenceBackground,Ne as default};
